// build time:Fri Jul 17 2020 23:03:27 GMT+0800 (GMT+08:00)
var searchFunc=function(e,c,t){"use strict";var l="<i id='local-search-close'>x</i>";$.ajax({url:e,dataType:"xml",success:function(e){var a=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get();var r=document.getElementById(c);var i=document.getElementById(t);r.addEventListener("input",function(){var e='<ul class="search-result-list">';var c=this.value.trim().toLowerCase().split(/[\s\-]+/);i.innerHTML="";if(this.value.trim().length<=0){return}a.forEach(function(t){var l=true;var a=[];if(!t.title||t.title.trim()===""){t.title="Untitled"}var r=t.title.trim().toLowerCase();var i=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase();var s=t.url;var n=-1;var o=-1;var h=-1;if(i!==""){c.forEach(function(e,c){n=r.indexOf(e);o=i.indexOf(e);if(n<0&&o<0){l=false}else{if(o<0){o=0}if(c==0){h=o}}})}else{l=false}if(l){e+="<li><a href='"+s+"' class='search-result-title'>"+r+"</a>";var u=t.content.trim().replace(/<[^>]+>/g,"");if(h>=0){var f=h-20;var v=h+80;if(f<0){f=0}if(f==0){v=100}if(v>u.length){v=u.length}var m=u.substr(f,v);c.forEach(function(e){var c=new RegExp(e,"gi");m=m.replace(c,'<em class="search-keyword">'+e+"</em>")});e+='<p class="search-result">'+m+"...</p>"}e+="</li>"}});e+="</ul>";if(e.indexOf("<li>")===-1){return i.innerHTML=l+"<ul><span class='local-search-empty'>没有找到内容，更换下搜索词试试吧~<span></ul>"}i.innerHTML=l+e})}});$(document).on("click","#local-search-close",function(){$("#local-search-input").val("");$("#local-search-result").html("");$("#local-search-icon-close").html("🔍");$("#local-search-icon-close").attr("id","local-search-icon-search")});$(document).on("focus","#local-search",function(){$("#local-search-icon-search").html("❌");$("#local-search-icon-search").attr("id","local-search-icon-close")});$(document).on("click","#local-search-icon-close",function(){$("#local-search-input").val("");$("#local-search-result").html("");$("#local-search-icon-close").html("🔍");$("#local-search-icon-close").attr("id","local-search-icon-search")})};
//rebuild by neat 
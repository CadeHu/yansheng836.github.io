<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>荷塘月色的博客</title>
  
  <subtitle>每天进步一点点</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.yansheng.xyz/"/>
  <updated>2020-08-12T05:14:57.765Z</updated>
  <id>https://www.yansheng.xyz/</id>
  
  <author>
    <name>荷塘月色</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>hexo+yilia集成本地搜索</title>
    <link href="https://www.yansheng.xyz/article/915f21c1.html"/>
    <id>https://www.yansheng.xyz/article/915f21c1.html</id>
    <published>2020-08-12T04:06:31.000Z</published>
    <updated>2020-08-12T05:14:57.765Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><p>yilia主题也有集成搜索功能，不过它使用的搜索是基于标题和标签的，有一定的局限性，没有提供全文检索功能。这篇文章介绍的就是集成全文检索和今日诗词。</p><h3 id="效果图">效果图</h3><p><img src="https://oss.yansheng.xyz/picgo/20200411232312.png" alt></p><p>动图<br><img src="https://oss.yansheng.xyz/picgo/hexo-yilia-local-search1.gif" alt></p><a id="more"></a><h2 id="1-集成本地搜索">1.集成本地搜索</h2><p>参考：为 Hexo 博客增加一个站内搜索：<a href="https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/" target="_blank" rel="noopener">https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/</a></p><p><img src="https://oss.yansheng.xyz/picgo/20200411214252.png" alt></p><h3 id="原理说明">原理说明</h3><p>使用<code>hexo-generator-search</code>插件为文章生成一个全局的<code>search.xml</code>，里面包含所有文章的内容（可配置）。然后再去这个文件中搜索关键字，以此来找到需要的文章。</p><h3 id="1-1安装插件">1.1安装插件</h3><p><a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener">https://github.com/wzpan/hexo-generator-search</a></p><p>安装分为两步，首先通过 npm 将插件安装到本地：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>然后在全局（<code>_config.yml</code>）配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">search.xml</span></span><br><span class="line"><span class="attr">  field:</span> <span class="string">all</span></span><br></pre></td></tr></table></figure><ul><li><code>path</code>，生成的路径，上述配置后可以通过 <code>/search.xml</code> 访问到文。</li><li><code>field</code>，用来配置全局检索的区间，可以是 <code>post/page/all</code>。</li></ul><p>重新clean、测试，就可以访问：<a href="http://localhost:4000/search.xml" target="_blank" rel="noopener">http://localhost:4000/search.xml</a> 了。</p><h3 id="1-2为网页添加搜索栏">1.2为网页添加搜索栏</h3><p>参考了博主的代码：<a href="https://github.com/barretlee/hexo-search-plugin-snippets" target="_blank" rel="noopener">https://github.com/barretlee/hexo-search-plugin-snippets</a></p><h4 id="1-2-1添加搜索框">1.2.1添加搜索框</h4><p>在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的<code>&lt;div id=&quot;wrapper&quot; class=&quot;body-wrap&quot;&gt;'</code>后面添加如下代码（同时添加了‘今日诗词’）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.search</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page-header"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%#</span> 今日诗词网址： <span class="attr">https:</span>//<span class="attr">www.jinrishici.com</span>/ %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>🍻  </span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"jinrishici-sentence"</span> <span class="attr">title</span>=<span class="string">"今日诗词"</span>&gt;</span>正在加载今日诗词....<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://sdk.jinrishici.com/v2/browser/jinrishici.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">%#</span> 《集成本地搜索 %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/search.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"local-search"</span> <span class="attr">class</span>=<span class="string">"local-search local-search-plugin"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"search"</span> <span class="attr">placeholder</span>=<span class="string">"站内搜索"</span> <span class="attr">id</span>=<span class="string">"local-search-input"</span> <span class="attr">class</span>=<span class="string">"local-search-input-cls"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">id</span>=<span class="string">"local-search-icon-search"</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span> <span class="attr">title</span>=<span class="string">"站内搜索"</span>&gt;</span>🔍<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"local-search-result"</span> <span class="attr">class</span>=<span class="string">"local-search-result-cls"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> ($(<span class="string">'.local-search'</span>).size()) &#123;</span></span><br><span class="line"><span class="javascript">          $.getScript(<span class="string">'/js/search.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            searchFunc(<span class="string">"/search.xml"</span>, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%#</span> 集成本地搜索》 %&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span> <span class="attr">class</span>=<span class="string">"body-wrap"</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="1-2-2添加js脚本">1.2.2添加js脚本</h4><p>新建文件：<code>H:\Hexo\themes\yilia\source\js\search.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A local search script with the help of hexo-generator-search</span></span><br><span class="line"><span class="comment">// Copyright (C) 2015 </span></span><br><span class="line"><span class="comment">// Joseph Pan &lt;http://github.com/wzpan&gt;</span></span><br><span class="line"><span class="comment">// Shuhao Mao &lt;http://github.com/maoshuhao&gt;</span></span><br><span class="line"><span class="comment">// This library is free software; you can redistribute it and/or modify</span></span><br><span class="line"><span class="comment">// it under the terms of the GNU Lesser General Public License as</span></span><br><span class="line"><span class="comment">// published by the Free Software Foundation; either version 2.1 of the</span></span><br><span class="line"><span class="comment">// License, or (at your option) any later version.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful, but</span></span><br><span class="line"><span class="comment">// WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></span><br><span class="line"><span class="comment">// Lesser General Public License for more details.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// You should have received a copy of the GNU Lesser General Public</span></span><br><span class="line"><span class="comment">// License along with this library; if not, write to the Free Software</span></span><br><span class="line"><span class="comment">// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span></span><br><span class="line"><span class="comment">// 02110-1301 USA</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> searchFunc = <span class="function"><span class="keyword">function</span> (<span class="params">path, search_id, content_id</span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    <span class="keyword">var</span> BTN = <span class="string">"&lt;i id='local-search-close'&gt;x&lt;/i&gt;"</span>;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: path,</span><br><span class="line">        dataType: <span class="string">"xml"</span>,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span> (<span class="params">xmlResponse</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// get the contents from search data</span></span><br><span class="line">            <span class="keyword">var</span> datas = $(<span class="string">"entry"</span>, xmlResponse).map(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    title: $(<span class="string">"title"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">                    content: $(<span class="string">"content"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">                    url: $(<span class="string">"url"</span>, <span class="keyword">this</span>).text()</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;).get();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> $input = <span class="built_in">document</span>.getElementById(search_id);</span><br><span class="line">            <span class="keyword">var</span> $resultContent = <span class="built_in">document</span>.getElementById(content_id);</span><br><span class="line"></span><br><span class="line">            $input.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> str = <span class="string">'&lt;ul class=\"search-result-list\"&gt;'</span>;</span><br><span class="line">                <span class="keyword">var</span> keywords = <span class="keyword">this</span>.value.trim().toLowerCase().split(<span class="regexp">/[\s\-]+/</span>);</span><br><span class="line">                $resultContent.innerHTML = <span class="string">""</span>;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>.value.trim().length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// perform local searching</span></span><br><span class="line">                datas.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> isMatch = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">var</span> content_index = [];</span><br><span class="line">                    <span class="keyword">if</span> (!data.title || data.title.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">                        data.title = <span class="string">"Untitled"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">var</span> data_title = data.title.trim().toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_url = data.url;</span><br><span class="line">                    <span class="keyword">var</span> index_title = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> index_content = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> first_occur = <span class="number">-1</span>;</span><br><span class="line">                    <span class="comment">// only match artiles with not empty contents</span></span><br><span class="line">                    <span class="keyword">if</span> (data_content !== <span class="string">''</span>) &#123;</span><br><span class="line">                        keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword, i</span>) </span>&#123;</span><br><span class="line">                            index_title = data_title.indexOf(keyword);</span><br><span class="line">                            index_content = data_content.indexOf(keyword);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (index_title &lt; <span class="number">0</span> &amp;&amp; index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                isMatch = <span class="literal">false</span>;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                    index_content = <span class="number">0</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                                    first_occur = index_content;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="comment">// content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;);</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        isMatch = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// show search results</span></span><br><span class="line">                    <span class="keyword">if</span> (isMatch) &#123;</span><br><span class="line">                        str += <span class="string">"&lt;li&gt;&lt;a href='"</span> + data_url +</span><br><span class="line">                            <span class="string">"' class='search-result-title'&gt;"</span> + data_title + <span class="string">"&lt;/a&gt;"</span>;</span><br><span class="line">                        <span class="keyword">var</span> content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>);</span><br><span class="line">                        <span class="keyword">if</span> (first_occur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="comment">// cut out 100 characters</span></span><br><span class="line">                            <span class="keyword">var</span> start = first_occur - <span class="number">20</span>;</span><br><span class="line">                            <span class="keyword">var</span> end = first_occur + <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                start = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start == <span class="number">0</span>) &#123;</span><br><span class="line">                                end = <span class="number">100</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (end &gt; content.length) &#123;</span><br><span class="line">                                end = content.length;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">var</span> match_content = content.substr(start, end);</span><br><span class="line"></span><br><span class="line">                            <span class="comment">// highlight all keywords</span></span><br><span class="line">                            keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword</span>) </span>&#123;</span><br><span class="line">                                <span class="keyword">var</span> regS = <span class="keyword">new</span> <span class="built_in">RegExp</span>(keyword, <span class="string">"gi"</span>);</span><br><span class="line">                                match_content = match_content.replace(regS,</span><br><span class="line">                                    <span class="string">"&lt;em class=\"search-keyword\"&gt;"</span> +</span><br><span class="line">                                    keyword + <span class="string">"&lt;/em&gt;"</span>);</span><br><span class="line">                            &#125;);</span><br><span class="line"></span><br><span class="line">                            str += <span class="string">"&lt;p class=\"search-result\"&gt;"</span> + match_content +</span><br><span class="line">                                <span class="string">"...&lt;/p&gt;"</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        str += <span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                str += <span class="string">"&lt;/ul&gt;"</span>;</span><br><span class="line">                <span class="keyword">if</span> (str.indexOf(<span class="string">'&lt;li&gt;'</span>) === <span class="number">-1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> $resultContent.innerHTML = BTN +</span><br><span class="line">                        <span class="string">"&lt;ul&gt;&lt;span class='local-search-empty'&gt;没有找到内容，更换下搜索词试试吧~&lt;span&gt;&lt;/ul&gt;"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                $resultContent.innerHTML = BTN + str;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'focus'</span>, <span class="string">'#local-search'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-icon-search'</span>).html(<span class="string">'❌'</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-search'</span>).attr(<span class="string">'id'</span>, <span class="string">'local-search-icon-close'</span>);</span><br><span class="line">        <span class="comment">//console.log("66666");</span></span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-icon-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-close'</span>).html(<span class="string">'🔍'</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-close'</span>).attr(<span class="string">'id'</span>, <span class="string">'local-search-icon-search'</span>);</span><br><span class="line">        <span class="comment">//console.log("1111");</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-3添加样式文件">1.2.3添加样式文件</h4><p>1.新建：<code>H:\Hexo\themes\yilia\source\search.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.local-search</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">10%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="comment">/* margin: 10px 0; */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#5ad1ed</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-moz-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-ms-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#local-search-close</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">'x'</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: consolas;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(0);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#local-search-close</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#222</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(180deg);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="comment">/* top: 50px; */</span></span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-class">.local-search-empty</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">44px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">450px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255, 255, 255, 0.9);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">4px</span> <span class="number">10px</span> <span class="number">#7dc3d8</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#bdb7b7</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>:none;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>:underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">124px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">em</span><span class="selector-class">.search-keyword</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#e58c7c</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">6</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.将上面的样式引入页面中，修改<code>themes/yilia/layout/_partial/css.ejs</code>，再后面添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"&lt;%=config.root%&gt;./search.css"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.修改<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 页面头部：包含‘今日诗词’，站内搜索 */</span></span><br><span class="line"><span class="selector-class">.page-header</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">30px</span> <span class="number">4px</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all <span class="number">0.2s</span> ease-in;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'微软雅黑'</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 今日诗词 */</span></span><br><span class="line"><span class="selector-id">#jinrishici-sentence</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#27d7a1</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="效果图2">效果图2</h3><p>详见文章<a href="#">开头</a></p><h3 id="参考">参考</h3><ul><li>今日诗词安装：<a href="https://www.jinrishici.com/doc/#json-fast-easy" target="_blank" rel="noopener">https://www.jinrishici.com/doc/#json-fast-easy</a></li><li>为 Hexo 博客增加一个站内搜索：<a href="https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/" target="_blank" rel="noopener">https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/</a></li><li>搜索栏样式参考：<a href="http://liangtao.site/" target="_blank" rel="noopener">http://liangtao.site/</a></li><li>search.js部分参考：<a href="https://github.com/Kiritor/hexo-theme-yilia-l/blob/8f42e032e14a9746682dc91a0382a0576687a1f0/layout/_partial/post/search.ejs" target="_blank" rel="noopener">https://github.com/Kiritor/hexo-theme-yilia-l/blob/8f42e032e14a9746682dc91a0382a0576687a1f0/layout/_partial/post/search.ejs</a></li><li>另一种配置方式：<a href="https://github.com/Kiritor/hexo-theme-yilia-l/search?q=wrapStyle&amp;unscoped_q=wrapStyle" target="_blank" rel="noopener">https://github.com/Kiritor/hexo-theme-yilia-l/search?q=wrapStyle&amp;unscoped_q=wrapStyle</a></li><li>可复制的表情包：<a href="http://www.fhdq.net/emoji/emojifuhao.html" target="_blank" rel="noopener">http://www.fhdq.net/emoji/emojifuhao.html</a></li></ul><h2 id="2-更近一步">2.更近一步</h2><h3 id="适配手机端">适配手机端</h3><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line"><span class="selector-class">.page-header</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="comment">/* margin: 5px 30px 4px 30px; */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all <span class="number">0.2s</span> ease-in;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'微软雅黑'</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\source\search.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 手机端 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line"><span class="selector-class">.local-search</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">5%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">6</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255, 255, 255, 0.9);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">4px</span> <span class="number">10px</span> <span class="number">#7dc3d8</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="手机端取消本地搜索功能">手机端取消本地搜索功能</h3><p>因为考虑到手机端界面比较小，这里取消搜索功能。</p><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 移动设备侦测</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> isMobile = &#123;</span></span><br><span class="line"><span class="actionscript">      Android: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Android/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      BlackBerry: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/BlackBerry/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      iOS: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/iPhone|iPad|iPod/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      Opera: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Opera Mini/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      Windows: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/IEMobile/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      any: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span>(isMobile.any())&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//手机端取消搜索功能</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'.local-search'</span>).css(<span class="string">"display"</span>,<span class="string">"none"</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> ($(<span class="string">'.local-search'</span>).size() &amp;&amp; !isMobile.any()) &#123;</span></span><br><span class="line"><span class="javascript">      $.getScript(<span class="string">'/js/search.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        searchFunc(<span class="string">"/search.xml"</span>, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或者直接用css隐藏搜索框<code>H:\Hexo\themes\yilia\source\search.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 手机端 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.local-search</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>:none;</span><br><span class="line">        <span class="comment">/* right: -5%; */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="bug">bug</h2><p>测试时，修改文件名后，可能不能立即将文章加入索引，即不能进行搜索。</p><p>停止测试，重新hexo s即可。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;yilia主题也有集成搜索功能，不过它使用的搜索是基于标题和标签的，有一定的局限性，没有提供全文检索功能。这篇文章介绍的就是集成全文检索和今日诗词。&lt;/p&gt;&lt;h3 id=&quot;效果图&quot;&gt;效果图&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/20200411232312.png&quot; alt&gt;&lt;/p&gt;&lt;p&gt;动图&lt;br&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/hexo-yilia-local-search1.gif&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
      <category term="hexo插件" scheme="https://www.yansheng.xyz/tags/hexo-plugin/"/>
    
  </entry>
  
  <entry>
    <title>毕业季</title>
    <link href="https://www.yansheng.xyz/article/e5787948.html"/>
    <id>https://www.yansheng.xyz/article/e5787948.html</id>
    <published>2020-06-25T13:47:41.000Z</published>
    <updated>2020-07-13T03:02:02.747Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><h2 id="后浪">后浪</h2><p>知乎话题：怎么看待《后浪》？<a href="https://www.zhihu.com/question/392555046" target="_blank" rel="noopener">https://www.zhihu.com/question/392555046</a></p><p>中国财经报：《后浪》刷屏：心急的B站：<a href="https://baijiahao.baidu.com/s?id=1665856889754406565&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">https://baijiahao.baidu.com/s?id=1665856889754406565&amp;wfr=spider&amp;for=pc</a></p><a id="more"></a><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;h2 id=&quot;后浪&quot;&gt;后浪&lt;/h2&gt;&lt;p&gt;知乎话题：怎么看待《后浪》？&lt;a href=&quot;https://www.zhihu.com/question/392555046&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.zhihu.com/question/392555046&lt;/a&gt;&lt;/p&gt;&lt;p&gt;中国财经报：《后浪》刷屏：心急的B站：&lt;a href=&quot;https://baijiahao.baidu.com/s?id=1665856889754406565&amp;amp;wfr=spider&amp;amp;for=pc&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://baijiahao.baidu.com/s?id=1665856889754406565&amp;amp;wfr=spider&amp;amp;for=pc&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
      <category term="随笔" scheme="https://www.yansheng.xyz/tags/essay/"/>
    
      <category term="毕业季" scheme="https://www.yansheng.xyz/tags/senior-year/"/>
    
  </entry>
  
  <entry>
    <title>王者荣耀每日壁纸</title>
    <link href="https://www.yansheng.xyz/article/19b653c7.html"/>
    <id>https://www.yansheng.xyz/article/19b653c7.html</id>
    <published>2020-06-18T07:20:52.000Z</published>
    <updated>2020-08-12T04:53:17.167Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><p><img src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" alt="王者荣耀每日壁纸"></p><p>《王者荣耀每日壁纸》项目首页：<a href="http://wzry.yansheng.xyz" target="_blank" rel="noopener">http://wzry.yansheng.xyz</a> 。<br>API说明详见：<a href="http://wzry.yansheng.xyz/swagger-ui.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/swagger-ui.html</a> 。</p><a id="more"></a><h2 id="1-返回json">1.返回JSON</h2><h3 id="1-1大尺寸壁纸-1920x882">1.1大尺寸壁纸(1920x882)</h3><p><code>/json/wallpaper-bigskin.html</code></p><p>返回当天的壁纸的json信息，如（5月28日的数据）：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">149</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168-bigskin-4.jpg"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="参数id说明">参数id说明</h4><table><thead><tr><th>参数值</th><th>说明</th></tr></thead><tbody><tr><td>id=today，不写</td><td>返回从1月1日到当日天数对应的数据</td></tr><tr><td>id=now</td><td>每次刷新随机获得数据</td></tr><tr><td>id=[数字]</td><td>返回对应的id的数据</td></tr></tbody></table><p>Example：</p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=1</a></p><h3 id="1-2较小尺寸壁纸-1200x530">1.2较小尺寸壁纸(1200x530)</h3><p><code>/json/phone-bigskin.html</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">149</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168-bigskin-4.jpg"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=1</a></p><h2 id="2-返回图片">2.返回图片</h2><h3 id="2-1大尺寸壁纸-1920x882">2.1大尺寸壁纸(1920x882)</h3><p><code>/image/wallpaper-bigskin.html</code></p><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=1</a></p><h3 id="2-2较小尺寸壁纸-1200x530">2.2较小尺寸壁纸(1200x530)</h3><p><code>/image/phone-bigskin.html</code></p><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=1</a></p><h2 id="3-图片使用说明">3.图片使用说明</h2><h3 id="html">HTML</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"王者荣耀每日壁纸"</span> <span class="attr">title</span>=<span class="string">"王者荣耀每日壁纸"</span> <span class="attr">src</span>=<span class="string">"http://wzry.yansheng.xyz/image/wallpaper-bigskin.html"</span>/&gt;</span></span><br></pre></td></tr></table></figure><img alt="王者荣耀每日壁纸" title="王者荣耀每日壁纸" src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html"><h3 id="md">MD</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">王者荣耀每日壁纸</span>](<span class="link">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html</span>)</span><br></pre></td></tr></table></figure><p><img src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" alt="王者荣耀每日壁纸"></p><h2 id="license">License</h2><div style="text-align:left"><img src="https://img.shields.io/badge/license-MIT-green.svg" alter="MIT License" title="MIT License"></div><p>This software is licensed under the MIT License by <a href="https://github.com/yansheng836" target="_blank" rel="noopener">yansheng836</a>(Email:<a href="mailto:sheng.yan836@gmail.com" target="_blank" rel="noopener">sheng.yan836@gmail.com</a>).</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;img src=&quot;http://wzry.yansheng.xyz/image/wallpaper-bigskin.html&quot; alt=&quot;王者荣耀每日壁纸&quot;&gt;&lt;/p&gt;&lt;p&gt;《王者荣耀每日壁纸》项目首页：&lt;a href=&quot;http://wzry.yansheng.xyz&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://wzry.yansheng.xyz&lt;/a&gt; 。&lt;br&gt;API说明详见：&lt;a href=&quot;http://wzry.yansheng.xyz/swagger-ui.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://wzry.yansheng.xyz/swagger-ui.html&lt;/a&gt; 。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="每日壁纸" scheme="https://www.yansheng.xyz/tags/%E6%AF%8F%E6%97%A5%E5%A3%81%E7%BA%B8/"/>
    
      <category term="王者荣耀" scheme="https://www.yansheng.xyz/tags/wzry/"/>
    
      <category term="壁纸" scheme="https://www.yansheng.xyz/tags/wallpaper/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加标签页标题切换功能</title>
    <link href="https://www.yansheng.xyz/article/1e69113d.html"/>
    <id>https://www.yansheng.xyz/article/1e69113d.html</id>
    <published>2020-06-04T00:59:38.000Z</published>
    <updated>2020-06-04T01:18:48.911Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --><p>从网站页面切换到另一个页面时：</p><p><img src="https://oss.yansheng.xyz/picgo/20200604090653.png" alt></p><p>返回网站页面时：</p><p><img src="https://oss.yansheng.xyz/picgo/20200604090723.png" alt></p><a id="more"></a><h2 id="原理">原理</h2><p>使用JS修改标题内容，几秒后恢复。</p><p>详见：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e</a></p><h2 id="步骤">步骤</h2><h3 id="1-添加配置">1.添加配置</h3><p><code>themes/yilia/_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tab Title Change | 标签页标题切换</span></span><br><span class="line"><span class="attr">tab_title_change:</span> </span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  left_tab_title:</span> <span class="string">'(つェ⊂) 我藏好了哦~ '</span></span><br><span class="line"><span class="attr">  return_tab_title:</span> <span class="string">'(*´∇｀*) 被你发现啦~ '</span></span><br></pre></td></tr></table></figure><h3 id="2-新建脚本文件">2.新建脚本文件</h3><p><code>themes/yilia/layout/_partial/tab-title-change.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/* 标签页标题切换 */</span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.tab_title_change</span> &amp;&amp; <span class="attr">theme.tab_title_change.enable</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> originTitle = <span class="built_in">document</span>.title;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> titleTime;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.addEventListener(<span class="string">"visibilitychange"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="built_in">document</span>.hidden) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&lt;%- theme.tab_title_change.left_tab_title %&gt;"</span> + originTitle;</span></span><br><span class="line">      clearTimeout(titleTime);</span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&lt;%- theme.tab_title_change.return_tab_title %&gt;"</span> + originTitle;</span></span><br><span class="line"><span class="actionscript">      titleTime = setTimeout(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.title = originTitle;</span></span><br><span class="line">      &#125;, 2000);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-引入脚本文件">3.引入脚本文件</h3><p><code>themes/yilia/layout/_partial/after-footer.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* 标签页标题切换 */</span><br><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">tab-title-change</span>') %&gt;</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;从网站页面切换到另一个页面时：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/20200604090653.png&quot; alt&gt;&lt;/p&gt;&lt;p&gt;返回网站页面时：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/20200604090723.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>Notepad++统计文本字数</title>
    <link href="https://www.yansheng.xyz/article/9bd056e7.html"/>
    <id>https://www.yansheng.xyz/article/9bd056e7.html</id>
    <published>2020-05-16T13:30:41.000Z</published>
    <updated>2020-05-16T13:30:41.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><p>默认情况下，使用Notepad++编辑文件是不会显示字数的，但是我们可以通过触发来统计字数，这里介绍两种方法。</p><p><img src="https://oss.yansheng.xyz/picgo/20200701000411.png" alt></p><a id="more"></a><h3 id="notepad-简介">Notepad++简介</h3><p><a href="https://notepad-plus-plus.org/" target="_blank" rel="noopener">Notepad++</a> 是免费的、开源编辑器和支持多种语言。它运行在MS Windows环境中，其使用受GPL许可证约束。</p><p>基于强大的编辑组件Scintilla，Notepad ++是用C ++编写的，并使用纯Win32 API和STL来确保更高的执行速度和更小的程序尺寸。通过优化尽可能多的例程而不丢失用户友好性，Notepad ++试图减少世界二氧化碳的排放。当使用较少的CPU功率时，PC可以降低速度并降低功耗，从而实现绿色环境。</p><p>默认情况下，使用Notepad++编辑文件是不会显示字数的，但是我们可以通过触发来统计字数，有两种方法：</p><h3 id="1-依次点击菜单栏上的-视图-摘要">1.依次点击菜单栏上的“视图” - “摘要”</h3><p>如图：</p><p><img src="https://img-blog.csdnimg.cn/20200516211332212.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>显示如下：<br><img src="https://img-blog.csdnimg.cn/20200516211440345.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="2-双击下边状态栏的length-lines部分">2.双击下边状态栏的length: lines部分</h3><p><img src="https://img-blog.csdnimg.cn/20200516211844792.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>注意：这个文档长度指的是字节数，这个和文件编码有关系，在utf8编码下，一个英文占一个字节，一个中文占3个字节，故上图是13字节。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;默认情况下，使用Notepad++编辑文件是不会显示字数的，但是我们可以通过触发来统计字数，这里介绍两种方法。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/20200701000411.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="工具/资源" scheme="https://www.yansheng.xyz/tags/tool-resource/"/>
    
      <category term="Notepad++" scheme="https://www.yansheng.xyz/tags/notepad/"/>
    
  </entry>
  
  <entry>
    <title>理解HTTP缓存和304状态码</title>
    <link href="https://www.yansheng.xyz/article/3619698.html"/>
    <id>https://www.yansheng.xyz/article/3619698.html</id>
    <published>2020-05-10T08:10:16.000Z</published>
    <updated>2020-05-10T08:10:16.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:52 GMT+0800 (GMT+08:00) --><p>最近研究nginx日志的时候，对于304这个状态码产生了好奇。之前一直知道3XX系列的状态码表示重定向，但对于304的具体原理没有仔细研究过，该篇文章就该问题进行研究。</p><a id="more"></a><h2 id="理解">理解</h2><p>最近研究nginx日志的时候，对于304这个状态码产生了好奇。之前一直知道3XX系列的状态码表示重定向，但对于304的具体原理没有仔细研究过。</p><p>304 的标准解释是：客户端有缓冲的文档并发出了一个条件性的请求。服务器告诉客户端，原来缓冲的文档还可以继续使用。</p><p>完成这个几个动作包括服务器确认返回304给予客户端，主要包含几个http头信息，请求头If-None-Match、响应头ETag和响应头Cache-Control。</p><h2 id="测试">测试</h2><p>为了更好的理解304状态码以及缓存，直接实验一把:为了方便就使用express启动一个服务了(express几行代码就搞定了)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'hello world'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(<span class="string">'8080'</span>)</span><br></pre></td></tr></table></figure><p>启动之后，浏览器访问localhost:8080并观察请求，响应头。</p><p>第一次请求：<br><img src="https://img-blog.csdnimg.cn/20200510160837421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>第二次请求：<img src="https://img-blog.csdnimg.cn/20200510160850726.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>第二次请求服务器返回了一个304。</p><p>在第一次请求服务器的时候在获取资源之后是会先把该资源缓存在本地的，同时服务器response返回了一个响应头ETag，ETag全称Entity Tag，用来标识一个资源。在具体的实现中，ETag可以是资源的hash值，也可以是一个内部维护的版本号。但不管怎样，ETag应该能反映出资源内容的变化，这是Http缓存可以正常工作的基础。服务器对于hello world这个字符串使用上述返回的ETag来表示，只要hello world这个资源不变，这个Etag就不会变。</p><p>客户端第二次请求服务器的时候，利用请求头If-None-Match来告诉服务器自己已经有个ETag为xxx的资源。如果服务器上的资源没有变化，也就是说服务器上的资源的ETag也是xxx的话，服务器就不会再返回该资源的内容，而是返回一个304的响应，告诉浏览器该资源没有变化，缓存有效，浏览器将直接调用本地缓存。</p><h2 id="响应头cache-control">响应头Cache-Control</h2><p>每个资源都可以通过Http头Cache-Control来定义自己的缓存策略，Cache-Control控制谁在什么条件下可以缓存响应以及可以缓存多久。 最快的请求是不必与服务器进行通信的请求：通过响应的本地副本，我们可以避免所有的网络延迟以及数据传输的数据成本。为此，HTTP 规范允许服务器返回一系列不同的 Cache-Control 指令，控制浏览器或者其他中继缓存如何缓存某个响应以及缓存多长时间。</p><p>Cache-Control 头在 HTTP/1.1 规范中定义，取代了之前用来定义响应缓存策略的头(例如 Expires)。当前的所有浏览器都支持 Cache-Control，因此，使用它就够了。</p><p>以下我来介绍可以在Cache-Control中设置的常用指令。</p><h3 id="max-age">max-age</h3><p>该指令指定从当前请求开始，允许获取的响应被重用的最长时间(单位为秒。例如：Cache-Control:max-age=60表示响应可以再缓存和重用 60 秒。需要注意的是，在max-age指定的时间之内，浏览器不会向服务器发送任何请求，包括验证缓存是否有效的请求，也就是说，如果在这段时间之内，服务器上的资源发生了变化，那么浏览器将不能得到通知，而使用老版本的资源。所以在设置缓存时间的长度时，需要慎重。</p><h3 id="public和private">public和private</h3><p>如果设置了public，表示该响应可以再浏览器或者任何中继的Web代理中缓存，public是默认值，即Cache-Control:max-age=60等同于Cache-Control:public, max-age=60。</p><p>在服务器设置了private比如Cache-Control:private, max-age=60的情况下，表示只有用户的浏览器可以缓存private响应，不允许任何中继Web代理对其进行缓存 - 例如，用户浏览器可以缓存包含用户私人信息的 HTML 网页，但是 CDN 不能缓存。</p><h3 id="no-cache">no-cache</h3><p>如果服务器在响应中设置了no-cache即Cache-Control:no-cache，那么浏览器在使用缓存的资源之前，必须先与服务器确认返回的响应是否被更改，如果资源未被更改，可以避免下载。这个验证之前的响应是否被修改，就是通过上面介绍的请求头If-None-match和响应头ETag来实现的。</p><p>需要注意的是，no-cache这个名字有一点误导。设置了no-cache之后，并不是说浏览器就不再缓存数据，只是浏览器在使用缓存数据时，需要先确认一下数据是否还跟服务器保持一致。如果设置了no-cache，而ETag的实现没有反应出资源的变化，那就会导致浏览器的缓存数据一直得不到更新的情况。</p><h3 id="no-store">no-store</h3><p>如果服务器在响应中设置了no-store即Cache-Control:no-store，那么浏览器和任何中继的Web代理，都不会存储这次相应的数据。当下次请求该资源时，浏览器只能重新请求服务器，重新从服务器读取资源。</p><p>部分内容参考自： &lt;<a href="http://www.cnblogs.com/xinzhao/p/5099807.html" target="_blank" rel="noopener">www.cnblogs.com/xinzhao/p/5099807.html</a>&gt;</p><p>————————————————<br>版权声明：本文为CSDN博主「不能说的秘密go」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/canot/article/details/76359917" target="_blank" rel="noopener">https://blog.csdn.net/canot/article/details/76359917</a><br>注：部分内容和排版有所修改。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:52 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;最近研究nginx日志的时候，对于304这个状态码产生了好奇。之前一直知道3XX系列的状态码表示重定向，但对于304的具体原理没有仔细研究过，该篇文章就该问题进行研究。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="HTTP" scheme="https://www.yansheng.xyz/tags/http/"/>
    
      <category term="Nginx" scheme="https://www.yansheng.xyz/tags/nginx/"/>
    
      <category term="304状态码" scheme="https://www.yansheng.xyz/tags/304-status-code/"/>
    
  </entry>
  
  <entry>
    <title>错误. 读取xxx.jar时出错; invalid LOC header (bad signature)</title>
    <link href="https://www.yansheng.xyz/article/d35a2397.html"/>
    <id>https://www.yansheng.xyz/article/d35a2397.html</id>
    <published>2020-05-09T11:54:17.000Z</published>
    <updated>2020-05-09T11:54:17.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:52 GMT+0800 (GMT+08:00) --><p>错误背景：maven项目进行maven install时报错。 解决方法： 找到对应的.jar文件进行删除，然后重新加载项目。</p><a id="more"></a><h2 id="错误背景">错误背景</h2><p>maven项目进行<code>maven install</code>时报错。</p><h3 id="错误详情">错误详情</h3><p><img src="https://img-blog.csdnimg.cn/20200509195118905.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="解决方法">解决方法</h2><p>读取某jar有问题，我们可以根据提示的路径，找到对应的<code>.jar</code>文件并删除，然后重新加载项目（会重新下载该jar包）。</p><p>更多详情，可以看这篇文章： <a href="https://blog.csdn.net/weixin_33805992/article/details/86026182" target="_blank" rel="noopener">maven 错误：读取 xxx.jar 时出错；invalid LOC header (bad signature) 1 错误</a></p><p>————————————————<br>版权声明：本文为CSDN博主「余三二」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/weixin_40626699/article/details/89155442" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40626699/article/details/89155442</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:52 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;错误背景：maven项目进行maven install时报错。 解决方法： 找到对应的.jar文件进行删除，然后重新加载项目。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Java基础" scheme="https://www.yansheng.xyz/tags/java-basic/"/>
    
      <category term="(My)Eclipse" scheme="https://www.yansheng.xyz/tags/myeclipse/"/>
    
      <category term="Maven" scheme="https://www.yansheng.xyz/tags/maven/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加APlayer音乐播放器</title>
    <link href="https://www.yansheng.xyz/article/bf60dd05.html"/>
    <id>https://www.yansheng.xyz/article/bf60dd05.html</id>
    <published>2020-04-05T15:26:34.000Z</published>
    <updated>2020-07-20T08:57:33.385Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --><p>之前写过一篇文章，是将APlayer音乐播放器放到左侧的（详见：<a href="/article/5c52aefe.html">hexo+yilia添加背景音乐</a>），但是在手机端时，因为左侧边栏会被隐藏，因此也就会将播放器给隐藏掉。也就会是说手机端不能显示该播放器。</p><p>这里换一种方式，直接添加到整个页面中，使其在手机端也能使用。<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200406000912.jpg" alt></p><a id="more"></a><h2 id="说明">说明</h2><ol><li>如果你第一次安装APlayer音乐播放器，我建议你先看一下上面的那篇文章（如果你不介意手机端不能使用，按照那篇文章来也是OK的😬），这里不再详细介绍APlayer。</li><li>如果你之前有按照我上面的文章进行配置，建议先删除之前的配置，不然可能会有冲突。</li></ol><h2 id="安装步骤">安装步骤</h2><h3 id="1-添加插件">1.添加插件</h3><p>找到对应<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的文件，在<code>&lt;body&gt;</code>和 <code>&lt;div id=&quot;container&quot;</code>之间添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加--APlayer音乐播放器,详见: https://aplayer.js.org/#/zh-Hans/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.aplayer.enable</span>) &#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span> <span class="attr">style</span>=<span class="string">"text-align:left;z-index: 10;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 为方便修改，添加一个配置文件，修改时直接修改配置文件即可。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&lt;%- url_for('js/APlayer_config.js') %&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 根据封面自适应主题色，主要是作用于进度条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">const</span> colorThief = <span class="keyword">new</span> ColorThief();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> setTheme = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (!ap.list.audios[index].theme) &#123;</span></span><br><span class="line"><span class="actionscript">              colorThief.getColorAsync(ap.list.audios[index].cover, <span class="function"><span class="keyword">function</span><span class="params">(color)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                ap.theme(<span class="string">`rgb(<span class="subst">$&#123;color[<span class="number">0</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">1</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">2</span>]&#125;</span>)`</span>, index);</span></span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;;</span><br><span class="line">          setTheme(ap.list.index);</span><br><span class="line"><span class="actionscript">          ap.on(<span class="string">'listswitch'</span>, (data) =&gt; &#123;</span></span><br><span class="line">            setTheme(data.index);</span><br><span class="line">          &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加--APlayer音乐播放器》 --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="注意">注意</h4><ol><li><code>js/APlayer_config.js</code>文件是APlayer的配置文件，需要自己新建，位置为：<code>themes\yilia\source\js\APlayer_config.js</code>，如果不懂参考之前的文章。</li><li>这里的<code>&lt;div id=&quot;aplayer&quot;</code><strong>id</strong>需要与<code>js/APlayer_config.js</code>中<code>container: document.getElementById('aplayer')</code>的id一致。</li></ol><h3 id="2-添加样式">2.添加样式</h3><p>在<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>任意位置添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.aplayer</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>:<span class="number">0.8</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="效果图">效果图</h2><p>PC端：<a href="#">见上</a></p><p>手机端<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/APlayer.gif" alt></p><hr><p>参考：<a href="https://qianlei6148.github.io/2018/10/13/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0aplayer%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/" target="_blank" rel="noopener">为hexo博客yilia模版添加aplayer音乐播放器</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;之前写过一篇文章，是将APlayer音乐播放器放到左侧的（详见：&lt;a href=&quot;/article/5c52aefe.html&quot;&gt;hexo+yilia添加背景音乐&lt;/a&gt;），但是在手机端时，因为左侧边栏会被隐藏，因此也就会将播放器给隐藏掉。也就会是说手机端不能显示该播放器。&lt;/p&gt;&lt;p&gt;这里换一种方式，直接添加到整个页面中，使其在手机端也能使用。&lt;br&gt;&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/20200406000912.jpg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
      <category term="hexo插件" scheme="https://www.yansheng.xyz/tags/hexo-plugin/"/>
    
      <category term="APlayer" scheme="https://www.yansheng.xyz/tags/aplayer/"/>
    
      <category term="音乐" scheme="https://www.yansheng.xyz/tags/music/"/>
    
  </entry>
  
  <entry>
    <title>curl (3) Illegal characters found in URL</title>
    <link href="https://www.yansheng.xyz/article/8e4f6844.html"/>
    <id>https://www.yansheng.xyz/article/8e4f6844.html</id>
    <published>2020-04-05T07:40:42.000Z</published>
    <updated>2020-04-05T07:40:42.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><h2 id="摘要">摘要</h2><p>在windows 中编辑的文件上传到 Linux 后，使用 curl 等工具调用时会报一个<code>curl: (3) Illegal characters found in URL</code> 的错误，这是因为 Linux 与 Windows 在文本文件中添加的换行符不一样。Linux 在每行只会添加一个<code>\n</code>,Windows系统会在每行后加入<code>\r\n</code>, 所以在 Windows 下的文件放到 Linux上时就会出现这个问题，即多了一个<code>\r</code>。</p><a id="more"></a><h2 id="解决办法">解决办法</h2><p>转换文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除test.sh文件中的'\r'字符，并输出到testWithoutR.sh文件中。</span></span><br><span class="line">tr -d <span class="string">'\r'</span>  test.sh &gt; testWithoutR.sh</span><br></pre></td></tr></table></figure><h2 id="拓展：换行符crlf-carriage-return-line-feed-0d-0a">拓展：换行符CRLF (carriage return/line feed, 0d 0a)</h2><p>换行符可能用到的字符（基于十六进制而言）：</p><p><code>0x0d =&gt; \r, carrige return</code>：回车(CR)， 把光标移到同一行的顶头。<br><code>0x0a =&gt; \n, new line</code>：换行(LF)， 把光标移到下一行。</p><hr><p>在不同的操作系统这几个字符表现不同，比如在WIN系统下，这两个字符就是表现的本义，在UNIX类系统，换行<code>\n</code>就表现为光标下一行并回到行首，在MAC上，<code>\r</code>就表现为回到本行开头并往下一行，至于ENTER键的定义是与操作系统有关的。</p><table><thead><tr><th>系统</th><th>换行符</th></tr></thead><tbody><tr><td>Windows</td><td><code>\r\n</code></td></tr><tr><td>UNIX类</td><td><code>\n</code></td></tr><tr><td>MAC</td><td><code>\r</code></td></tr></tbody></table><h3 id="需要注意的是">需要注意的是</h3><p>虽然不同系统使用的换行符不同，但是因为这两个字符都是控制字符（不可打印），因此即使有时候弄混了，也可能显示不出来。<font color="red">但是出现🐛的可能性非常大！！！</font></p><p>换行符不同可能出现的情况(1，2在MINGW64 git bash中)：</p><ol><li><code>\ No newline at end of file</code>：文末没有换行。</li><li><code>^M</code>：Windows格式的换行符显示在git bash中，会出现这个字符。</li><li>Linux文本在Windows中打开，会变成只有一行。</li></ol><h2 id="注意">注意</h2><p>如果需要将文件上传到linux，建议使用一个可以设置使用何种换行符的编辑器，EditPlus就不行，它是以文中哪种换行符比较多为标准，自动探测使用何种换行符的；建议使用Notepad++！</p><hr><p>参考：</p><ul><li><a href="https://my.oschina.net/liufq/blog/2248883" target="_blank" rel="noopener">https://my.oschina.net/liufq/blog/2248883</a></li><li><a href="https://www.xuebuyuan.com/903493.html" target="_blank" rel="noopener">EditPlus 对于换行符的处理</a></li><li><a href="https://www.iteye.com/blog/xieye-654921" target="_blank" rel="noopener">eclipse 和editplus的换行符</a></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;h2 id=&quot;摘要&quot;&gt;摘要&lt;/h2&gt;&lt;p&gt;在windows 中编辑的文件上传到 Linux 后，使用 curl 等工具调用时会报一个&lt;code&gt;curl: (3) Illegal characters found in URL&lt;/code&gt; 的错误，这是因为 Linux 与 Windows 在文本文件中添加的换行符不一样。Linux 在每行只会添加一个&lt;code&gt;\n&lt;/code&gt;,Windows系统会在每行后加入&lt;code&gt;\r\n&lt;/code&gt;, 所以在 Windows 下的文件放到 Linux上时就会出现这个问题，即多了一个&lt;code&gt;\r&lt;/code&gt;。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Ubuntu" scheme="https://www.yansheng.xyz/tags/ubuntu/"/>
    
      <category term="Linux" scheme="https://www.yansheng.xyz/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>2020年清明节</title>
    <link href="https://www.yansheng.xyz/article/b75f4e3a.html"/>
    <id>https://www.yansheng.xyz/article/b75f4e3a.html</id>
    <published>2020-04-04T01:26:45.000Z</published>
    <updated>2020-04-04T04:13:26.123Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --><p>2020年4月4日清明节</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/%E8%9C%A1%E7%83%9B.jpg" alt></p><a id="more"></a><h2 id="国务院发布公告：2020年4月4日举行全国性哀悼活动">国务院发布公告：2020年4月4日举行全国性哀悼活动</h2><p>为表达全国各族人民对抗击新冠肺炎疫情斗争牺牲烈士和逝世同胞的深切哀悼，国务院今天（4月3日）发布公告，决定2020年4月4日举行全国性哀悼活动。在此期间，全国和驻外使领馆下半旗志哀，全国停止公共娱乐活动。4月4日10时起，全国人民默哀3分钟，汽车、火车、舰船鸣笛，防空警报鸣响。</p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-4-4.jpeg" width="100%"><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-4-4-1.jpg" alt></p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-4-4-2.jpg" alt></p><h2 id="只要平凡">《只要平凡》</h2><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=574919767&auto=0&height=66"></iframe><details><summary title="点击查看隐藏内容">歌词</summary><div class="container"><p>只要平凡（电影《我不是药神》主题曲）</p><center class="poem song"><p style="padding-left:40%;text-align:left;font-size:15px">演唱：张杰，张碧晨<br></p><p>张杰：也许很远或是昨天 在这里或在对岸<br>长路辗转离合悲欢 人聚又人散<br>放过对错才知答案 活着的勇敢<br>没有神的光环 你我生而平凡</p><p>张碧晨：在心碎中认清遗憾 生命漫长也短暂<br>跳动心脏长出藤蔓 愿为险而战<br>跌入灰暗坠入深渊 沾满泥土的脸<br>没有神的光环 握紧手中的平凡<br>此心此生无憾 生命的火已点燃</p><p>张杰：有一天也许会走远 也许还能再相见<br>无论在人群在天边 让我再看清你的脸<br>任泪水铺满了双眼 虽无言泪满面<br>不要神的光环 只要你的平凡</p><p>张碧晨：在心碎中认清遗憾 生命漫长也短暂<br>跳动心脏长出藤蔓 愿为险而战<br>跌入灰暗坠入深渊 沾满泥土的脸<br>没有神的光环 握紧手中的平凡</p><p>张杰：有一天也许会走远 也许还能再相见</p><p>张碧晨：无论在人群在天边 让我再看清你的脸</p><p>张杰：任泪水铺满了双眼 虽无言泪满面</p><p>合：不要神的光环 只要你的平凡<br>此心此生无憾 生命的火已点燃</p></center></div></details><style>.container{background:RGBA(255,255,255,.5);padding-top:10px;padding-bottom:10px}.container p{font-family:Audiowide;text-align:center;color:#9e9e9e;font-size:30px;line-height:40px;-webkit-transition:all 1.5s ease;transition:all 1.5s ease}.container p:hover{color:#383737;-webkit-animation:Glow 1.5s ease infinite alternate;animation:Glow 1.5s ease infinite alternate}@media screen and (max-width:800px){.container{max-width:394.4px}.container p{font-size:18px;line-height:28px}}</style><h2 id="多灾多难的一年">多灾多难的一年</h2><p>2019年非洲猪瘟肆意，猪价疯涨，至今仍未跌回原价。</p><p>2019年3月30日17时，四川省凉山州木里县境内发生森林火灾，27名森林消防支队战士牺牲。我们的伤痛还未抚平，2020年3月30日凌晨3点，四川省凉山州西昌市突发山火，19位救火英雄牺牲。哪有什么岁月静好，只不过有人在替你负重前行。</p><p>2019年年底至今，突如其来的新型冠状病毒肺炎让我们如临大敌，由武汉蔓延至全国，乃至全球。一场没有没有硝烟的战争悄然打响，武汉封城，一大批医护人员自愿请战，赶往第一线。全国人民众志成城，捐款捐物。<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200404110242.png" alt></p><p><strong>祝愿：明天会更好！</strong></p><blockquote><p>参考：</p><ul><li><a href="https://www.iyxwzx.com/qg/32513.html" target="_blank" rel="noopener">非洲猪瘟</a></li><li><a href="https://baijiahao.baidu.com/s?id=1629681413105575715&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">凉山木里县森林火灾</a></li><li><a href="https://henan.china.com/news/hot/2020/0404/253065725.html" target="_blank" rel="noopener">西昌山火</a></li><li><a href="http://news.sina.com.cn/c/2020-04-02/doc-iimxyqwa4554623.shtml" target="_blank" rel="noopener">为什么又是四川凉山？</a></li></ul></blockquote><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;2020年4月4日清明节&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/%E8%9C%A1%E7%83%9B.jpg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
      <category term="随笔" scheme="https://www.yansheng.xyz/tags/essay/"/>
    
      <category term="新冠肺炎" scheme="https://www.yansheng.xyz/tags/2019-nCoV/"/>
    
  </entry>
  
  <entry>
    <title>Linux查看文件夹大小和文件大小的几种方法</title>
    <link href="https://www.yansheng.xyz/article/eb3c1e22.html"/>
    <id>https://www.yansheng.xyz/article/eb3c1e22.html</id>
    <published>2020-04-02T15:21:59.000Z</published>
    <updated>2020-04-02T15:21:59.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><p>Linux查看文件和文件夹大小的几种方法。</p><a id="more"></a><h2 id="查看文件夹大小">查看文件夹大小</h2><h3 id="du命令-推荐使用">du命令（推荐使用）</h3><p><code>Summarize disk usage of the set of FILEs, recursively for directories.</code></p><p>默认情况下查看当前目录的文件夹的大小，但是可以通过选项灵活使用。</p><p><code>du filepath</code>：查看指定文件夹的大小（不指定默认为当前文件夹，且不递归显示子目录）。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认：显示单位为kb</span></span><br><span class="line">$ du</span><br><span class="line">204     ./CollectHomework</span><br><span class="line">252     ./hello-word</span><br><span class="line">1844    .</span><br><span class="line"></span><br><span class="line"><span class="comment"># -h, --human-readable  print sizes in human readable format (e.g., 1K 234M 2G)</span></span><br><span class="line"><span class="comment"># 形象的显示单位，使其更加易读。</span></span><br><span class="line">$ du -h</span><br><span class="line">204K    ./CollectHomework</span><br><span class="line">252K    ./hello-word</span><br><span class="line">1.9M    .</span><br><span class="line"></span><br><span class="line"><span class="comment"># -a, --all             write counts for all files, not just directories</span></span><br><span class="line"><span class="comment"># 显示所有文件的大小，而不仅仅是文件夹</span></span><br><span class="line">$ du -ah</span><br><span class="line">1.4M    ./1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">76K     ./CollectHomework/CollectHomework-1.jpg</span><br><span class="line">128K    ./CollectHomework/CollectHomework-2.jpg</span><br><span class="line">204K    ./CollectHomework</span><br><span class="line">56K     ./hello-word/github-bootstrap语言识别情况.jpg</span><br><span class="line">20K     ./hello-word/github-hello-world1语言识别情况.jpg</span><br><span class="line">28K     ./hello-word/github-hello-world2语言识别情况.jpg</span><br><span class="line">12K     ./hello-word/github-hello-world语言识别情况.jpg</span><br><span class="line">64K     ./hello-word/github语言识别情况.jpg</span><br><span class="line">52K     ./hello-word/hello-world-github.png</span><br><span class="line">16K     ./hello-word/hello-world-github1.png</span><br><span class="line">252K    ./hello-word</span><br><span class="line">1.9M    .</span><br><span class="line"></span><br><span class="line"><span class="comment"># -d, --max-depth=N     print the total for a directory (or file, with --all) </span></span><br><span class="line"><span class="comment"># only if it is N or fewer levels below the command line argument;  </span></span><br><span class="line"><span class="comment"># --max-depth=0 is the same as --summarize</span></span><br><span class="line"><span class="comment"># 指定遍历深度，如果不指定表示遍历到底；如果是0，同-s / --summarize只显示总大小；如果是1，表示只遍历当前目录，不递归遍历子目录（如果有的话）。</span></span><br><span class="line">$ du -h --max-depth=1</span><br><span class="line">204K    ./CollectHomework</span><br><span class="line">252K    ./hello-word</span><br><span class="line">1.9M    .</span><br></pre></td></tr></table></figure><h3 id="ls命令">ls命令</h3><p><code>List information about the FILEs (the current directory by default).</code><br><br>使用<code>-l</code> 选项，显示文件的长格式的信息（包含了文件的大小）。<br><br><code>ls -l filepath</code>：如果filepath是文件夹，第一行显示的即为指定文件夹的大小（不指定默认为当前文件夹，且不递归显示子目录）。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l</span><br><span class="line">total 1392</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 1420182 7月   4  2019 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">drwxr-xr-x 1 yansheng 197121       0 9月  23  2019 CollectHomework/</span><br><span class="line">drwxr-xr-x 1 yansheng 197121       0 9月  23  2019 hello-word/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 人性化</span></span><br><span class="line">$ ls -lh</span><br><span class="line">total 1.4M</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 1.4M 7月   4  2019 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">drwxr-xr-x 1 yansheng 197121    0 9月  23  2019 CollectHomework/</span><br><span class="line">drwxr-xr-x 1 yansheng 197121    0 9月  23  2019 hello-word/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 递归显示目录和文件</span></span><br><span class="line">$ ls -Rlh</span><br><span class="line">.:</span><br><span class="line">total 1.4M</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 1.4M 7月   4  2019 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">drwxr-xr-x 1 yansheng 197121    0 9月  23  2019 CollectHomework/</span><br><span class="line">drwxr-xr-x 1 yansheng 197121    0 9月  23  2019 hello-word/</span><br><span class="line"></span><br><span class="line">./CollectHomework:</span><br><span class="line">total 204K</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  73K 9月  20  2019 CollectHomework-1.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 128K 9月  20  2019 CollectHomework-2.jpg</span><br><span class="line"></span><br><span class="line">./hello-word:</span><br><span class="line">total 248K</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  54K 9月   6  2019 github-bootstrap语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  18K 9月   6  2019 github-hello-world1语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  27K 9月   6  2019 github-hello-world2语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 9.5K 9月   6  2019 github-hello-world语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  61K 9月   6  2019 github语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  51K 9月   2  2019 hello-world-github.png</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  13K 9月   2  2019 hello-world-github1.png</span><br></pre></td></tr></table></figure><h2 id="查看文件大小">查看文件大小</h2><h3 id="du命令-推荐使用-v2">du命令（推荐使用）</h3><p>指定文件名即可：<code>du -h filepath</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ du -h <span class="string">'1.5.0-阿里巴巴Java开发手册（华山版）.pdf'</span></span><br><span class="line">1.4M    1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br></pre></td></tr></table></figure><h3 id="ls命令-v2">ls命令</h3><p><code>ls -l filepath</code>：如果filepath是文件，显示的即为指定文件的大小。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls -lh <span class="string">'1.5.0-阿里巴巴Java开发手册（华山版）.pdf'</span></span><br><span class="line">-rw-r--r-- 1 yansheng 197121 1.4M 7月   4  2019 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br></pre></td></tr></table></figure><h3 id="stat命令">stat命令</h3><p><code>Display file or file system status.</code><br><br>显示文件或者文件系统的状态。（<code>stat filepath</code>：对文件夹无效）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认：显示单位为b</span></span><br><span class="line">$ <span class="built_in">stat</span> <span class="string">'1.5.0-阿里巴巴Java开发手册（华山版）.pdf'</span></span><br><span class="line">  File: 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">  Size: 1420182         Blocks: 1388       IO Block: 65536  regular file</span><br><span class="line">Device: 401a47b0h/1075464112d   Inode: 2814749767110487  Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (197609/yansheng)   Gid: (197121/ UNKNOWN)</span><br><span class="line">Access: 2020-04-02 22:58:23.764561800 +0800</span><br><span class="line">Modify: 2019-07-04 16:34:18.386372100 +0800</span><br><span class="line">Change: 2019-10-31 00:10:47.515478600 +0800</span><br><span class="line"> Birth: 2020-04-02 22:58:23.730710200 +0800</span><br></pre></td></tr></table></figure><h3 id="wc命令">wc命令</h3><p><code>Print newline, word, and byte counts for each FILE, and a total line if more than one FILE is specified. A word is a non-zero-length sequence of characters delimited by white space.</code><br><br>显示文件的行、字、字节的数量。<br><br><code>-c, --bytes print the byte counts</code>，<code>wc -c filename</code>：统计文件的字节数量。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wc -c <span class="string">'1.5.0-阿里巴巴Java开发手册（华山版）.pdf'</span></span><br><span class="line">1420182 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br></pre></td></tr></table></figure><h2 id="总结">总结</h2><p>推荐使用<code>du</code>命令，因为显示的容量可以很直观，方便。</p><hr><p>参考：<a href="https://blog.csdn.net/xiongyangg/article/details/54809810" target="_blank" rel="noopener">https://blog.csdn.net/xiongyangg/article/details/54809810</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;Linux查看文件和文件夹大小的几种方法。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://www.yansheng.xyz/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>冠状病毒2019-nCoV实时统计</title>
    <link href="https://www.yansheng.xyz/article/ef6b6c25.html"/>
    <id>https://www.yansheng.xyz/article/ef6b6c25.html</id>
    <published>2020-03-25T10:07:49.000Z</published>
    <updated>2020-03-25T15:52:12.489Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><p>介绍两个两个有实时数据的网站，方便我们关注新冠肺炎的情况。</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200325234333.png" alt></p><a id="more"></a><h2 id="中文网站-数据以国内为主">中文网站（数据以国内为主）</h2><h3 id="全球新冠病毒最新实时疫情地图-丁香园">全球新冠病毒最新实时疫情地图_丁香园</h3><p>丁香园、丁香医生整合各权威渠道发布的官方数据，通过疫情地图直观展示，持续更新最新的新型冠状病毒肺炎的实时疫情动态。<br>网址：<a href="https://ncov.dxy.cn/ncovh5/view/pneumonia" target="_blank" rel="noopener">https://ncov.dxy.cn/ncovh5/view/pneumonia</a></p><p><a href="https://ncov.dxy.cn/ncovh5/view/pneumonia" target="_blank" rel="noopener"><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200325232922.png" alt="全球新冠病毒最新实时疫情地图_丁香园"></a></p><h2 id="英文网站-数据以国外为主">英文网站（数据以国外为主）</h2><h3 id="coronavirus-map">Coronavirus Map</h3><p>See the Coronavirus (COVID-19) cases on the map. Latest stats, information on new cases.<br>网址：<a href="https://clustrmaps.com/coronavirus/" target="_blank" rel="noopener">https://clustrmaps.com/coronavirus/</a></p><p><a href="https://clustrmaps.com/coronavirus" target="_blank" rel="noopener"><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200325232007.png" alt="Coronavirus Map"></a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;介绍两个两个有实时数据的网站，方便我们关注新冠肺炎的情况。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/20200325234333.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
      <category term="随笔" scheme="https://www.yansheng.xyz/tags/essay/"/>
    
      <category term="新冠肺炎" scheme="https://www.yansheng.xyz/tags/2019-nCoV/"/>
    
  </entry>
  
  <entry>
    <title>解决git clone一直需要输入密码的问题</title>
    <link href="https://www.yansheng.xyz/article/ff219d6a.html"/>
    <id>https://www.yansheng.xyz/article/ff219d6a.html</id>
    <published>2020-03-24T15:04:50.000Z</published>
    <updated>2020-03-24T15:04:50.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:52 GMT+0800 (GMT+08:00) --><p>之前配置SSH，需要使用ssh形式的URL（即<code>git@github.com:*</code>开头的）进行clone。</p><a id="more"></a><h2 id="问题">问题</h2><p>虽然在GitHub添加了SSH keys，但是在执行<code>git clone https://*</code>命令时，仍然会提示需要输入密码，如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/yansheng8*</span><br><span class="line">Cloning into <span class="string">'*'</span>...</span><br><span class="line">Username <span class="keyword">for</span> <span class="string">'https://github.com'</span>:</span><br></pre></td></tr></table></figure><h2 id="处理方法">处理方法</h2><p>之前配置SSH，需要使用ssh形式的URL（即<code>git@github.com:*</code>开头的）进行clone。<br><img src="https://img-blog.csdnimg.cn/20200324230244304.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置SSH</span></span><br><span class="line"><span class="comment">#1）本地生成key</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"email@qq.com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2）查看生成的key </span></span><br><span class="line">cat cat  ~/.ssh/id_rsa.pub</span><br><span class="line"></span><br><span class="line"><span class="comment">#3）在github个人账户配置key</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:52 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;之前配置SSH，需要使用ssh形式的URL（即&lt;code&gt;git@github.com:*&lt;/code&gt;开头的）进行clone。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Git" scheme="https://www.yansheng.xyz/tags/git/"/>
    
      <category term="GitHub" scheme="https://www.yansheng.xyz/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>Hexo文章保存为草稿</title>
    <link href="https://www.yansheng.xyz/article/ab5d2a72.html"/>
    <id>https://www.yansheng.xyz/article/ab5d2a72.html</id>
    <published>2020-03-17T09:39:14.000Z</published>
    <updated>2020-05-02T14:49:00.926Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --><img src="https://api.uixsj.cn/bing/bing.php" width="auto" height="auto" alt="bing每日壁纸" title="bing每日壁纸"><a id="more"></a><h2 id="version">Version</h2><p><strong>Hexo 3.3.8</strong></p><h2 id="传统建立文章方式">传统建立文章方式</h2><p>一般我们都会使用 <code>hexo new &lt;title&gt;</code> 来建立文章（该命令其实是<code>hexo new post &lt;title&gt;</code>命令的简写形式），这种建立方法会将新文章建立在 <code>source/_posts</code> 目录下，当使用 <code>hexo generate</code> 编译 markdown 文件时，会将其 HTML 结果编译在 <code>public</code> 目录下，之后 <code>hexo deploy</code> 将会把 <code>public</code> 目录下所有文章部署到 GitHub，这是我们熟悉的 Hexo 流程。</p><p>这种建立文章方式的缺点是：若我们同时编辑多篇文章，只要其中一篇文章尚未编辑完成，也会随着 <code>hexo deploy</code> 一起部署到 GitHub，也就是 GitHub 可能会看到我们尚未完成的文章。</p><h2 id="建立文章草稿">建立文章草稿</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new draft &lt;title&gt;</span><br></pre></td></tr></table></figure><p>Hexo 另外提供 <code>draft</code> 机制，它的原理是新文章将建立在 <code>source/_drafts</code> 目录下，因此 <code>hexo generate</code> 并不会将其编译到 <code>public</code> 目录下，所以 <code>hexo deploy</code> 也不会将其部署到 GitHub。</p><h2 id="本机预览草稿">本机预览草稿</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s --draft</span><br></pre></td></tr></table></figure><p>虽然 <code>hexo generate</code> 不会编译 <code>source/_drafts</code> 目录下的文章，但 Hexo 的 <code>Hexo server</code> 另外提供 <code>--draft</code> 参数，这让我们只要搭配 <code>hexo-browsersync</code> plugins，就可以达到一边编辑 <code>markdown</code> 文章，一边使用浏览器预览的目的。</p><h2 id="将草稿发布为正式文章">将草稿发布为正式文章</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo p &lt;filename&gt;</span><br></pre></td></tr></table></figure><p>其中 <code>&lt;filename&gt;</code> 为不包含 <code>md</code> 后缀的文章名称。它的原理只是将文章从 <code>source/_drafts</code> 移动到 <code>source/_posts</code> 而已。</p><p>之后的 <code>hexo generate</code> 与 <code>hexo deploy</code> 的用法就完全一样了。</p><p>若日后想将正式文章转为为草稿，只需手动将文章从 <code>source/_posts</code> 目录移动到 <code>source/_drafts</code> 目录即可。</p><blockquote><ul><li><strong>本文作者：</strong> novnan</li><li><strong>本文链接：</strong> <a href="https://novnan.github.io/Hexo/hexo-draft/" target="_blank" rel="noopener">https://novnan.github.io/Hexo/hexo-draft/</a></li><li><strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></blockquote><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --&gt;&lt;img src=&quot;https://api.uixsj.cn/bing/bing.php&quot; width=&quot;auto&quot; height=&quot;auto&quot; alt=&quot;bing每日壁纸&quot; title=&quot;bing每日壁纸&quot;&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>中国加油，武汉加油！</title>
    <link href="https://www.yansheng.xyz/article/a07aa35d.html"/>
    <id>https://www.yansheng.xyz/article/a07aa35d.html</id>
    <published>2020-02-29T17:17:01.000Z</published>
    <updated>2020-03-25T15:58:07.515Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><p><img src="https://oss.yansheng.xyz/img/%E4%B8%AD%E5%9B%BD%E5%8A%A0%E6%B2%B9-%E6%AD%A6%E6%B1%89%E5%8A%A0%E6%B2%B9.jpg" alt="1月31日，武汉市江汉区西北湖附近高层建筑外墙打出“武汉加油”等字样（无人机照片）。 新华社记者 肖艺九 摄"></p><a id="more"></a><h2 id="愿-黎明的编钟声-响起-一切疾病都已远去">愿《黎明的编钟声》响起，一切疾病都已远去！</h2><blockquote><p>以下内容转自：<a href="https://baijiahao.baidu.com/s?id=1658231454062945935&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">https://baijiahao.baidu.com/s?id=1658231454062945935&amp;wfr=spider&amp;for=pc</a></p></blockquote><p><strong>夜走了</strong></p><p><strong>天亮了</strong></p><p><strong>天空和钟声一同醒来了</strong></p><p><strong>樱花在温暖的春风中飞扬</strong></p><p><strong>武汉，我们在等你</strong></p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200319165539.png" width="100%" title="黎明的编钟声"><p>近日，享誉世界盛名的国际流行钢琴家尚·马龙（Jean -Franois Maljean），在他的家乡比利时，特别为中国、为武汉创作的一首“战疫防疫”国际公益曲《CHIME OF THE DAWN BELLS》（中文名：《黎明的编钟声》）。他通过这首歌从地球的另一端为武汉送来遥远的祝福，致敬那些勇敢抗疫的前线人员，为中国人民、中国医护工作者加油鼓气。这也是新冠肺炎疫情爆发以来，首位外国艺术家创作的公益歌曲。</p><p>尚·马龙是比利时知名的乐坛诗人，与雅尼、班得瑞、理查德·克莱德曼、喜多郎齐名，并称为新世纪十大音乐大师。他对中国的感情很深远，对中国的文化情有独钟，2010年与中国知名歌手共同演唱上海世博会比利时馆主题歌《我们的歌》 ，2018年创作的侗族大歌《尽情欢歌》曾登上央视春节联欢晚会。</p><p>此次创作的《CHIME OF THE DAWN BELLS》（黎明的编钟声），尚·马龙特别加入了湖北编钟的元素，结合他本人的钢琴演奏，东西方乐器交融回旋，谱写了一曲“中国与世界命运与共”的华章。歌曲饱含深情，处处流露着中国传统文化和武汉城市元素。尚·马龙特别加了一段自己的中文独白：“夜走了，天亮了，天空和钟声一同醒来了，樱花在温暖的春风中飞扬，武汉，我们在等你。”以此来表达他对武汉，对中国深切的关怀与期待。</p><p>尚·马龙在采访中表示：“我想告诉西方人民，他们不必害怕，应与目前陷入困境的中国人民友好相处。在我职业生涯的最近二十年里，中国给了我很大帮助，我真诚的愿意为中国的朋友们做些事来帮助他们。”（译）没有一个冬天不可逾越，没有一个春天不会来临，武汉和整个中国一定会战胜疫情，全世界人民都在期盼这一刻的到来。</p><p>歌曲MV的制作也得到了全球各地人们以及武汉大学中南医院、世界银行华人职工协会、湖北省外商投资企业协会等众多机构的帮助，同时也邀请到了世界音乐大师Silvano Macaluso一起参与创作，这是他们的再次合作，Silvano Macaluso和尚·马龙曾经共同担任尚雯婕专辑《Nightmare》制作人。</p><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom:20px"></div><script>!function(){var e=new DPlayer({container:document.getElementById("dplayer0"),theme:"#FADFA3",loop:!0,video:{url:"https://oss.yansheng.xyz/video/%E9%BB%8E%E6%98%8E%E7%9A%84%E7%BC%96%E9%92%9F%E5%A3%B0.mp4"}});window.dplayers||(window.dplayers=[]),window.dplayers.push(e)}()</script><style>.container{background:RGBA(255,255,255,.5);padding-top:10px;padding-bottom:10px}.container p{font-family:Audiowide;text-align:center;color:#00a67c;font-size:30px;line-height:40px;-webkit-transition:all 1.5s ease;transition:all 1.5s ease}.container p:hover{color:#f34949;-webkit-animation:Glow 1.5s ease infinite alternate;animation:Glow 1.5s ease infinite alternate}@media screen and (max-width:800px){.container{max-width:394.4px}.container p{font-size:18px;line-height:28px}}@-webkit-keyframes Glow{from{text-shadow:0 0 10px #fff,0 0 20px #fff,0 0 30px #fff,0 0 40px #00a67c,0 0 70px #00a67c,0 0 80px #00a67c,0 0 100px #00a67c,0 0 150px #00a67c}to{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #fff,0 0 20px #00a67c,0 0 35px #00a67c,0 0 40px #00a67c,0 0 50px #00a67c,0 0 75px #00a67c}}@keyframes Glow{from{text-shadow:0 0 10px #fff,0 0 20px #fff,0 0 30px #fff,0 0 40px #00a67c,0 0 70px #00a67c,0 0 80px #00a67c,0 0 100px #00a67c,0 0 150px #00a67c}to{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #fff,0 0 20px #00a67c,0 0 35px #00a67c,0 0 40px #00a67c,0 0 50px #00a67c,0 0 75px #00a67c}}</style><div class="container"><p>《CHIME OF THE DAWN BELLS》（黎明的编钟声）</p><center class="poem song"><p style="padding-left:20%;text-align:left;font-size:15px">曲名：《CHIME BELLS OF DAWN》黎明的编钟声<br>作词：Kelvin Ho（何浏）、Jean-Franois Maljean（尚·马龙）、ROBERT MURRAY<br>作曲：Jean-Franois Maljean（尚·马龙）<br>主唱：Noémie Maljean<br></p><p>SUFFERING,SUFFERING<br>疾病，苦难</p><p>IS LIKE A DARK CLOUD.<br>有如乌云</p><p>LOOKING, LOOKING FAR AWAY<br>远远望去</p><p>YOU WILL SEE A DARK SKY<br>你会看到天空墨黑一片</p><p>BUT WHEN YOU’RE UNDER IT<br>但是身临其下</p><p>YOU ARE, YOU ARE ONLY GREY<br>不过是灰色而已</p><p>DON’T GIVE UP<br>永不言弃</p><p>WHEN YOU HEAR THE MUSIC OF CHIME BELLS<br>听到编钟声响起</p><p>STANDING ON THE YELLOW CRANE TOWER<br>站在黄鹤楼上</p><p>YOU MAY FEEL ALONE NOW<br>此时你可能会感到孤单</p><p>BUT THE WORLD STANDS WITH YOU<br>但要相信世界人民与你们同在</p><p>UNITED, UNITED PROUD AND BRAVE<br>齐心协力、自强不息、勇往直前</p><p>YOU WILL HEAR THE CHIME BELLS<br>编钟响起时</p><p>MUSIC LIFTS THE DARKNESS<br>音乐终将会驱散黑暗</p><p>SHINING, SHINING ON THE WAVES<br>阳光照耀在江面上</p><p>DON’T GIVE UP<br>永不言弃</p><p>WHEN YOU HEAR THE MUSIC OF CHIME BELLS<br>听到编钟声响起</p><p>STANDING ON THE YELLOW CRANE TOWER<br>站在黄鹤楼上</p><p><font color="red">独白：夜走了<br>天亮了<br>天空和钟声一同醒来了<br>樱花在温暖的春风中飞扬<br>武汉，我们在等你</font></p><p>THE DAWN WILL BREAK<br>黎明总会到来</p><p>TO END YOUR DARKEST HOUR<br>黑夜终将过去</p><p>STANDING ON THE YELLOW CRANE TOWER.<br>站在黄鹤楼上</p><p>THE DAWN WILL BREAK<br>黎明总会到来</p><p>TO END YOUR DARKEST HOUR<br>黑夜终将过去</p><p>STANDING ON THE YELLOW CRANE TOWER<br>站在黄鹤楼上</p></center></div><h2 id="相关链接">相关链接</h2><ul><li>爱奇艺相关视频：<a href="https://www.iqiyi.com/v_19rvsx9r78.html" target="_blank" rel="noopener">https://www.iqiyi.com/v_19rvsx9r78.html</a></li><li>GitHub相关项目：<a href="https://github.com/BlankerL/DXY-COVID-19-Crawler" target="_blank" rel="noopener">https://github.com/BlankerL/DXY-COVID-19-Crawler</a></li><li>全球新冠病毒最新实时疫情地图_丁香园：<a href="https://ncov.dxy.cn/ncovh5/view/pneumonia" target="_blank" rel="noopener">https://ncov.dxy.cn/ncovh5/view/pneumonia</a></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/img/%E4%B8%AD%E5%9B%BD%E5%8A%A0%E6%B2%B9-%E6%AD%A6%E6%B1%89%E5%8A%A0%E6%B2%B9.jpg&quot; alt=&quot;1月31日，武汉市江汉区西北湖附近高层建筑外墙打出“武汉加油”等字样（无人机照片）。 新华社记者 肖艺九 摄&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
      <category term="随笔" scheme="https://www.yansheng.xyz/tags/essay/"/>
    
      <category term="新冠肺炎" scheme="https://www.yansheng.xyz/tags/2019-nCoV/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加分类页面</title>
    <link href="https://www.yansheng.xyz/article/521a17ae.html"/>
    <id>https://www.yansheng.xyz/article/521a17ae.html</id>
    <published>2020-02-21T14:44:00.000Z</published>
    <updated>2020-07-18T15:26:38.496Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --><h2 id="效果图">效果图</h2><p>PC端：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221224830.png" alt></p><p>手机端：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221225116.png" alt></p><a id="more"></a><h2 id="一般情况下">一般情况下</h2><p>只需要新建一个页面，并且指定页面的类型即可生成对应的分类和归档页面，因为很多hexo的主题都集成了分类和标签的功能。</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221232218.png" alt></p><p>具体可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/97758641" target="_blank" rel="noopener">Hexo新建标签、分类、归档等页面</a></p><h2 id="针对yilia主题">针对yilia主题</h2><p>虽然这个主题好像有集成，但是好像不管用！！！</p><p>主要参考：<a href="https://github.com/litten/hexo-theme-yilia/issues/835" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia/issues/835</a></p><h3 id="步骤">步骤</h3><h4 id="1-新建页面">1.新建页面</h4><p>在hexo根目录运行命令<code>hexo new page categories</code>，新建一个分类页面。会在生成<code>\source\categories\index.md</code>文件，编辑的内容为：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章分类</span><br><span class="line">date: 2019-08-19 11:48:35</span><br><span class="line">toc: false</span><br><span class="line">comments: false</span><br><span class="line">layout: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h4 id="2-新建一个布局文件">2.新建一个布局文件</h4><p>在你的博客路径下（如<code>\themes\yilia\layout\</code>目录)新建一个categories.ejs文件(用原来的category.ejs生成静态文件时会报错)，内容如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"article"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"category-count"</span>&gt;</span>共计 <span class="tag">&lt;<span class="name">%=</span> <span class="attr">site.categories.length</span> %&gt;</span> 个分类, <span class="tag">&lt;<span class="name">%=</span> <span class="attr">site.tags.length</span> %&gt;</span> 个标签<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">site.categories.length</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"category-list"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">site.categories.sort</span>('<span class="attr">name</span>')<span class="attr">.each</span>(<span class="attr">function</span>(<span class="attr">item</span>)&#123; %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">item.posts.length</span>)&#123; %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"category-list-item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- config.root %&gt;&lt;%- item.path %&gt;"</span> <span class="attr">class</span>=<span class="string">"category-list-link"</span> <span class="attr">title</span>=<span class="string">"&lt;%= item.name %&gt;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.name</span> %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"category-list-count"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.posts.length</span> %&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tag-cloud"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">tagcloud</span>(&#123;</span></span><br><span class="line"><span class="tag">      <span class="attr">min_font:</span> <span class="attr">20</span>, </span></span><br><span class="line"><span class="tag">      <span class="attr">max_font:</span> <span class="attr">35</span>, </span></span><br><span class="line"><span class="tag">      <span class="attr">amount:</span> <span class="attr">999</span></span></span><br><span class="line"><span class="tag">    &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure><p>部署即可。</p><h4 id="3-添加样式">3.添加样式</h4><p>你可以根据需要更改它的样式。可以参考这个，在<code>\themes\yilia\source\main.0cf68a.css</code>中添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.category-count</span> &#123;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>:<span class="number">3</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> &#123;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:inline-block;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">4px</span>;</span><br><span class="line"><span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#aaaaaa</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">1.2rem</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="built_in">rgba</span>(204,204,204,0.3)</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> &#123;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">word-break</span>:keep-all;</span><br><span class="line"><span class="attribute">position</span>:relative</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>:auto</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"><span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line"><span class="attribute">position</span>:absolute;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">2px</span>;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#08c</span>;</span><br><span class="line"><span class="attribute">-webkit-transition</span>:width .<span class="number">3s</span> ease;</span><br><span class="line"><span class="attribute">transition</span>:width .<span class="number">3s</span> ease</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-效果">4.效果</h4><p>默认样式的效果：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221224558.png" alt></p><p>手机端<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221224659.png" alt></p><h3 id="修改样式">修改样式</h3><p>这主要是修改标题和超链接的样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*《分类页面，标签页面样式*/</span></span><br><span class="line"><span class="comment">/*标题*/</span></span><br><span class="line"><span class="selector-class">.category-count</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">font-family</span>: STCaiyun, STXingkai;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="comment">/*渐变背景*/</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(left, #3498db, #f47920 10%, #d71345 20%, #f7acbc 30%, #ffd400 40%, #3498db 50%, #f47920 60%, #d71345 70%, #f7acbc 80%, #ffd400 90%, #3498db);</span><br><span class="line">    <span class="attribute">color</span>: transparent;</span><br><span class="line">    <span class="comment">/*文字填充色为透明*/</span></span><br><span class="line">    <span class="attribute">-webkit-text-fill-color</span>: transparent;</span><br><span class="line">    <span class="attribute">-webkit-background-clip</span>: text;</span><br><span class="line">    <span class="comment">/*背景剪裁为文字，只将文字显示为背景*/</span></span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">200%</span> <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">/*背景图片向水平方向扩大一倍，这样background-position才有移动与变化的空间*/</span></span><br><span class="line">    <span class="comment">/* 动画 */</span></span><br><span class="line">    <span class="attribute">animation</span>: masked-animation <span class="number">4s</span> infinite linear;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> masked-animation &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">/*background-position 属性设置背景图像的起始位置。*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: -<span class="number">100%</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 手机端CSS代码 */</span></span><br><span class="line"> @<span class="keyword">media</span> screen and (max-width: <span class="number">960px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.category-count</span> &#123;</span><br><span class="line">        <span class="attribute">text-align</span>:center;</span><br><span class="line">        <span class="attribute">line-height</span>:<span class="number">3</span>;</span><br><span class="line">        <span class="attribute">font-size</span>:<span class="number">27px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 分类 */</span></span><br><span class="line"><span class="selector-class">.category-list</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">4px</span>;</span><br><span class="line">    <span class="comment">/* border:1px solid #aaaaaa; */</span></span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">1.2rem</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#ffffff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* .category-list li.category-list-item:hover &#123;</span></span><br><span class="line"><span class="comment">    background:rgba(204, 204, 204, 0.3)</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* https://github.com/IanLunn/Hover,</span></span><br><span class="line"><span class="comment">https://ianlunn.github.io/Hover/ */</span></span><br><span class="line"><span class="comment">/* Rectangle In */</span></span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.5em</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#2098D1</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition-property</span>: color;</span><br><span class="line">  <span class="attribute">transition-property</span>: color;</span><br><span class="line">  <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e1e1e1</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(1);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1);</span><br><span class="line">  <span class="attribute">-webkit-transition-property</span>: transform;</span><br><span class="line">  <span class="attribute">transition-property</span>: transform;</span><br><span class="line">  <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition-timing-function</span>: ease-out;</span><br><span class="line">  <span class="attribute">transition-timing-function</span>: ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:focus</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:active</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(0);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 分类和标签的分界面 */</span></span><br><span class="line"><span class="selector-class">.category-hr-tag</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 标签 */</span></span><br><span class="line"><span class="selector-class">.tag-cloud</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">word-break</span>:keep-all;</span><br><span class="line">    <span class="attribute">position</span>:relative</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>:auto</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#08c</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>:width .<span class="number">3s</span> ease;</span><br><span class="line">    <span class="attribute">transition</span>:width .<span class="number">3s</span> ease</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*分类页面，标签页面样式》*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*《版权声明的样式*/</span></span><br><span class="line"> <span class="selector-class">.declare</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">3px</span> solid <span class="number">#ff1700</span>;</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*版权声明的样式》*/</span></span><br></pre></td></tr></table></figure><p>新增分界线</p><p>修改<code>H:\Hexo\themes\yilia\layout\categories.ejs</code>，在<code>&lt;div class=&quot;tag-cloud&quot;&gt;</code>前面新增：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span> <span class="attr">class</span>=<span class="string">"category-hr-tag"</span> <span class="attr">width</span>=<span class="string">"90%"</span> <span class="attr">color</span>=<span class="string">"#987cb9"</span> <span class="attr">size</span>=<span class="string">"3"</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="效果图-v2">效果图</h4><p><a href="#%E6%95%88%E6%9E%9C%E5%9B%BE">见上</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:50 GMT+0800 (GMT+08:00) --&gt;&lt;h2 id=&quot;效果图&quot;&gt;效果图&lt;/h2&gt;&lt;p&gt;PC端：&lt;br&gt;&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/20200221224830.png&quot; alt&gt;&lt;/p&gt;&lt;p&gt;手机端：&lt;br&gt;&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/20200221225116.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>git remote.Coding提示.Authentication failed.</title>
    <link href="https://www.yansheng.xyz/article/c3c8050e.html"/>
    <id>https://www.yansheng.xyz/article/c3c8050e.html</id>
    <published>2020-02-15T15:46:26.000Z</published>
    <updated>2020-02-15T15:46:26.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><p>最近coding升级引起的问题，解决：打开控制面板&gt;&gt; 用户账户 &gt;&gt; 凭据管理器 &gt;&gt; 修改对应的git凭据（这里是git:<a href="https://e.coding.net" target="_blank" rel="noopener">https://e.coding.net</a>） &gt;&gt;编辑（添加新的用户名和密码）</p><a id="more"></a><p>最近coding升级了，（详见 <a href="https://coding.net/products/upgrade" target="_blank" rel="noopener">致 CODING 个人版-腾讯云开发者平台用户的一封信</a>），然后发现不知道怎么登录了🤔……</p><p>研究了好一会，登上去了，发现账户用户名好像被改了……，克隆原仓库的新地址，却发生了如下错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://e.coding.net/yansheng836-01/yansheng836.coding.me.git</span><br><span class="line">Cloning into <span class="string">'yansheng836.coding.me'</span>...</span><br><span class="line">remote: Coding 提示: Authentication failed.</span><br><span class="line">remote: 认证失败，请确认您输入了正确的账号密码。</span><br><span class="line">fatal: Authentication failed <span class="keyword">for</span> <span class="string">'https://e.coding.net/yansheng836-01/yansheng836.coding.me.git/'</span></span><br></pre></td></tr></table></figure><p>百度了下，找了两篇文章，解决了该问题。</p><ul><li><a href="https://blog.csdn.net/Rachel_wang0123/article/details/86245423" target="_blank" rel="noopener">TortoiseGit:拉代码密码错误remote: Coding 提示: Authentication failed! 认证失败，请确认您输入了正确的账号密码</a></li><li><a href="https://blog.csdn.net/lianghzongtan/article/details/84706541" target="_blank" rel="noopener">git remote: Coding 提示: Authentication failed!</a></li></ul><h3 id="解决方法">解决方法</h3><p>打开控制面板&gt;&gt; 用户账户 &gt;&gt; 凭据管理器 &gt;&gt; 修改对应的git凭据（这里是git:<a href="https://e.coding.net" target="_blank" rel="noopener">https://e.coding.net</a>） &gt;&gt;编辑（添加新的用户名和密码）</p><p><img src="https://img-blog.csdnimg.cn/20200215234348846.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>修改完后，就可以正常操作了。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;最近coding升级引起的问题，解决：打开控制面板&amp;gt;&amp;gt; 用户账户 &amp;gt;&amp;gt; 凭据管理器 &amp;gt;&amp;gt; 修改对应的git凭据（这里是git:&lt;a href=&quot;https://e.coding.net&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://e.coding.net&lt;/a&gt;） &amp;gt;&amp;gt;编辑（添加新的用户名和密码）&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Git" scheme="https://www.yansheng.xyz/tags/git/"/>
    
      <category term="GitHub" scheme="https://www.yansheng.xyz/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>在Chrome浏览器上调试特定机型的屏幕效果</title>
    <link href="https://www.yansheng.xyz/article/3785dfb3.html"/>
    <id>https://www.yansheng.xyz/article/3785dfb3.html</id>
    <published>2020-02-14T12:08:05.000Z</published>
    <updated>2020-02-14T12:08:05.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><p>我们现在开发网页基本上都是会开发成“响应式”的，而为了减少麻烦我们经常会在PC端直接进行测试手机端效果。这篇文章介绍的是如何在Chrome中添加指定机型的模拟机。</p><a id="more"></a><h2 id="前言">前言</h2><p>我们现在开发网页基本上都是会开发成“响应式”的，而为了减少麻烦我们经常会在PC端直接进行测试手机端效果。（注，虽然前期会在PC端测试手机端样式，但是后期还是会在真机上进行测试的，比较模拟环境和真实环境还是有一定偏差的。）</p><h2 id="在chrome浏览器上添加特定机型">在Chrome浏览器上添加特定机型</h2><p>现在调试前端比较流行的浏览器是Chrome和火狐，如何适配多种机型是个麻烦事，主要是屏幕的适配问题。在Chrome中默认有这些机型（见下图），但是为了更加准确一点，需要添加具体的机型，但是没有具体的选项，只能自己配置。<br><br><img src="https://img-blog.csdnimg.cn/20200214190835542.png" alt="在这里插入图片描述"><br><br>备选机型还有以下几种（可以直接勾选的，不需要自行配置）：<br><br><img src="https://img-blog.csdnimg.cn/20200214193728993.png" alt="在这里插入图片描述"><br><br><img src="https://img-blog.csdnimg.cn/20200214193754469.png" alt="在这里插入图片描述"></p><h2 id="步骤">步骤</h2><ol><li>F12打开调试模式–&gt;选择手机端–&gt;左边机型–&gt;Edit(见上图)</li><li>添加模拟器（Add custom devices）<br><br><img src="https://img-blog.csdnimg.cn/20200214193345410.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>模拟机配置参数，这个配置主要是中间那行的数据。</li></ol><p>参数：</p><ul><li>设备名：随意（我写的是手机型号）</li><li>中间那行：需要计算“设备独立像素”和“Device pixel ratio（设备像素比）”，详见下面说明。</li><li>用户代理（User agent string），简单的方法是打开手机某浏览器，在地址栏输入javascript:alert(navigator.userAgent)，弹出user agent string，再手敲到模拟器user agent string 输入框中。（也可以不填）</li><li>最后面的一般默认Mobile。</li></ul><p><img src="https://img-blog.csdnimg.cn/20200214193644151.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="device-pixel-ratio-设备像素比">Device pixel ratio（设备像素比）</h3><blockquote><p>它是设备上物理像素和设备独立像素( device-independent pixels (dips) )的比例，即<br>devicePixelRatio = 屏幕物理像素/设备独立像素</p><p>例如iPhone4S，分辨率为：960×640，取屏幕宽度计算，物理像素640px，设备独立像素320px，那么，devicePixelRatio<br>值为 640px / 320px = 2，</p><p>又如iPhone3，计算出来的 devicePixelRatio 值为 320px / 320px = 1</p><p>我们也可以这样理解，由于160ppi（ppi：平面位置指示 (plain position indication)）是一个标准像素，那么283ppi约为1.77，即设备像素比约为1.77.</p><p>这里还有几个数据，可供参考:</p><ul><li>ipone5s,1136*640像素分辨率，326ppi:设备像素比= 326/160 约等于 2.03</li><li>ipone6,1334*750像素分辨率，326ppi:设备像素比= 326/160 约等于 2.03</li><li>ipone5 Plus，1920*1080像素分辨率，401ppi：:设备像素比= 326/160 约等于 2.51</li></ul><p>这就是设备像素比一般是1,1.5,2,2.5,3的由来。</p><p>————————————————<br>版权声明：本文为CSDN博主「蜗牛ha」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/tan9374/article/details/101352416" target="_blank" rel="noopener">https://blog.csdn.net/tan9374/article/details/101352416</a></p></blockquote><p>我看了这个解释就测试计算了下：小米6的值：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">## 以下两个值可以查到（手机官方介绍，或者百度）：</span><br><span class="line">分辨率：1920x1080</span><br><span class="line">像素密度：428PPI</span><br><span class="line"></span><br><span class="line">## 以下的值需要计算：</span><br><span class="line">设备像素比= 428PPI/160PPI 约等于 2.675‬</span><br><span class="line"></span><br><span class="line">屏幕物理像素/设备独立像素 = 设备像素比</span><br><span class="line">设备独立像素-长= 屏幕物理像素/设备像素比 = 1920/2.675 = 717</span><br><span class="line">设备独立像素-宽= 屏幕物理像素/设备像素比 = 1080/2.675 = 403</span><br></pre></td></tr></table></figure><p>配置如下：<br><br><img src="https://img-blog.csdnimg.cn/20200214200535262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><br>OK，完事，Start Debugging……🐛🐛🐛</p><hr><p>参考：</p><ul><li><a href="https://blog.csdn.net/tan9374/article/details/101352416" target="_blank" rel="noopener">如何在chrome浏览器上调试特定机型的屏幕效果</a></li><li><a href="https://blog.csdn.net/bing_gan/article/details/52809013" target="_blank" rel="noopener">在chrome模拟器中添加手机型号</a></li><li><a href="https://blog.csdn.net/gl0ry/article/details/53915199" target="_blank" rel="noopener">前端chrome浏览器调试总结</a></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;我们现在开发网页基本上都是会开发成“响应式”的，而为了减少麻烦我们经常会在PC端直接进行测试手机端效果。这篇文章介绍的是如何在Chrome中添加指定机型的模拟机。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="测试" scheme="https://www.yansheng.xyz/tags/test/"/>
    
      <category term="工具/资源" scheme="https://www.yansheng.xyz/tags/tool-resource/"/>
    
      <category term="Chrome" scheme="https://www.yansheng.xyz/tags/chrome/"/>
    
      <category term="Android" scheme="https://www.yansheng.xyz/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>hexo-yilia添加DPlayer视频播放插件</title>
    <link href="https://www.yansheng.xyz/article/252051e3.html"/>
    <id>https://www.yansheng.xyz/article/252051e3.html</id>
    <published>2020-02-04T05:06:21.000Z</published>
    <updated>2020-02-09T07:15:21.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><h2 id="引言">引言</h2><p>如何在博客中插入视频是件麻烦事，视频来源多种多样，优酷、爱奇艺、云空间；视频的相关控件也需要考虑。如果有插件就很方便了。Dplayer就是为这种需求而产生的！</p><h2 id="使用dplayer插件">使用Dplayer插件</h2><p>github: <a href="https://github.com/MoePlayer/hexo-tag-dplayer" target="_blank" rel="noopener">https://github.com/MoePlayer/hexo-tag-dplayer</a></p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1580801312951.png" alt="file"></p><a id="more"></a><blockquote><p>引用</p></blockquote><h2 id="npm-install">npm install</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-dplayer --save</span><br></pre></td></tr></table></figure><h2 id="usage">Usage</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer key=value ... %&#125;</span><br></pre></td></tr></table></figure><p>key can be</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dplayer options:</span><br><span class="line">    &apos;autoplay&apos;, &apos;loop&apos;, &apos;screenshot&apos;, &apos;hotkey&apos;, &apos;mutex&apos;, &apos;dmunlimited&apos; : bool options, use &quot;yes&quot; &quot;y&quot; &quot;true&quot; &quot;1&quot; &quot;on&quot; or just without value to enable</span><br><span class="line">    &apos;preload&apos;, &apos;theme&apos;, &apos;lang&apos;, &apos;logo&apos;, &apos;url&apos;, &apos;pic&apos;, &apos;thumbnails&apos;, &apos;vidtype&apos;, &apos;suburl&apos;, &apos;subtype&apos;, &apos;subbottom&apos;, &apos;subcolor&apos;, &apos;subcolor&apos;, &apos;id&apos;, &apos;api&apos;, &apos;token&apos;, &apos;addition&apos;, &apos;dmuser&apos; : string arguments</span><br><span class="line">    &apos;volume&apos;, &apos;maximum&apos; : number arguments</span><br><span class="line">container options:</span><br><span class="line">    &apos;width&apos;, &apos;height&apos; : string, used in container element style</span><br><span class="line">other:</span><br><span class="line">    &apos;code&apos; : value of this key will be append to script tag</span><br></pre></td></tr></table></figure><p>arguments to DPlayer options mapping:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    container: &quot;you needn&apos;t set this&quot;,</span><br><span class="line">    autoplay: &apos;autoplay&apos;,</span><br><span class="line">    theme: &apos;theme&apos;,</span><br><span class="line">    loop: &apos;loop&apos;,</span><br><span class="line">    lang: &apos;lang&apos;,</span><br><span class="line">    screenshot: &apos;screenshot&apos;,</span><br><span class="line">    hotkey: &apos;hotkey&apos;,</span><br><span class="line">    preload: &apos;preload&apos;,</span><br><span class="line">    logo: &apos;logo&apos;,</span><br><span class="line">    volume: &apos;volume&apos;,</span><br><span class="line">    mutex: &apos;mutex&apos;,</span><br><span class="line">    video: &#123;</span><br><span class="line">        url: &apos;url&apos;,</span><br><span class="line">        pic: &apos;pic&apos;,</span><br><span class="line">        thumbnails: &apos;thumbnails&apos;,</span><br><span class="line">        type: &apos;vidtype&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    subtitle: &#123;</span><br><span class="line">        url: &apos;suburl&apos;,</span><br><span class="line">        type: &apos;subtype&apos;,</span><br><span class="line">        fontSize: &apos;subsize&apos;,</span><br><span class="line">        bottom: &apos;subbottom&apos;,</span><br><span class="line">        color: &apos;subcolor&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    danmaku: &#123;</span><br><span class="line">        id: &apos;id&apos;,</span><br><span class="line">        api: &apos;api&apos;,</span><br><span class="line">        token: &apos;token&apos;,</span><br><span class="line">        maximum: &apos;maximum&apos;,</span><br><span class="line">        addition: [&apos;addition&apos;],</span><br><span class="line">        user: &apos;dmuser&apos;,</span><br><span class="line">        unlimited: &apos;dmunlimited&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    icons: &apos;icons&apos;,</span><br><span class="line">    contextmenu: &apos;menu&apos;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>see dplayer documents for more infomation.</p><p>for example:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.mp4&quot; &quot;addition=https://dplayer.daoapp.io/bilibili?aid=4157142&quot; &quot;api=https://api.prprpr.me/dplayer/&quot; &quot;pic=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.jpg&quot; &quot;id=9E2E3368B56CDBB4&quot; &quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;token=tokendemo&quot; %&#125;</span><br><span class="line">&#123;% dplayer &apos;url=some.mp4&apos; &quot;id=someid&quot; &quot;api=https://api.prprpr.me/dplayer/&quot; &quot;addition=/some.json&quot; &apos;code=player.on(&quot;loadstart&quot;,function()&#123;console.log(&quot;loadstart&quot;)&#125;)&apos; &quot;autoplay&quot; %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>引用结束</p></blockquote><h2 id="测试">测试</h2><p>注：以下可能有部分视频链接已失效，详见<a href="#2.%E8%A7%86%E9%A2%91%E9%93%BE%E6%8E%A5%E4%BC%9A%E5%A4%B1%E6%95%88">bug:2.视频链接会失效</a>。</p><h3 id="1-简单模式">1.简单模式</h3><p>【J.Fla】J.Fla最新翻唱《Let Her Go》（中英字幕）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot;%&#125;</span><br></pre></td></tr></table></figure><div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom:20px"></div><script>!function(){var e=new DPlayer({container:document.getElementById("dplayer1"),theme:"#FADFA3",loop:!0,video:{url:"https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4"}});window.dplayers||(window.dplayers=[]),window.dplayers.push(e)}()</script><h3 id="2-设置大小">2.设置大小</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><div id="dplayer2" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom:20px;width:854px;height:480px"></div><script>!function(){var e=new DPlayer({container:document.getElementById("dplayer2"),theme:"#FADFA3",loop:!0,video:{url:"https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4"}});window.dplayers||(window.dplayers=[]),window.dplayers.push(e)}()</script><h3 id="3-各视频网站测试">3.各视频网站测试</h3><p>注：获取网站视频链接的方法</p><ol><li>直接F12审查网页元素可以获取大部分视频链接。</li><li><code>blob:http</code>开头的链接，在调试模式下，切换成手机端，一般都可以获取视频链接。当然也可以尝试使用下面的几种方法（不敢保证肯定可以）。</li></ol><p>相关链接：</p><ul><li><a href="https://blog.csdn.net/superit401/article/details/102698335" target="_blank" rel="noopener">https://blog.csdn.net/superit401/article/details/102698335</a></li><li><a href="https://blog.csdn.net/keerod/article/details/84191076" target="_blank" rel="noopener">https://blog.csdn.net/keerod/article/details/84191076</a></li><li><a href="https://blog.csdn.net/weixin_38258050/article/details/86527471" target="_blank" rel="noopener">https://blog.csdn.net/weixin_38258050/article/details/86527471</a></li></ul><h4 id="优酷-blob-http">优酷-blob:http</h4><p>测试地址：播放量破60亿的神曲就是不一样，Jfla翻唱播放量都能破亿：<a href="https://v.youku.com/v_show/id_XNDEzMTQ2Mzc2OA==.html?spm=a2h0k.11417342.soresults.dtitle" target="_blank" rel="noopener">https://v.youku.com/v_show/id_XNDEzMTQ2Mzc2OA==.html?spm=a2h0k.11417342.soresults.dtitle</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://ip3909677239.mobgslb.tbcache.com/697527F075E4271B3854E35FD/03000801005D16BE6A7657C5ACCC9273FC634F-4FE4-42BD-9058-BDD737033AD6.mp4?ccode=0501&amp;duration=209&amp;expire=18000&amp;psid=d4651e02fe8648bae7ba5eb90e634aee&amp;ups_client_netip=78efecb2&amp;ups_ts=1580803578&amp;ups_userid=&amp;utid=5dEkFu7TTAoCAaOOg8%2Fdh%2Bzg&amp;vid=XNDEzMTQ2Mzc2OA&amp;vkey=Ae25465c34a3e1d5a0008c52dbd954ac2&amp;bc=2&amp;dre=u21&amp;si=42&amp;ali_redirect_domain=ykugc.cp31.ott.cibntv.net&amp;ali_redirect_ex_ftag=6bb8c51a31829f123b81d2f8f31d62ad1de1e72da5be49b4&amp;ali_redirect_ex_tmining_ts=1580803613&amp;ali_redirect_ex_tmining_expire=3600&amp;ali_redirect_ex_hot=100&quot;</span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center><div class="video-container"><div id="dplayer3" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom:20px;width:854px;height:480px"></div><script>!function(){var e=new DPlayer({container:document.getElementById("dplayer3"),theme:"#FADFA3",loop:!0,video:{url:"https://ip3909677239.mobgslb.tbcache.com/697527F075E4271B3854E35FD/03000801005D16BE6A7657C5ACCC9273FC634F-4FE4-42BD-9058-BDD737033AD6.mp4?ccode=0501&duration=209&expire=18000&psid=d4651e02fe8648bae7ba5eb90e634aee&ups_client_netip=78efecb2&ups_ts=1580803578&ups_userid=&utid=5dEkFu7TTAoCAaOOg8%2Fdh%2Bzg&vid=XNDEzMTQ2Mzc2OA&vkey=Ae25465c34a3e1d5a0008c52dbd954ac2&bc=2&dre=u21&si=42&ali_redirect_domain=ykugc.cp31.ott.cibntv.net&ali_redirect_ex_ftag=6bb8c51a31829f123b81d2f8f31d62ad1de1e72da5be49b4&ali_redirect_ex_tmining_ts=1580803613&ali_redirect_ex_tmining_expire=3600&ali_redirect_ex_hot=100"}});window.dplayers||(window.dplayers=[]),window.dplayers.push(e)}()</script></div></center><h4 id="爱奇艺-blob-http">爱奇艺-blob:http</h4><p>好像找不到链接！！</p><p>测试地址：JFla最新翻唱视频 《Havana》中英文字幕版：<a href="http://www.iqiyi.com/w_19rye3lv79.html" target="_blank" rel="noopener">http://www.iqiyi.com/w_19rye3lv79.html</a></p><h4 id="腾讯视频">腾讯视频</h4><p>测试地址：开口跪！JFla小姐姐逆天翻唱《英雄联盟》主题曲《Legends Never die》(传奇永不熄)，也就听了100遍：<a href="https://v.qq.com/x/page/r07217dqdps.html" target="_blank" rel="noopener">https://v.qq.com/x/page/r07217dqdps.html</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://apd-269733cd84807e39d1c4e3453c172928.v.smtcdns.com/om.tc.qq.com/AUBPmiNNTAT3He9k_05J1HRAM1yZVGlQ-hDZtg0epZFQ/uwMROfz2r57IIaQXGdGnC2ddDmZUA-P9pUvDyp7Vcj06VB05/shg_57576174_50001_208137e9f2843cf7850adcc2052bdd4a.f622.mp4?sdtfrom=v1010&amp;guid=7ae1df42357b9bcea3195ca549ce5531&amp;vkey=4B6DB7E072CA38A41C053A938FA7D1B91D1783ACF46A1356E88C71B8160881DEC88D761C281209C12C1DAB9772F55FB572EA0D675ACA209A621B3BC4789A2D91FEA05680B9EA477C282FC1B4A32BCB1E5EEF5DFCC65AA2A4B2BCB2AB51E54FABD0E1122171184A171FFE7C84CFB1295C720E320BFCE4648EF92358A0BFDAC7FB&quot;</span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center><div class="video-container"><div id="dplayer4" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom:20px;width:854px;height:480px"></div><script>!function(){var A=new DPlayer({container:document.getElementById("dplayer4"),theme:"#FADFA3",loop:!0,video:{url:"https://apd-269733cd84807e39d1c4e3453c172928.v.smtcdns.com/om.tc.qq.com/AUBPmiNNTAT3He9k_05J1HRAM1yZVGlQ-hDZtg0epZFQ/uwMROfz2r57IIaQXGdGnC2ddDmZUA-P9pUvDyp7Vcj06VB05/shg_57576174_50001_208137e9f2843cf7850adcc2052bdd4a.f622.mp4?sdtfrom=v1010&guid=7ae1df42357b9bcea3195ca549ce5531&vkey=4B6DB7E072CA38A41C053A938FA7D1B91D1783ACF46A1356E88C71B8160881DEC88D761C281209C12C1DAB9772F55FB572EA0D675ACA209A621B3BC4789A2D91FEA05680B9EA477C282FC1B4A32BCB1E5EEF5DFCC65AA2A4B2BCB2AB51E54FABD0E1122171184A171FFE7C84CFB1295C720E320BFCE4648EF92358A0BFDAC7FB"}});window.dplayers||(window.dplayers=[]),window.dplayers.push(A)}()</script></div></center><h4 id="b站-blob-http">B站-blob:http</h4><p>测试地址：【J.Fla】J.Fla最新翻唱《Let Her Go》（中英字幕）:<a href="https://www.bilibili.com/medialist/play/ml445525356/" target="_blank" rel="noopener">https://www.bilibili.com/medialist/play/ml445525356/</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://cn-jxnc-cmcc-bcache-07.bilivideo.com/upgcxcode/97/06/37010697/37010697-1-6.mp4?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&amp;uipk=5&amp;nbs=1&amp;deadline=1580811360&amp;gen=playurl&amp;os=bcache&amp;oi=2028989618&amp;trid=49761c7626084b8b8b97074e119e8a41h&amp;platform=html5&amp;upsig=d5272df25514a59fbdb296cefefcb96c&amp;uparams=e,uipk,nbs,deadline,gen,os,oi,trid,platform&amp;mid=91203456&amp;origin_cdn=ks3&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center><div class="video-container"><div id="dplayer5" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom:20px;width:854px;height:480px"></div><script>!function(){var e=new DPlayer({container:document.getElementById("dplayer5"),theme:"#FADFA3",loop:!0,video:{url:"https://cn-jxnc-cmcc-bcache-07.bilivideo.com/upgcxcode/97/06/37010697/37010697-1-6.mp4?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&uipk=5&nbs=1&deadline=1580811360&gen=playurl&os=bcache&oi=2028989618&trid=49761c7626084b8b8b97074e119e8a41h&platform=html5&upsig=d5272df25514a59fbdb296cefefcb96c&uparams=e,uipk,nbs,deadline,gen,os,oi,trid,platform&mid=91203456&origin_cdn=ks3"}});window.dplayers||(window.dplayers=[]),window.dplayers.push(e)}()</script></div></center><h4 id="酷狗音乐mv">酷狗音乐MV</h4><p>好像找不到</p><p>测试地址：<a href="https://www.kugou.com/mvweb/html/mv_1298B160E162FD8DD62176860AC07B0B.html" target="_blank" rel="noopener">https://www.kugou.com/mvweb/html/mv_1298B160E162FD8DD62176860AC07B0B.html</a></p><h4 id="网易云音乐mv-blob-http">网易云音乐MV-blob:http</h4><p>测试地址：J.Fla不插电演唱原创新单《Good Vibe》:<a href="https://music.163.com/#/mv?id=10893889" target="_blank" rel="noopener">https://music.163.com/#/mv?id=10893889</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=http://vodkgeyttp8.vod.126.net/cloudmusic/1182/core/91d9/071e7736fb284fe4d7d020a3cf693362.mp4?wsSecret=ff87443a41aebf38eaafd4385b736940&amp;wsTime=1580818343&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center><div class="video-container"><div id="dplayer6" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom:20px;width:854px;height:480px"></div><script>!function(){var e=new DPlayer({container:document.getElementById("dplayer6"),theme:"#FADFA3",loop:!0,video:{url:"http://vodkgeyttp8.vod.126.net/cloudmusic/1182/core/91d9/071e7736fb284fe4d7d020a3cf693362.mp4?wsSecret=ff87443a41aebf38eaafd4385b736940&wsTime=1580818343"}});window.dplayers||(window.dplayers=[]),window.dplayers.push(e)}()</script></div></center><h2 id="bug🐛">bug🐛</h2><h3 id="1-设置宽高参数后-手机端不能自适应">1.设置宽高参数后，手机端不能自适应</h3><p>额外添加样式控制手机端样式<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">800px</span>) &#123;</span><br><span class="line">   <span class="selector-class">.dplayer</span> &#123;</span><br><span class="line"><span class="attribute">max-width</span>:<span class="number">394.4px</span>;</span><br><span class="line"><span class="attribute">max-height</span>:<span class="number">221.6px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-视频链接会失效">2.视频链接会失效</h3><p>虽然上面提到的方式大部分可以获取视频链接，但是可以发现，这个链接都很长，是“防盗链”（<code>?</code>后面的是查询串，包含各种参数。比如设置时间参数，超时就失效。这是为了防止被频繁访问，造成服务器负担而考虑的）。那怎么解决呢？推荐下面几种方法：</p><ol><li>研究防盗链，看能不能让他不失效。好像有点复杂……</li><li>自建云空间：根据视频链接下载该视频，然后上传到自己的云空间☁️（<a href="https://www.qiniu.com/" target="_blank" rel="noopener">七牛云</a>、<a href="https://www.aliyun.com/ss/?spm=5176.13910061.1kquk9v2l.2.34ad36707nJPoz&amp;k=%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8OSS&amp;aly_as=Ohhc5GnR" target="_blank" rel="noopener">阿里云</a>等的OSS空间），然后使用自己的链接。（推荐，第一个视频就是我下载后，上传到阿里云OSS的。）</li><li>使用视频网站自己的分享渠道：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200330223102.png" alt></li></ol><p>如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">498</span> <span class="attr">width</span>=<span class="string">510</span> <span class="attr">src</span>=<span class="string">'https://player.youku.com/embed/XNDEzMTQ2Mzc2OA=='</span> <span class="attr">frameborder</span>=<span class="string">0</span> '<span class="attr">allowfullscreen</span>'&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果：</p><iframe height="498" width="510" src="https://player.youku.com/embed/XNDEzMTQ2Mzc2OA==" frameborder="0" 'allowfullscreen'><!-- rebuild by neat --></iframe>]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;h2 id=&quot;引言&quot;&gt;引言&lt;/h2&gt;&lt;p&gt;如何在博客中插入视频是件麻烦事，视频来源多种多样，优酷、爱奇艺、云空间；视频的相关控件也需要考虑。如果有插件就很方便了。Dplayer就是为这种需求而产生的！&lt;/p&gt;&lt;h2 id=&quot;使用dplayer插件&quot;&gt;使用Dplayer插件&lt;/h2&gt;&lt;p&gt;github: &lt;a href=&quot;https://github.com/MoePlayer/hexo-tag-dplayer&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/MoePlayer/hexo-tag-dplayer&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1580801312951.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
      <category term="hexo插件" scheme="https://www.yansheng.xyz/tags/hexo-plugin/"/>
    
      <category term="视频" scheme="https://www.yansheng.xyz/tags/video/"/>
    
      <category term="DPlayer" scheme="https://www.yansheng.xyz/tags/dplayer/"/>
    
  </entry>
  
  <entry>
    <title>nginx. [warn] conflicting server name ’yansheng.xyz’ on 0.0.0.0.80, ignored</title>
    <link href="https://www.yansheng.xyz/article/3c19da43.html"/>
    <id>https://www.yansheng.xyz/article/3c19da43.html</id>
    <published>2020-01-28T13:51:57.000Z</published>
    <updated>2020-01-28T13:51:57.000Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --><h2 id="缘由">缘由</h2><p>修改了nginx配置，重新发布后出现这个问题：<strong>nginx: [warn] conflicting server name “yansheng.xyz” on 0.0.0.0:80, ignored</strong>，意思是重复绑定了server name，但这个警告不会影响到服务器运行。而且，这个重复绑定的意思是现在运行的nginx服务和将要加载的新配置中的重复，所以，这个警告其实是不必的。</p><a id="more"></a><p>如果没有设置顺序，默认从配置文件的头部开始读取，如果server name重复，则会报类似警告（因为我的前面的server有配置yansheng.xyz这个域名）。原配置：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span> www.yansheng.xyz yansheng.xyz;</span><br><span class="line">.......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="修改">修改</h2><p>根据提示我们可以按照监听的端口找到对应的server，删除重复的即可。</p><p>修改后：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span> www.yansheng.xyz;</span><br><span class="line">        ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>参考：</p><p><a href="https://blog.csdn.net/weixin_41585557/article/details/83413610" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41585557/article/details/83413610</a><br><a href="https://www.cnblogs.com/wangkongming/p/4450038.html" target="_blank" rel="noopener">https://www.cnblogs.com/wangkongming/p/4450038.html</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Aug 12 2020 14:15:51 GMT+0800 (GMT+08:00) --&gt;&lt;h2 id=&quot;缘由&quot;&gt;缘由&lt;/h2&gt;&lt;p&gt;修改了nginx配置，重新发布后出现这个问题：&lt;strong&gt;nginx: [warn] conflicting server name “yansheng.xyz” on 0.0.0.0:80, ignored&lt;/strong&gt;，意思是重复绑定了server name，但这个警告不会影响到服务器运行。而且，这个重复绑定的意思是现在运行的nginx服务和将要加载的新配置中的重复，所以，这个警告其实是不必的。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Nginx" scheme="https://www.yansheng.xyz/tags/nginx/"/>
    
  </entry>
  
</feed>

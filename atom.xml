<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>荷塘月色的博客</title>
  
  <subtitle>每天进步一点点</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.yansheng.xyz/"/>
  <updated>2020-06-18T07:33:04.852Z</updated>
  <id>https://www.yansheng.xyz/</id>
  
  <author>
    <name>荷塘月色</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>王者荣耀每日壁纸</title>
    <link href="https://www.yansheng.xyz/article/19b653c7.html"/>
    <id>https://www.yansheng.xyz/article/19b653c7.html</id>
    <published>2020-06-18T07:20:52.000Z</published>
    <updated>2020-06-18T07:33:04.852Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" alt="王者荣耀每日壁纸"></p><p>《王者荣耀每日壁纸》项目首页：<a href="http://wzry.yansheng.xyz" target="_blank" rel="noopener">http://wzry.yansheng.xyz</a> 。<br>API说明详见：<a href="http://wzry.yansheng.xyz/swagger-ui.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/swagger-ui.html</a> 。</p><a id="more"></a><h2 id="1-返回json">1.返回JSON</h2><h3 id="1-1大尺寸壁纸-1920x882">1.1大尺寸壁纸(1920x882)</h3><p><code>/json/wallpaper-bigskin.html</code></p><p>返回当天的壁纸的json信息，如（5月28日的数据）：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">149</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168-bigskin-4.jpg"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="参数id说明">参数id说明</h4><table><thead><tr><th>参数值</th><th>说明</th></tr></thead><tbody><tr><td>id=today，不写</td><td>返回从1月1日到当日天数对应的数据</td></tr><tr><td>id=now</td><td>每次刷新随机获得数据</td></tr><tr><td>id=[数字]</td><td>返回对应的id的数据</td></tr></tbody></table><p>Example：</p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=1</a></p><h3 id="1-2较小尺寸壁纸-1200x530">1.2较小尺寸壁纸(1200x530)</h3><p><code>/json/phone-bigskin.html</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">149</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168-bigskin-4.jpg"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=1</a></p><h2 id="2-返回图片">2.返回图片</h2><h3 id="2-1大尺寸壁纸-1920x882">2.1大尺寸壁纸(1920x882)</h3><p><code>/image/wallpaper-bigskin.html</code></p><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=1</a></p><h3 id="2-2较小尺寸壁纸-1200x530">2.2较小尺寸壁纸(1200x530)</h3><p><code>/image/phone-bigskin.html</code></p><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=1</a></p><h2 id="3-图片使用说明">3.图片使用说明</h2><h3 id="html">HTML</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"王者荣耀每日壁纸"</span> <span class="attr">title</span>=<span class="string">"王者荣耀每日壁纸"</span> <span class="attr">src</span>=<span class="string">"http://wzry.yansheng.xyz/image/wallpaper-bigskin.html"</span>/&gt;</span></span><br></pre></td></tr></table></figure><img alt="王者荣耀每日壁纸" title="王者荣耀每日壁纸" src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html"><h3 id="md">MD</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">王者荣耀每日壁纸</span>](<span class="link">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html</span>)</span><br></pre></td></tr></table></figure><p><img src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" alt="王者荣耀每日壁纸"></p><h2 id="license">License</h2><div style="text-align:left"><img src="https://img.shields.io/badge/license-MIT-green.svg" alter="MIT License" title="MIT License"></div><p>This software is licensed under the MIT License by <a href="https://github.com/yansheng836" target="_blank" rel="noopener">yansheng836</a>(Email:<a href="mailto:sheng.yan836@gmail.com" target="_blank" rel="noopener">sheng.yan836@gmail.com</a>).</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://wzry.yansheng.xyz/image/wallpaper-bigskin.html&quot; alt=&quot;王者荣耀每日壁纸&quot;&gt;&lt;/p&gt;
&lt;p&gt;《王者荣耀每日壁纸》项目首页：&lt;a href=&quot;http://wzry.yansheng.xyz&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://wzry.yansheng.xyz&lt;/a&gt; 。&lt;br&gt;
API说明详见：&lt;a href=&quot;http://wzry.yansheng.xyz/swagger-ui.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://wzry.yansheng.xyz/swagger-ui.html&lt;/a&gt; 。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="王者荣耀每日壁纸" scheme="https://www.yansheng.xyz/tags/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E6%AF%8F%E6%97%A5%E5%A3%81%E7%BA%B8/"/>
    
      <category term="王者荣耀" scheme="https://www.yansheng.xyz/tags/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80/"/>
    
      <category term="壁纸" scheme="https://www.yansheng.xyz/tags/%E5%A3%81%E7%BA%B8/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加标签页标题切换功能</title>
    <link href="https://www.yansheng.xyz/article/1e69113d.html"/>
    <id>https://www.yansheng.xyz/article/1e69113d.html</id>
    <published>2020-06-04T00:59:38.000Z</published>
    <updated>2020-06-04T01:18:48.911Z</updated>
    
    <content type="html"><![CDATA[<p>从网站页面切换到另一个页面时：</p><p><img src="https://oss.yansheng.xyz/picgo/20200604090653.png" alt></p><p>返回网站页面时：</p><p><img src="https://oss.yansheng.xyz/picgo/20200604090723.png" alt></p><a id="more"></a><h2 id="原理">原理</h2><p>使用JS修改标题内容，几秒后恢复。</p><p>详见：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e</a></p><h2 id="步骤">步骤</h2><h3 id="1-添加配置">1.添加配置</h3><p><code>themes/yilia/_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tab Title Change | 标签页标题切换</span></span><br><span class="line"><span class="attr">tab_title_change:</span> </span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  left_tab_title:</span> <span class="string">'(つェ⊂) 我藏好了哦~ '</span></span><br><span class="line"><span class="attr">  return_tab_title:</span> <span class="string">'(*´∇｀*) 被你发现啦~ '</span></span><br></pre></td></tr></table></figure><h3 id="2-新建脚本文件">2.新建脚本文件</h3><p><code>themes/yilia/layout/_partial/tab-title-change.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/* 标签页标题切换 */</span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.tab_title_change</span> &amp;&amp; <span class="attr">theme.tab_title_change.enable</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> originTitle = <span class="built_in">document</span>.title;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> titleTime;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.addEventListener(<span class="string">"visibilitychange"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="built_in">document</span>.hidden) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&lt;%- theme.tab_title_change.left_tab_title %&gt;"</span> + originTitle;</span></span><br><span class="line">      clearTimeout(titleTime);</span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&lt;%- theme.tab_title_change.return_tab_title %&gt;"</span> + originTitle;</span></span><br><span class="line"><span class="actionscript">      titleTime = setTimeout(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.title = originTitle;</span></span><br><span class="line">      &#125;, 2000);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-引入脚本文件">3.引入脚本文件</h3><p><code>themes/yilia/layout/_partial/after-footer.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* 标签页标题切换 */</span><br><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">tab-title-change</span>') %&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;从网站页面切换到另一个页面时：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/20200604090653.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;返回网站页面时：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/20200604090723.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加APlayer音乐播放器</title>
    <link href="https://www.yansheng.xyz/article/bf60dd05.html"/>
    <id>https://www.yansheng.xyz/article/bf60dd05.html</id>
    <published>2020-04-05T15:26:34.000Z</published>
    <updated>2020-04-05T16:34:06.047Z</updated>
    
    <content type="html"><![CDATA[<p>之前写过一篇文章，是将APlayer音乐播放器放到左侧的（详见：<a href="/article/5c52aefe.html">hexo+yilia添加背景音乐</a>），但是在手机端时，因为左侧边栏会被隐藏，因此也就会将播放器给隐藏掉。也就会是说手机端不能显示该播放器。</p><p>这里换一种方式，直接添加到整个页面中，使其在手机端也能使用。<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200406000912.jpg" alt></p><a id="more"></a><h2 id="说明">说明</h2><ol><li>如果你第一次安装APlayer音乐播放器，我建议你先看一下上面的那篇文章（如果你不介意手机端不能使用，按照那篇文章来也是OK的😬），这里不再详细介绍APlayer。</li><li>如果你之前有按照我上面的文章进行配置，建议先删除之前的配置，不然可能会有冲突。</li></ol><h2 id="安装步骤">安装步骤</h2><h3 id="1-添加插件">1.添加插件</h3><p>找到对应<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的文件，在<code>&lt;body&gt;</code>和 <code>&lt;div id=&quot;container&quot;</code>之间添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加--APlayer音乐播放器,详见: https://aplayer.js.org/#/zh-Hans/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.aplayer.enable</span>) &#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span> <span class="attr">style</span>=<span class="string">"text-align:left;z-index: 10;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 为方便修改，添加一个配置文件，修改时直接修改配置文件即可。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&lt;%- url_for('js/APlayer_config.js') %&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 根据封面自适应主题色，主要是作用于进度条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">const</span> colorThief = <span class="keyword">new</span> ColorThief();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> setTheme = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (!ap.list.audios[index].theme) &#123;</span></span><br><span class="line"><span class="actionscript">              colorThief.getColorAsync(ap.list.audios[index].cover, <span class="function"><span class="keyword">function</span><span class="params">(color)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                ap.theme(<span class="string">`rgb(<span class="subst">$&#123;color[<span class="number">0</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">1</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">2</span>]&#125;</span>)`</span>, index);</span></span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;;</span><br><span class="line">          setTheme(ap.list.index);</span><br><span class="line"><span class="actionscript">          ap.on(<span class="string">'listswitch'</span>, (data) =&gt; &#123;</span></span><br><span class="line">            setTheme(data.index);</span><br><span class="line">          &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加--APlayer音乐播放器》 --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="注意">注意</h4><ol><li><code>js/APlayer_config.js</code>文件是APlayer的配置文件，需要自己新建，位置为：<code>themes\yilia\source\js\APlayer_config.js</code>，如果不懂参考之前的文章。</li><li>这里的<code>&lt;div id=&quot;aplayer&quot;</code><strong>id</strong>需要与<code>js/APlayer_config.js</code>中<code>container: document.getElementById('aplayer')</code>的id一致。</li></ol><h3 id="2-添加样式">2.添加样式</h3><p>在<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>任意位置添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.aplayer</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>:<span class="number">0.8</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="效果图">效果图</h2><p>PC端：<a href="#">见上</a></p><p>手机端<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/APlayer.gif" alt></p><hr><p>参考：<a href="https://qianlei6148.github.io/2018/10/13/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0aplayer%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/" target="_blank" rel="noopener">为hexo博客yilia模版添加aplayer音乐播放器</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;之前写过一篇文章，是将APlayer音乐播放器放到左侧的（详见：&lt;a href=&quot;/article/5c52aefe.html&quot;&gt;hexo+yilia添加背景音乐&lt;/a&gt;），但是在手机端时，因为左侧边栏会被隐藏，因此也就会将播放器给隐藏掉。也就会是说手机端不能显示该播放器。&lt;/p&gt;
&lt;p&gt;这里换一种方式，直接添加到整个页面中，使其在手机端也能使用。&lt;br&gt;
&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/20200406000912.jpg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>2020年清明节</title>
    <link href="https://www.yansheng.xyz/article/b75f4e3a.html"/>
    <id>https://www.yansheng.xyz/article/b75f4e3a.html</id>
    <published>2020-04-04T01:26:45.000Z</published>
    <updated>2020-04-04T04:13:26.123Z</updated>
    
    <content type="html"><![CDATA[<p>2020年4月4日清明节</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/%E8%9C%A1%E7%83%9B.jpg" alt></p><a id="more"></a><h2 id="国务院发布公告：2020年4月4日举行全国性哀悼活动">国务院发布公告：2020年4月4日举行全国性哀悼活动</h2><p>为表达全国各族人民对抗击新冠肺炎疫情斗争牺牲烈士和逝世同胞的深切哀悼，国务院今天（4月3日）发布公告，决定2020年4月4日举行全国性哀悼活动。在此期间，全国和驻外使领馆下半旗志哀，全国停止公共娱乐活动。4月4日10时起，全国人民默哀3分钟，汽车、火车、舰船鸣笛，防空警报鸣响。</p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-4-4.jpeg" width="100%"><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-4-4-1.jpg" alt></p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-4-4-2.jpg" alt></p><h2 id="只要平凡">《只要平凡》</h2><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=574919767&auto=0&height=66"></iframe><details><summary title="点击查看隐藏内容">歌词</summary><div class="container">    <p>只要平凡（电影《我不是药神》主题曲）</p><center class="poem song"><p style="padding-left:40%;text-align: left;font-size: 15px;">演唱：张杰，张碧晨<br></p><p>张杰：也许很远或是昨天     在这里或在对岸<br>长路辗转离合悲欢     人聚又人散<br>放过对错才知答案     活着的勇敢<br>没有神的光环     你我生而平凡</p><p>张碧晨：在心碎中认清遗憾     生命漫长也短暂<br>跳动心脏长出藤蔓     愿为险而战<br>跌入灰暗坠入深渊     沾满泥土的脸<br>没有神的光环     握紧手中的平凡<br>此心此生无憾     生命的火已点燃</p><p>张杰：有一天也许会走远     也许还能再相见<br>无论在人群在天边     让我再看清你的脸<br>任泪水铺满了双眼     虽无言泪满面<br>不要神的光环     只要你的平凡</p><p>张碧晨：在心碎中认清遗憾     生命漫长也短暂<br>跳动心脏长出藤蔓     愿为险而战<br>跌入灰暗坠入深渊     沾满泥土的脸<br>没有神的光环     握紧手中的平凡</p><p>张杰：有一天也许会走远     也许还能再相见</p><p>张碧晨：无论在人群在天边     让我再看清你的脸</p><p>张杰：任泪水铺满了双眼     虽无言泪满面</p><p>合：不要神的光环     只要你的平凡<br>此心此生无憾     生命的火已点燃</p></center></div></details><style>.container {    background:RGBA(255, 255, 255, 0.5);    padding-top:10px;    padding-bottom:10px;}.container p {    font-family:'Audiowide';    text-align: center;    color: #9E9E9E;    font-size: 30px;    line-height:40px;    -webkit-transition: all 1.5s ease;    transition: all 1.5s ease;}.container p:hover {    color: #383737;    -webkit-animation: Glow 1.5s ease infinite alternate;    animation: Glow 1.5s ease infinite alternate;}@media screen and (max-width: 800px) {    .container {        max-width:394.4px;    }    .container p {        font-size: 18px;        line-height: 28px;    }}</style><h2 id="多灾多难的一年">多灾多难的一年</h2><p>2019年非洲猪瘟肆意，猪价疯涨，至今仍未跌回原价。</p><p>2019年3月30日17时，四川省凉山州木里县境内发生森林火灾，27名森林消防支队战士牺牲。我们的伤痛还未抚平，2020年3月30日凌晨3点，四川省凉山州西昌市突发山火，19位救火英雄牺牲。哪有什么岁月静好，只不过有人在替你负重前行。</p><p>2019年年底至今，突如其来的新型冠状病毒肺炎让我们如临大敌，由武汉蔓延至全国，乃至全球。一场没有没有硝烟的战争悄然打响，武汉封城，一大批医护人员自愿请战，赶往第一线。全国人民众志成城，捐款捐物。<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200404110242.png" alt></p><p><strong>祝愿：明天会更好！</strong></p><blockquote><p>参考：</p><ul><li><a href="https://www.iyxwzx.com/qg/32513.html" target="_blank" rel="noopener">非洲猪瘟</a></li><li><a href="https://baijiahao.baidu.com/s?id=1629681413105575715&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">凉山木里县森林火灾</a></li><li><a href="https://henan.china.com/news/hot/2020/0404/253065725.html" target="_blank" rel="noopener">西昌山火</a></li><li><a href="http://news.sina.com.cn/c/2020-04-02/doc-iimxyqwa4554623.shtml" target="_blank" rel="noopener">为什么又是四川凉山？</a></li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;2020年4月4日清明节&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/%E8%9C%A1%E7%83%9B.jpg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
      <category term="随笔" scheme="https://www.yansheng.xyz/tags/essay/"/>
    
      <category term="新冠肺炎" scheme="https://www.yansheng.xyz/tags/2019-nCoV/"/>
    
  </entry>
  
  <entry>
    <title>冠状病毒2019-nCoV实时统计</title>
    <link href="https://www.yansheng.xyz/article/ef6b6c25.html"/>
    <id>https://www.yansheng.xyz/article/ef6b6c25.html</id>
    <published>2020-03-25T10:07:49.000Z</published>
    <updated>2020-03-25T15:52:12.489Z</updated>
    
    <content type="html"><![CDATA[<p>介绍两个两个有实时数据的网站，方便我们关注新冠肺炎的情况。</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200325234333.png" alt></p><a id="more"></a><h2 id="中文网站-数据以国内为主">中文网站（数据以国内为主）</h2><h3 id="全球新冠病毒最新实时疫情地图-丁香园">全球新冠病毒最新实时疫情地图_丁香园</h3><p>丁香园、丁香医生整合各权威渠道发布的官方数据，通过疫情地图直观展示，持续更新最新的新型冠状病毒肺炎的实时疫情动态。<br>网址：<a href="https://ncov.dxy.cn/ncovh5/view/pneumonia" target="_blank" rel="noopener">https://ncov.dxy.cn/ncovh5/view/pneumonia</a></p><p><a href="https://ncov.dxy.cn/ncovh5/view/pneumonia" target="_blank" rel="noopener"><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200325232922.png" alt="全球新冠病毒最新实时疫情地图_丁香园"></a></p><h2 id="英文网站-数据以国外为主">英文网站（数据以国外为主）</h2><h3 id="coronavirus-map">Coronavirus Map</h3><p>See the Coronavirus (COVID-19) cases on the map. Latest stats, information on new cases.<br>网址：<a href="https://clustrmaps.com/coronavirus/" target="_blank" rel="noopener">https://clustrmaps.com/coronavirus/</a></p><p><a href="https://clustrmaps.com/coronavirus" target="_blank" rel="noopener"><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200325232007.png" alt="Coronavirus Map"></a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;介绍两个两个有实时数据的网站，方便我们关注新冠肺炎的情况。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/20200325234333.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
      <category term="随笔" scheme="https://www.yansheng.xyz/tags/essay/"/>
    
      <category term="新冠肺炎" scheme="https://www.yansheng.xyz/tags/2019-nCoV/"/>
    
  </entry>
  
  <entry>
    <title>Hexo文章保存为草稿</title>
    <link href="https://www.yansheng.xyz/article/ab5d2a72.html"/>
    <id>https://www.yansheng.xyz/article/ab5d2a72.html</id>
    <published>2020-03-17T09:39:14.000Z</published>
    <updated>2020-05-02T14:49:00.926Z</updated>
    
    <content type="html"><![CDATA[<img src="https://api.uixsj.cn/bing/bing.php" width="auto" height="auto" alt="bing每日壁纸" title="bing每日壁纸"><a id="more"></a><h2 id="version">Version</h2><p><strong>Hexo 3.3.8</strong></p><h2 id="传统建立文章方式">传统建立文章方式</h2><p>一般我们都会使用 <code>hexo new &lt;title&gt;</code> 来建立文章（该命令其实是<code>hexo new post &lt;title&gt;</code>命令的简写形式），这种建立方法会将新文章建立在 <code>source/_posts</code> 目录下，当使用 <code>hexo generate</code> 编译 markdown 文件时，会将其 HTML 结果编译在 <code>public</code> 目录下，之后 <code>hexo deploy</code> 将会把 <code>public</code> 目录下所有文章部署到 GitHub，这是我们熟悉的 Hexo 流程。</p><p>这种建立文章方式的缺点是：若我们同时编辑多篇文章，只要其中一篇文章尚未编辑完成，也会随着 <code>hexo deploy</code> 一起部署到 GitHub，也就是 GitHub 可能会看到我们尚未完成的文章。</p><h2 id="建立文章草稿">建立文章草稿</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new draft &lt;title&gt;</span><br></pre></td></tr></table></figure><p>Hexo 另外提供 <code>draft</code> 机制，它的原理是新文章将建立在 <code>source/_drafts</code> 目录下，因此 <code>hexo generate</code> 并不会将其编译到 <code>public</code> 目录下，所以 <code>hexo deploy</code> 也不会将其部署到 GitHub。</p><h2 id="本机预览草稿">本机预览草稿</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s --draft</span><br></pre></td></tr></table></figure><p>虽然 <code>hexo generate</code> 不会编译 <code>source/_drafts</code> 目录下的文章，但 Hexo 的 <code>Hexo server</code> 另外提供 <code>--draft</code> 参数，这让我们只要搭配 <code>hexo-browsersync</code> plugins，就可以达到一边编辑 <code>markdown</code> 文章，一边使用浏览器预览的目的。</p><h2 id="将草稿发布为正式文章">将草稿发布为正式文章</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo p &lt;filename&gt;</span><br></pre></td></tr></table></figure><p>其中 <code>&lt;filename&gt;</code> 为不包含 <code>md</code> 后缀的文章名称。它的原理只是将文章从 <code>source/_drafts</code> 移动到 <code>source/_posts</code> 而已。</p><p>之后的 <code>hexo generate</code> 与 <code>hexo deploy</code> 的用法就完全一样了。</p><p>若日后想将正式文章转为为草稿，只需手动将文章从 <code>source/_posts</code> 目录移动到 <code>source/_drafts</code> 目录即可。</p><blockquote><ul><li><strong>本文作者：</strong> novnan</li><li><strong>本文链接：</strong> <a href="https://novnan.github.io/Hexo/hexo-draft/" target="_blank" rel="noopener">https://novnan.github.io/Hexo/hexo-draft/</a></li><li><strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;https://api.uixsj.cn/bing/bing.php&quot; width=&quot;auto&quot; height=&quot;auto&quot; alt=&quot;bing每日壁纸&quot; title=&quot;bing每日壁纸&quot;&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>中国加油，武汉加油！</title>
    <link href="https://www.yansheng.xyz/article/a07aa35d.html"/>
    <id>https://www.yansheng.xyz/article/a07aa35d.html</id>
    <published>2020-02-29T17:17:01.000Z</published>
    <updated>2020-03-25T15:58:07.515Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://oss.yansheng.xyz/img/%E4%B8%AD%E5%9B%BD%E5%8A%A0%E6%B2%B9-%E6%AD%A6%E6%B1%89%E5%8A%A0%E6%B2%B9.jpg" alt="1月31日，武汉市江汉区西北湖附近高层建筑外墙打出“武汉加油”等字样（无人机照片）。 新华社记者 肖艺九 摄"></p><a id="more"></a><h2 id="愿-黎明的编钟声-响起-一切疾病都已远去">愿《黎明的编钟声》响起，一切疾病都已远去！</h2><blockquote><p>以下内容转自：<a href="https://baijiahao.baidu.com/s?id=1658231454062945935&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">https://baijiahao.baidu.com/s?id=1658231454062945935&amp;wfr=spider&amp;for=pc</a></p></blockquote><p><strong>夜走了</strong></p><p><strong>天亮了</strong></p><p><strong>天空和钟声一同醒来了</strong></p><p><strong>樱花在温暖的春风中飞扬</strong></p><p><strong>武汉，我们在等你</strong></p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200319165539.png" width="100%" title="黎明的编钟声"><p>近日，享誉世界盛名的国际流行钢琴家尚·马龙（Jean -Franois Maljean），在他的家乡比利时，特别为中国、为武汉创作的一首“战疫防疫”国际公益曲《CHIME OF THE DAWN BELLS》（中文名：《黎明的编钟声》）。他通过这首歌从地球的另一端为武汉送来遥远的祝福，致敬那些勇敢抗疫的前线人员，为中国人民、中国医护工作者加油鼓气。这也是新冠肺炎疫情爆发以来，首位外国艺术家创作的公益歌曲。</p><p>尚·马龙是比利时知名的乐坛诗人，与雅尼、班得瑞、理查德·克莱德曼、喜多郎齐名，并称为新世纪十大音乐大师。他对中国的感情很深远，对中国的文化情有独钟，2010年与中国知名歌手共同演唱上海世博会比利时馆主题歌《我们的歌》 ，2018年创作的侗族大歌《尽情欢歌》曾登上央视春节联欢晚会。</p><p>此次创作的《CHIME OF THE DAWN BELLS》（黎明的编钟声），尚·马龙特别加入了湖北编钟的元素，结合他本人的钢琴演奏，东西方乐器交融回旋，谱写了一曲“中国与世界命运与共”的华章。歌曲饱含深情，处处流露着中国传统文化和武汉城市元素。尚·马龙特别加了一段自己的中文独白：“夜走了，天亮了，天空和钟声一同醒来了，樱花在温暖的春风中飞扬，武汉，我们在等你。”以此来表达他对武汉，对中国深切的关怀与期待。</p><p>尚·马龙在采访中表示：“我想告诉西方人民，他们不必害怕，应与目前陷入困境的中国人民友好相处。在我职业生涯的最近二十年里，中国给了我很大帮助，我真诚的愿意为中国的朋友们做些事来帮助他们。”（译）没有一个冬天不可逾越，没有一个春天不会来临，武汉和整个中国一定会战胜疫情，全世界人民都在期盼这一刻的到来。</p><p>歌曲MV的制作也得到了全球各地人们以及武汉大学中南医院、世界银行华人职工协会、湖北省外商投资企业协会等众多机构的帮助，同时也邀请到了世界音乐大师Silvano Macaluso一起参与创作，这是他们的再次合作，Silvano Macaluso和尚·马龙曾经共同担任尚雯婕专辑《Nightmare》制作人。</p><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","loop":true,"video":{"url":"https://oss.yansheng.xyz/video/%E9%BB%8E%E6%98%8E%E7%9A%84%E7%BC%96%E9%92%9F%E5%A3%B0.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><style>.container {    background:RGBA(255, 255, 255, 0.5);    padding-top:10px;    padding-bottom:10px;    /*width:900px;height:800px;position: relative;margin-bottom:-120px;*/    /*background-image:url(https://myblog12.qiniu.yansheng.xyz/南台山.jpg);background:url(https://myblog12.qiniu.yansheng.xyz/南台山.jpg) no-repeat cover;*/}.container p {    font-family:'Audiowide';    text-align: center;    color: #00a67c;    font-size: 30px;    line-height:40px;    -webkit-transition: all 1.5s ease;    transition: all 1.5s ease;}.container p:hover {    /*color: #fff;*/    color: #f34949;    -webkit-animation: Glow 1.5s ease infinite alternate;    animation: Glow 1.5s ease infinite alternate;}@media screen and (max-width: 800px) {    .container {        max-width:394.4px;    }    .container p {        font-size: 18px;        line-height: 28px;    }}@-webkit-keyframes Glow {    from {        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 40px #00a67c, 0 0 70px #00a67c, 0 0 80px #00a67c, 0 0 100px #00a67c, 0 0 150px #00a67c;    }    to {        text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #00a67c, 0 0 35px #00a67c, 0 0 40px #00a67c, 0 0 50px #00a67c, 0 0 75px #00a67c;    }}@keyframes Glow {    from {        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 40px #00a67c, 0 0 70px #00a67c, 0 0 80px #00a67c, 0 0 100px #00a67c, 0 0 150px #00a67c;    }    to {        text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #00a67c, 0 0 35px #00a67c, 0 0 40px #00a67c, 0 0 50px #00a67c, 0 0 75px #00a67c;    }}</style><div class="container">    <p>《CHIME OF THE DAWN BELLS》（黎明的编钟声）</p><center class="poem song"><p style="padding-left:20%;text-align: left;font-size: 15px;">曲名：《CHIME BELLS OF DAWN》黎明的编钟声<br>作词：Kelvin Ho（何浏）、Jean-Franois Maljean（尚·马龙）、ROBERT MURRAY<br>作曲：Jean-Franois Maljean（尚·马龙）<br>主唱：Noémie Maljean<br></p><p>SUFFERING,SUFFERING<br>疾病，苦难</p><p>IS LIKE A DARK CLOUD.<br>有如乌云</p><p>LOOKING, LOOKING FAR AWAY<br>远远望去</p><p>YOU WILL SEE A DARK SKY<br>你会看到天空墨黑一片</p><p>BUT WHEN YOU’RE UNDER IT<br>但是身临其下</p><p>YOU ARE, YOU ARE ONLY GREY<br>不过是灰色而已</p><p>DON’T GIVE UP<br>永不言弃</p><p>WHEN YOU HEAR THE MUSIC OF CHIME BELLS<br>听到编钟声响起</p><p>STANDING ON THE YELLOW CRANE TOWER<br>站在黄鹤楼上</p><p>YOU MAY FEEL ALONE NOW<br>此时你可能会感到孤单</p><p>BUT THE WORLD STANDS WITH YOU<br>但要相信世界人民与你们同在</p><p>UNITED, UNITED PROUD AND BRAVE<br>齐心协力、自强不息、勇往直前</p><p>YOU WILL HEAR THE CHIME BELLS<br>编钟响起时</p><p>MUSIC LIFTS THE DARKNESS<br>音乐终将会驱散黑暗</p><p>SHINING, SHINING ON THE WAVES<br>阳光照耀在江面上</p><p>DON’T GIVE UP<br>永不言弃</p><p>WHEN YOU HEAR THE MUSIC OF CHIME BELLS<br>听到编钟声响起</p><p>STANDING ON THE YELLOW CRANE TOWER<br>站在黄鹤楼上</p><p><font color="red">独白：夜走了<br>天亮了<br>天空和钟声一同醒来了<br>樱花在温暖的春风中飞扬<br>武汉，我们在等你</font></p><p>THE DAWN WILL BREAK<br>黎明总会到来</p><p>TO END YOUR DARKEST HOUR<br>黑夜终将过去</p><p>STANDING ON THE YELLOW CRANE TOWER.<br>站在黄鹤楼上</p><p>THE DAWN WILL BREAK<br>黎明总会到来</p><p>TO END YOUR DARKEST HOUR<br>黑夜终将过去</p><p>STANDING ON THE YELLOW CRANE TOWER<br>站在黄鹤楼上</p></center></div><h2 id="相关链接">相关链接</h2><ul><li>爱奇艺相关视频：<a href="https://www.iqiyi.com/v_19rvsx9r78.html" target="_blank" rel="noopener">https://www.iqiyi.com/v_19rvsx9r78.html</a></li><li>GitHub相关项目：<a href="https://github.com/BlankerL/DXY-COVID-19-Crawler" target="_blank" rel="noopener">https://github.com/BlankerL/DXY-COVID-19-Crawler</a></li><li>全球新冠病毒最新实时疫情地图_丁香园：<a href="https://ncov.dxy.cn/ncovh5/view/pneumonia" target="_blank" rel="noopener">https://ncov.dxy.cn/ncovh5/view/pneumonia</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/img/%E4%B8%AD%E5%9B%BD%E5%8A%A0%E6%B2%B9-%E6%AD%A6%E6%B1%89%E5%8A%A0%E6%B2%B9.jpg&quot; alt=&quot;1月31日，武汉市江汉区西北湖附近高层建筑外墙打出“武汉加油”等字样（无人机照片）。 新华社记者 肖艺九 摄&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
      <category term="随笔" scheme="https://www.yansheng.xyz/tags/essay/"/>
    
      <category term="新冠肺炎" scheme="https://www.yansheng.xyz/tags/2019-nCoV/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加分类页面</title>
    <link href="https://www.yansheng.xyz/article/521a17ae.html"/>
    <id>https://www.yansheng.xyz/article/521a17ae.html</id>
    <published>2020-02-21T14:44:00.000Z</published>
    <updated>2020-03-19T08:45:52.819Z</updated>
    
    <content type="html"><![CDATA[<h2 id="效果图">效果图</h2><p>PC端：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221224830.png" alt></p><p>手机端：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221225116.png" alt></p><a id="more"></a><h2 id="一般情况下">一般情况下</h2><p>只需要新建一个页面，并且指定页面的类型即可生成对应的分类和归档页面，因为很多hexo的主题都集成了分类和标签的功能。</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221232218.png" alt></p><p>具体可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/97758641" target="_blank" rel="noopener">Hexo新建标签、分类、归档等页面</a></p><h2 id="针对yilia主题">针对yilia主题</h2><p>虽然这个主题好像有集成，但是好像不管用！！！</p><p>主要参考：<a href="https://github.com/litten/hexo-theme-yilia/issues/835" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia/issues/835</a></p><h3 id="步骤">步骤</h3><h4 id="1-新建页面">1.新建页面</h4><p>在hexo根目录运行命令<code>hexo new page categories</code>，新建一个分类页面。会在生成<code>\source\categories\index.md</code>文件，编辑的内容为：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章分类</span><br><span class="line">date: 2019-08-19 11:48:35</span><br><span class="line">toc: false</span><br><span class="line">comments: false</span><br><span class="line">layout: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h4 id="2-新建一个布局文件">2.新建一个布局文件</h4><p>在你的博客路径下（如<code>\themes\yilia\layout\</code>目录)新建一个categories.ejs文件(用原来的category.ejs生成静态文件时会报错)，内容如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"article"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"category-count"</span>&gt;</span>共计 <span class="tag">&lt;<span class="name">%=</span> <span class="attr">site.categories.length</span> %&gt;</span> 个分类, <span class="tag">&lt;<span class="name">%=</span> <span class="attr">site.tags.length</span> %&gt;</span> 个标签<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">site.categories.length</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"category-list"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">site.categories.sort</span>('<span class="attr">name</span>')<span class="attr">.each</span>(<span class="attr">function</span>(<span class="attr">item</span>)&#123; %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">item.posts.length</span>)&#123; %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"category-list-item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- config.root %&gt;&lt;%- item.path %&gt;"</span> <span class="attr">class</span>=<span class="string">"category-list-link"</span> <span class="attr">title</span>=<span class="string">"&lt;%= item.name %&gt;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.name</span> %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"category-list-count"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.posts.length</span> %&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tag-cloud"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">tagcloud</span>(&#123;</span></span><br><span class="line"><span class="tag">      <span class="attr">min_font:</span> <span class="attr">20</span>, </span></span><br><span class="line"><span class="tag">      <span class="attr">max_font:</span> <span class="attr">35</span>, </span></span><br><span class="line"><span class="tag">      <span class="attr">amount:</span> <span class="attr">999</span></span></span><br><span class="line"><span class="tag">    &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure><p>部署即可。</p><h4 id="3-添加样式">3.添加样式</h4><p>你可以根据需要更改它的样式。可以参考这个，在<code>\themes\yilia\source\main.0cf68a.css</code>中添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.category-count</span> &#123;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>:<span class="number">3</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> &#123;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:inline-block;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">4px</span>;</span><br><span class="line"><span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#aaaaaa</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">1.2rem</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="built_in">rgba</span>(204,204,204,0.3)</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> &#123;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">word-break</span>:keep-all;</span><br><span class="line"><span class="attribute">position</span>:relative</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>:auto</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"><span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line"><span class="attribute">position</span>:absolute;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">2px</span>;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#08c</span>;</span><br><span class="line"><span class="attribute">-webkit-transition</span>:width .<span class="number">3s</span> ease;</span><br><span class="line"><span class="attribute">transition</span>:width .<span class="number">3s</span> ease</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-效果">4.效果</h4><p>默认样式的效果：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221224558.png" alt></p><p>手机端<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221224659.png" alt></p><h3 id="修改样式">修改样式</h3><p>这主要是修改标题和超链接的样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*《分类页面，标签页面样式*/</span></span><br><span class="line"><span class="comment">/*标题*/</span></span><br><span class="line"><span class="selector-class">.category-count</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">font-family</span>: STCaiyun, STXingkai;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="comment">/*渐变背景*/</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(left, #3498db, #f47920 10%, #d71345 20%, #f7acbc 30%, #ffd400 40%, #3498db 50%, #f47920 60%, #d71345 70%, #f7acbc 80%, #ffd400 90%, #3498db);</span><br><span class="line">    <span class="attribute">color</span>: transparent;</span><br><span class="line">    <span class="comment">/*文字填充色为透明*/</span></span><br><span class="line">    <span class="attribute">-webkit-text-fill-color</span>: transparent;</span><br><span class="line">    <span class="attribute">-webkit-background-clip</span>: text;</span><br><span class="line">    <span class="comment">/*背景剪裁为文字，只将文字显示为背景*/</span></span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">200%</span> <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">/*背景图片向水平方向扩大一倍，这样background-position才有移动与变化的空间*/</span></span><br><span class="line">    <span class="comment">/* 动画 */</span></span><br><span class="line">    <span class="attribute">animation</span>: masked-animation <span class="number">4s</span> infinite linear;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> masked-animation &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">/*background-position 属性设置背景图像的起始位置。*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: -<span class="number">100%</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 手机端CSS代码 */</span></span><br><span class="line"> @<span class="keyword">media</span> screen and (max-width: <span class="number">960px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.category-count</span> &#123;</span><br><span class="line">        <span class="attribute">text-align</span>:center;</span><br><span class="line">        <span class="attribute">line-height</span>:<span class="number">3</span>;</span><br><span class="line">        <span class="attribute">font-size</span>:<span class="number">27px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 分类 */</span></span><br><span class="line"><span class="selector-class">.category-list</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">4px</span>;</span><br><span class="line">    <span class="comment">/* border:1px solid #aaaaaa; */</span></span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">1.2rem</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#ffffff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* .category-list li.category-list-item:hover &#123;</span></span><br><span class="line"><span class="comment">    background:rgba(204, 204, 204, 0.3)</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* https://github.com/IanLunn/Hover,</span></span><br><span class="line"><span class="comment">https://ianlunn.github.io/Hover/ */</span></span><br><span class="line"><span class="comment">/* Rectangle In */</span></span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.5em</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#2098D1</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition-property</span>: color;</span><br><span class="line">  <span class="attribute">transition-property</span>: color;</span><br><span class="line">  <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e1e1e1</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(1);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1);</span><br><span class="line">  <span class="attribute">-webkit-transition-property</span>: transform;</span><br><span class="line">  <span class="attribute">transition-property</span>: transform;</span><br><span class="line">  <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition-timing-function</span>: ease-out;</span><br><span class="line">  <span class="attribute">transition-timing-function</span>: ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:focus</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:active</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(0);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 分类和标签的分界面 */</span></span><br><span class="line"><span class="selector-class">.category-hr-tag</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 标签 */</span></span><br><span class="line"><span class="selector-class">.tag-cloud</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">word-break</span>:keep-all;</span><br><span class="line">    <span class="attribute">position</span>:relative</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>:auto</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#08c</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>:width .<span class="number">3s</span> ease;</span><br><span class="line">    <span class="attribute">transition</span>:width .<span class="number">3s</span> ease</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*分类页面，标签页面样式》*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*《版权声明的样式*/</span></span><br><span class="line"> <span class="selector-class">.declare</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">3px</span> solid <span class="number">#ff1700</span>;</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*版权声明的样式》*/</span></span><br></pre></td></tr></table></figure><p>新增分界线</p><p>修改<code>H:\Hexo\themes\yilia\layout\categories.ejs</code>，在<code>&lt;div class=&quot;tag-cloud&quot;&gt;</code>前面新增：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span> <span class="attr">class</span>=<span class="string">"category-hr-tag"</span> <span class="attr">width</span>=<span class="string">"90%"</span> <span class="attr">color</span>=<span class="string">"#987cb9"</span> <span class="attr">size</span>=<span class="string">"3"</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="效果图-v2">效果图</h4><p><a href="#%E6%95%88%E6%9E%9C%E5%9B%BE">见上</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;效果图&quot;&gt;效果图&lt;/h2&gt;
&lt;p&gt;PC端：&lt;br&gt;
&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/20200221224830.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;手机端：&lt;br&gt;
&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/20200221225116.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo-yilia添加Dplayer视频播放插件</title>
    <link href="https://www.yansheng.xyz/article/252051e3.html"/>
    <id>https://www.yansheng.xyz/article/252051e3.html</id>
    <published>2020-02-04T05:06:21.000Z</published>
    <updated>2020-02-09T07:15:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="引言">引言</h2><p>如何在博客中插入视频是件麻烦事，视频来源多种多样，优酷、爱奇艺、云空间；视频的相关控件也需要考虑。如果有插件就很方便了。Dplayer就是为这种需求而产生的！</p><h2 id="使用dplayer插件">使用Dplayer插件</h2><p>github: <a href="https://github.com/MoePlayer/hexo-tag-dplayer" target="_blank" rel="noopener">https://github.com/MoePlayer/hexo-tag-dplayer</a></p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1580801312951.png" alt="file"></p><a id="more"></a><blockquote><p>引用</p></blockquote><h2 id="npm-install">npm install</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-dplayer --save</span><br></pre></td></tr></table></figure><h2 id="usage">Usage</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer key=value ... %&#125;</span><br></pre></td></tr></table></figure><p>key can be</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dplayer options:</span><br><span class="line">    &apos;autoplay&apos;, &apos;loop&apos;, &apos;screenshot&apos;, &apos;hotkey&apos;, &apos;mutex&apos;, &apos;dmunlimited&apos; : bool options, use &quot;yes&quot; &quot;y&quot; &quot;true&quot; &quot;1&quot; &quot;on&quot; or just without value to enable</span><br><span class="line">    &apos;preload&apos;, &apos;theme&apos;, &apos;lang&apos;, &apos;logo&apos;, &apos;url&apos;, &apos;pic&apos;, &apos;thumbnails&apos;, &apos;vidtype&apos;, &apos;suburl&apos;, &apos;subtype&apos;, &apos;subbottom&apos;, &apos;subcolor&apos;, &apos;subcolor&apos;, &apos;id&apos;, &apos;api&apos;, &apos;token&apos;, &apos;addition&apos;, &apos;dmuser&apos; : string arguments</span><br><span class="line">    &apos;volume&apos;, &apos;maximum&apos; : number arguments</span><br><span class="line">container options:</span><br><span class="line">    &apos;width&apos;, &apos;height&apos; : string, used in container element style</span><br><span class="line">other:</span><br><span class="line">    &apos;code&apos; : value of this key will be append to script tag</span><br></pre></td></tr></table></figure><p>arguments to DPlayer options mapping:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    container: &quot;you needn&apos;t set this&quot;,</span><br><span class="line">    autoplay: &apos;autoplay&apos;,</span><br><span class="line">    theme: &apos;theme&apos;,</span><br><span class="line">    loop: &apos;loop&apos;,</span><br><span class="line">    lang: &apos;lang&apos;,</span><br><span class="line">    screenshot: &apos;screenshot&apos;,</span><br><span class="line">    hotkey: &apos;hotkey&apos;,</span><br><span class="line">    preload: &apos;preload&apos;,</span><br><span class="line">    logo: &apos;logo&apos;,</span><br><span class="line">    volume: &apos;volume&apos;,</span><br><span class="line">    mutex: &apos;mutex&apos;,</span><br><span class="line">    video: &#123;</span><br><span class="line">        url: &apos;url&apos;,</span><br><span class="line">        pic: &apos;pic&apos;,</span><br><span class="line">        thumbnails: &apos;thumbnails&apos;,</span><br><span class="line">        type: &apos;vidtype&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    subtitle: &#123;</span><br><span class="line">        url: &apos;suburl&apos;,</span><br><span class="line">        type: &apos;subtype&apos;,</span><br><span class="line">        fontSize: &apos;subsize&apos;,</span><br><span class="line">        bottom: &apos;subbottom&apos;,</span><br><span class="line">        color: &apos;subcolor&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    danmaku: &#123;</span><br><span class="line">        id: &apos;id&apos;,</span><br><span class="line">        api: &apos;api&apos;,</span><br><span class="line">        token: &apos;token&apos;,</span><br><span class="line">        maximum: &apos;maximum&apos;,</span><br><span class="line">        addition: [&apos;addition&apos;],</span><br><span class="line">        user: &apos;dmuser&apos;,</span><br><span class="line">        unlimited: &apos;dmunlimited&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    icons: &apos;icons&apos;,</span><br><span class="line">    contextmenu: &apos;menu&apos;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>see dplayer documents for more infomation.</p><p>for example:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.mp4&quot; &quot;addition=https://dplayer.daoapp.io/bilibili?aid=4157142&quot; &quot;api=https://api.prprpr.me/dplayer/&quot; &quot;pic=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.jpg&quot; &quot;id=9E2E3368B56CDBB4&quot; &quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;token=tokendemo&quot; %&#125;</span><br><span class="line">&#123;% dplayer &apos;url=some.mp4&apos; &quot;id=someid&quot; &quot;api=https://api.prprpr.me/dplayer/&quot; &quot;addition=/some.json&quot; &apos;code=player.on(&quot;loadstart&quot;,function()&#123;console.log(&quot;loadstart&quot;)&#125;)&apos; &quot;autoplay&quot; %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>引用结束</p></blockquote><h2 id="测试">测试</h2><p>注：以下可能有部分视频链接已失效，详见<a href="#2.%E8%A7%86%E9%A2%91%E9%93%BE%E6%8E%A5%E4%BC%9A%E5%A4%B1%E6%95%88">bug:2.视频链接会失效</a>。</p><h3 id="1-简单模式">1.简单模式</h3><p>【J.Fla】J.Fla最新翻唱《Let Her Go》（中英字幕）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot;%&#125;</span><br></pre></td></tr></table></figure><div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"theme":"#FADFA3","loop":true,"video":{"url":"https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><h3 id="2-设置大小">2.设置大小</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><div id="dplayer2" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer2"),"theme":"#FADFA3","loop":true,"video":{"url":"https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><h3 id="3-各视频网站测试">3.各视频网站测试</h3><p>注：获取网站视频链接的方法</p><ol><li>直接F12审查网页元素可以获取大部分视频链接。</li><li><code>blob:http</code>开头的链接，在调试模式下，切换成手机端，一般都可以获取视频链接。当然也可以尝试使用下面的几种方法（不敢保证肯定可以）。</li></ol><p>相关链接：</p><ul><li><a href="https://blog.csdn.net/superit401/article/details/102698335" target="_blank" rel="noopener">https://blog.csdn.net/superit401/article/details/102698335</a></li><li><a href="https://blog.csdn.net/keerod/article/details/84191076" target="_blank" rel="noopener">https://blog.csdn.net/keerod/article/details/84191076</a></li><li><a href="https://blog.csdn.net/weixin_38258050/article/details/86527471" target="_blank" rel="noopener">https://blog.csdn.net/weixin_38258050/article/details/86527471</a></li></ul><h4 id="优酷-blob-http">优酷-blob:http</h4><p>测试地址：播放量破60亿的神曲就是不一样，Jfla翻唱播放量都能破亿：<a href="https://v.youku.com/v_show/id_XNDEzMTQ2Mzc2OA==.html?spm=a2h0k.11417342.soresults.dtitle" target="_blank" rel="noopener">https://v.youku.com/v_show/id_XNDEzMTQ2Mzc2OA==.html?spm=a2h0k.11417342.soresults.dtitle</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://ip3909677239.mobgslb.tbcache.com/697527F075E4271B3854E35FD/03000801005D16BE6A7657C5ACCC9273FC634F-4FE4-42BD-9058-BDD737033AD6.mp4?ccode=0501&amp;duration=209&amp;expire=18000&amp;psid=d4651e02fe8648bae7ba5eb90e634aee&amp;ups_client_netip=78efecb2&amp;ups_ts=1580803578&amp;ups_userid=&amp;utid=5dEkFu7TTAoCAaOOg8%2Fdh%2Bzg&amp;vid=XNDEzMTQ2Mzc2OA&amp;vkey=Ae25465c34a3e1d5a0008c52dbd954ac2&amp;bc=2&amp;dre=u21&amp;si=42&amp;ali_redirect_domain=ykugc.cp31.ott.cibntv.net&amp;ali_redirect_ex_ftag=6bb8c51a31829f123b81d2f8f31d62ad1de1e72da5be49b4&amp;ali_redirect_ex_tmining_ts=1580803613&amp;ali_redirect_ex_tmining_expire=3600&amp;ali_redirect_ex_hot=100&quot;</span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center>    <div class="video-container"><div id="dplayer3" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer3"),"theme":"#FADFA3","loop":true,"video":{"url":"https://ip3909677239.mobgslb.tbcache.com/697527F075E4271B3854E35FD/03000801005D16BE6A7657C5ACCC9273FC634F-4FE4-42BD-9058-BDD737033AD6.mp4?ccode=0501&duration=209&expire=18000&psid=d4651e02fe8648bae7ba5eb90e634aee&ups_client_netip=78efecb2&ups_ts=1580803578&ups_userid=&utid=5dEkFu7TTAoCAaOOg8%2Fdh%2Bzg&vid=XNDEzMTQ2Mzc2OA&vkey=Ae25465c34a3e1d5a0008c52dbd954ac2&bc=2&dre=u21&si=42&ali_redirect_domain=ykugc.cp31.ott.cibntv.net&ali_redirect_ex_ftag=6bb8c51a31829f123b81d2f8f31d62ad1de1e72da5be49b4&ali_redirect_ex_tmining_ts=1580803613&ali_redirect_ex_tmining_expire=3600&ali_redirect_ex_hot=100"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></center><h4 id="爱奇艺-blob-http">爱奇艺-blob:http</h4><p>好像找不到链接！！</p><p>测试地址：JFla最新翻唱视频 《Havana》中英文字幕版：<a href="http://www.iqiyi.com/w_19rye3lv79.html" target="_blank" rel="noopener">http://www.iqiyi.com/w_19rye3lv79.html</a></p><h4 id="腾讯视频">腾讯视频</h4><p>测试地址：开口跪！JFla小姐姐逆天翻唱《英雄联盟》主题曲《Legends Never die》(传奇永不熄)，也就听了100遍：<a href="https://v.qq.com/x/page/r07217dqdps.html" target="_blank" rel="noopener">https://v.qq.com/x/page/r07217dqdps.html</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://apd-269733cd84807e39d1c4e3453c172928.v.smtcdns.com/om.tc.qq.com/AUBPmiNNTAT3He9k_05J1HRAM1yZVGlQ-hDZtg0epZFQ/uwMROfz2r57IIaQXGdGnC2ddDmZUA-P9pUvDyp7Vcj06VB05/shg_57576174_50001_208137e9f2843cf7850adcc2052bdd4a.f622.mp4?sdtfrom=v1010&amp;guid=7ae1df42357b9bcea3195ca549ce5531&amp;vkey=4B6DB7E072CA38A41C053A938FA7D1B91D1783ACF46A1356E88C71B8160881DEC88D761C281209C12C1DAB9772F55FB572EA0D675ACA209A621B3BC4789A2D91FEA05680B9EA477C282FC1B4A32BCB1E5EEF5DFCC65AA2A4B2BCB2AB51E54FABD0E1122171184A171FFE7C84CFB1295C720E320BFCE4648EF92358A0BFDAC7FB&quot;</span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center>    <div class="video-container"><div id="dplayer4" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer4"),"theme":"#FADFA3","loop":true,"video":{"url":"https://apd-269733cd84807e39d1c4e3453c172928.v.smtcdns.com/om.tc.qq.com/AUBPmiNNTAT3He9k_05J1HRAM1yZVGlQ-hDZtg0epZFQ/uwMROfz2r57IIaQXGdGnC2ddDmZUA-P9pUvDyp7Vcj06VB05/shg_57576174_50001_208137e9f2843cf7850adcc2052bdd4a.f622.mp4?sdtfrom=v1010&guid=7ae1df42357b9bcea3195ca549ce5531&vkey=4B6DB7E072CA38A41C053A938FA7D1B91D1783ACF46A1356E88C71B8160881DEC88D761C281209C12C1DAB9772F55FB572EA0D675ACA209A621B3BC4789A2D91FEA05680B9EA477C282FC1B4A32BCB1E5EEF5DFCC65AA2A4B2BCB2AB51E54FABD0E1122171184A171FFE7C84CFB1295C720E320BFCE4648EF92358A0BFDAC7FB"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></center><h4 id="b站-blob-http">B站-blob:http</h4><p>测试地址：【J.Fla】J.Fla最新翻唱《Let Her Go》（中英字幕）:<a href="https://www.bilibili.com/medialist/play/ml445525356/" target="_blank" rel="noopener">https://www.bilibili.com/medialist/play/ml445525356/</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://cn-jxnc-cmcc-bcache-07.bilivideo.com/upgcxcode/97/06/37010697/37010697-1-6.mp4?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&amp;uipk=5&amp;nbs=1&amp;deadline=1580811360&amp;gen=playurl&amp;os=bcache&amp;oi=2028989618&amp;trid=49761c7626084b8b8b97074e119e8a41h&amp;platform=html5&amp;upsig=d5272df25514a59fbdb296cefefcb96c&amp;uparams=e,uipk,nbs,deadline,gen,os,oi,trid,platform&amp;mid=91203456&amp;origin_cdn=ks3&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center>    <div class="video-container"><div id="dplayer5" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer5"),"theme":"#FADFA3","loop":true,"video":{"url":"https://cn-jxnc-cmcc-bcache-07.bilivideo.com/upgcxcode/97/06/37010697/37010697-1-6.mp4?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&uipk=5&nbs=1&deadline=1580811360&gen=playurl&os=bcache&oi=2028989618&trid=49761c7626084b8b8b97074e119e8a41h&platform=html5&upsig=d5272df25514a59fbdb296cefefcb96c&uparams=e,uipk,nbs,deadline,gen,os,oi,trid,platform&mid=91203456&origin_cdn=ks3"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></center><h4 id="酷狗音乐mv">酷狗音乐MV</h4><p>好像找不到</p><p>测试地址：<a href="https://www.kugou.com/mvweb/html/mv_1298B160E162FD8DD62176860AC07B0B.html" target="_blank" rel="noopener">https://www.kugou.com/mvweb/html/mv_1298B160E162FD8DD62176860AC07B0B.html</a></p><h4 id="网易云音乐mv-blob-http">网易云音乐MV-blob:http</h4><p>测试地址：J.Fla不插电演唱原创新单《Good Vibe》:<a href="https://music.163.com/#/mv?id=10893889" target="_blank" rel="noopener">https://music.163.com/#/mv?id=10893889</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=http://vodkgeyttp8.vod.126.net/cloudmusic/1182/core/91d9/071e7736fb284fe4d7d020a3cf693362.mp4?wsSecret=ff87443a41aebf38eaafd4385b736940&amp;wsTime=1580818343&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center>    <div class="video-container"><div id="dplayer6" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer6"),"theme":"#FADFA3","loop":true,"video":{"url":"http://vodkgeyttp8.vod.126.net/cloudmusic/1182/core/91d9/071e7736fb284fe4d7d020a3cf693362.mp4?wsSecret=ff87443a41aebf38eaafd4385b736940&wsTime=1580818343"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></center><h2 id="bug🐛">bug🐛</h2><h3 id="1-设置宽高参数后-手机端不能自适应">1.设置宽高参数后，手机端不能自适应</h3><p>额外添加样式控制手机端样式<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">800px</span>) &#123;</span><br><span class="line">   <span class="selector-class">.dplayer</span> &#123;</span><br><span class="line"><span class="attribute">max-width</span>:<span class="number">394.4px</span>;</span><br><span class="line"><span class="attribute">max-height</span>:<span class="number">221.6px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-视频链接会失效">2.视频链接会失效</h3><p>虽然上面提到的方式大部分可以获取视频链接，但是可以发现，这个链接都很长，是“防盗链”（<code>?</code>后面的是查询串，包含各种参数。比如设置时间参数，超时就失效。这是为了防止被频繁访问，造成服务器负担而考虑的）。那怎么解决呢？推荐下面几种方法：</p><ol><li>研究防盗链，看能不能让他不失效。好像有点复杂……</li><li>自建云空间：根据视频链接下载该视频，然后上传到自己的云空间☁️（<a href="https://www.qiniu.com/" target="_blank" rel="noopener">七牛云</a>、<a href="https://www.aliyun.com/ss/?spm=5176.13910061.1kquk9v2l.2.34ad36707nJPoz&amp;k=%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8OSS&amp;aly_as=Ohhc5GnR" target="_blank" rel="noopener">阿里云</a>等的OSS空间），然后使用自己的链接。（推荐，第一个视频就是我下载后，上传到阿里云OSS的。）</li><li>使用视频网站自己的分享渠道：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200330223102.png" alt></li></ol><p>如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">498</span> <span class="attr">width</span>=<span class="string">510</span> <span class="attr">src</span>=<span class="string">'https://player.youku.com/embed/XNDEzMTQ2Mzc2OA=='</span> <span class="attr">frameborder</span>=<span class="string">0</span> '<span class="attr">allowfullscreen</span>'&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果：</p><iframe height="498" width="510" src="https://player.youku.com/embed/XNDEzMTQ2Mzc2OA==" frameborder="0" 'allowfullscreen'></iframe>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;引言&quot;&gt;引言&lt;/h2&gt;
&lt;p&gt;如何在博客中插入视频是件麻烦事，视频来源多种多样，优酷、爱奇艺、云空间；视频的相关控件也需要考虑。如果有插件就很方便了。Dplayer就是为这种需求而产生的！&lt;/p&gt;
&lt;h2 id=&quot;使用dplayer插件&quot;&gt;使用Dplayer插件&lt;/h2&gt;
&lt;p&gt;github: &lt;a href=&quot;https://github.com/MoePlayer/hexo-tag-dplayer&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/MoePlayer/hexo-tag-dplayer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1580801312951.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>2019再见，2020你好</title>
    <link href="https://www.yansheng.xyz/article/94a46e7b.html"/>
    <id>https://www.yansheng.xyz/article/94a46e7b.html</id>
    <published>2020-01-01T14:05:47.000Z</published>
    <updated>2020-01-01T15:09:55.457Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Happy New Year！</strong></p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/wallhaven-83jmq2.png" alt></p><a id="more"></a><h2 id="习近平主席2020新年贺词">习近平主席2020新年贺词</h2><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/%E4%B9%A0%E8%BF%91%E5%B9%B3%E4%B8%BB%E5%B8%AD.jpeg" alt></p><p>2019年12月31日晚7时，国家主席习近平通过中央广播电视总台和互联网，发表二〇二〇年新年贺词。全文如下：(转自：<a href="http://news.ifeng.com/c/7srLqMlTqMR" target="_blank" rel="noopener">http://news.ifeng.com/c/7srLqMlTqMR</a>)</p><blockquote><p>​    2020年就要到了，我在首都北京向大家送上新年的美好祝福！</p><p>​2019年，我们用汗水浇灌收获，以实干笃定前行。高质量发展平稳推进，我国国内生产总值预计将接近100万亿元人民币、人均将迈上1万美元的台阶。三大攻坚战取得关键进展。京津冀协同发展、长江经济带发展、粤港澳大湾区建设、长三角一体化发展按下快进键，黄河流域生态保护和高质量发展成为国家战略。全国将有340个左右贫困县摘帽、1000多万人实现脱贫。嫦娥四号在人类历史上第一次登陆月球背面，长征五号遥三运载火箭成功发射，雪龙2号首航南极，北斗导航全球组网进入冲刺期，5G商用加速推出，北京大兴国际机场“凤凰展翅”……这些成就凝结着新时代奋斗者的心血和汗水，彰显了不同凡响的中国风采、中国力量。</p><p>​一年来，改革开放不断催生发展活力。党和国家机构改革圆满完成。增设一批自由贸易试验区和上海自由贸易试验区新片区。科创板顺利启动推进。减税降费总额超过2万亿元。个人所得税起征点提高了，老百姓常用的许多药品降价了，网络提速降费使刷屏更快了，垃圾分类引领着低碳生活新时尚。“基层减负年”让基层干部轻装上阵。放眼神州大地，处处都有新变化新气象。</p><p>​一年来，国防和军队改革扎实推进，人民军队展现出新时代强军风貌。我们进行国庆大阅兵，举行海军、空军成立70周年庆祝活动，举办第七届世界军人运动会。首艘国产航母正式列装。人民子弟兵永远是保卫祖国的钢铁长城，让我们向守护家园的忠诚卫士们致敬！</p><p>​2019年，最难忘的是隆重庆祝新中国成立70周年。我们为共和国70年的辉煌成就喝彩，被爱国主义的硬核力量震撼。阅兵方阵威武雄壮，群众游行激情飞扬，天安门广场成了欢乐的海洋。大江南北披上红色盛装，人们脸上洋溢着自豪的笑容，《我和我的祖国》在大街小巷传唱。爱国主义情感让我们热泪盈眶，爱国主义精神构筑起民族的脊梁。这一切，汇聚成礼赞新中国、奋斗新时代的前进洪流，给我们增添了无穷力量。</p><p>​一年来，我去了不少地方。雄安新区画卷徐徐铺展，天津港蓬勃兴盛，北京城市副中心生机勃发，内蒙古大草原壮美亮丽，河西走廊穿越千年、历久弥新，九曲黄河天高水阔、雄浑安澜，黄浦江两岸物阜民丰、流光溢彩……祖国各地一派欣欣向荣的景象。我沿着中国革命的征程砥砺初心。从江西于都红军长征集结出发地到河南新县鄂豫皖苏区首府革命博物馆，从甘肃高台西路军纪念碑到北京香山革命纪念地，每个地方都让我思绪万千，初心和使命是我们走好新时代长征路的不竭动力。</p><p>​同往常一样，我无论多忙，都要抽时间到乡亲们中走一走看一看。大家跟我说了很多心里话，我一直记在心上。云南贡山独龙族群众、福建寿宁县下党乡的乡亲、“王杰班”全体战士、北京体育大学研究生冠军班同学、澳门小朋友和义工老人，给我写了信。我在回信中肯定了大家取得的成绩，也表达了良好祝愿。</p><p>​一年来，许多人和事感动着我们。一辈子深藏功名、初心不改的张富清，把青春和生命献给脱贫事业的黄文秀，为救火而捐躯的四川木里31名勇士，用自己身体保护战友的杜富国，以十一连胜夺取世界杯冠军的中国女排……许许多多无怨无悔、倾情奉献的无名英雄，他们以普通人的平凡书写了不平凡的人生。</p><p>​2019年，中国继续张开双臂拥抱世界。我们主办了第二届“一带一路”国际合作高峰论坛、北京世界园艺博览会、亚洲文明对话大会、第二届中国国际进口博览会，向世界展示了一个文明、开放、包容的中国。我同很多国家元首和政府首脑会晤，分享了中国主张，增进了友谊，深化了共识。世界上又有一些国家同我国建交，我国建交国达到180个。我们的朋友遍天下！</p><p>​2020年是具有里程碑意义的一年。我们将全面建成小康社会，实现第一个百年奋斗目标。2020年也是脱贫攻坚决战决胜之年。冲锋号已经吹响。我们要万众一心加油干，越是艰险越向前，把短板补得再扎实一些，把基础打得再牢靠一些，坚决打赢脱贫攻坚战，如期实现现行标准下农村贫困人口全部脱贫、贫困县全部摘帽。</p><p>​前几天，我出席了澳门回归祖国20周年庆祝活动，我为澳门繁荣稳定感到欣慰。澳门的成功实践表明，“一国两制”完全行得通、办得到、得人心。近几个月来，香港局势牵动着大家的心。没有和谐稳定的环境，怎会有安居乐业的家园！真诚希望香港好、香港同胞好。香港繁荣稳定是香港同胞的心愿，也是祖国人民的期盼。</p><p>​历史长河奔腾不息，有风平浪静，也有波涛汹涌。我们不惧风雨，也不畏险阻。中国将坚定不移走和平发展道路，坚定不移维护世界和平、促进共同发展。我们愿同世界各国人民携起手来，积极共建“一带一路”，推动构建人类命运共同体，为创造人类美好未来而不懈努力。</p><p>​此时此刻，还有许多人在坚守岗位，许多人在守护平安，许多人在辛勤劳作。大家辛苦了！</p><p>​让我们只争朝夕，不负韶华，共同迎接2020年的到来。</p><p>​祝大家新年快乐！</p></blockquote><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-2.jpg" alt></p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;Happy New Year！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://myblog12.qiniu.yansheng.xyz/picgo/wallhaven-83jmq2.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
      <category term="随笔" scheme="https://www.yansheng.xyz/tags/essay/"/>
    
  </entry>
  
  <entry>
    <title>Commit message 和 Change log 编写指南</title>
    <link href="https://www.yansheng.xyz/article/ad81da89.html"/>
    <id>https://www.yansheng.xyz/article/ad81da89.html</id>
    <published>2019-12-09T12:46:12.000Z</published>
    <updated>2020-03-25T15:59:40.700Z</updated>
    
    <content type="html"><![CDATA[<p>如何写好Commit message 和 Change log</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575910523037.png" alt="常规的changelog，conventional-changelog"></p><a id="more"></a><blockquote><p>以下内容转自：Commit message 和 Change log 编写指南</p><p>链接：<a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html</a></p><p>作者： <a href="http://www.ruanyifeng.com" target="_blank" rel="noopener">阮一峰</a></p><p>日期： <a href="http://www.ruanyifeng.com/blog/2016/01/" target="_blank" rel="noopener"><abbr class="published" title="2016-01-06T21:23:23+08:00">2016年1月 6日</abbr></a></p></blockquote><hr><h2 id="commit-message-和-change-log-编写指南">Commit message 和 Change log 编写指南</h2><p>Git 每次提交代码，都要写 Commit message（提交说明），否则就不允许提交。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m <span class="string">"hello world"</span></span><br></pre></td></tr></table></figure><p>上面代码的<code>-m</code>参数，就是用来指定 commit mesage 的。</p><p>如果一行不够，可以只执行<code>git commit</code>，就会跳出文本编辑器，让你写多行。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit</span><br></pre></td></tr></table></figure><p>基本上，你写什么都行（<a href="http://www.commitlogsfromlastnight.com/" target="_blank" rel="noopener">这里</a>，<a href="http://blog.no-panic.at/2014/10/20/funny-initial-git-commit-messages/" target="_blank" rel="noopener">这里</a>和<a href="http://whatthecommit.com/" target="_blank" rel="noopener">这里</a>）。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010601.png" alt></p><p>但是，一般来说，commit message 应该清晰明了，说明本次提交的目的。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010602.png" alt></p><p>目前，社区有多种 Commit message 的<a href="https://github.com/ajoslin/conventional-changelog/blob/master/conventions" target="_blank" rel="noopener">写法规范</a>。本文介绍<a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0" target="_blank" rel="noopener">Angular 规范</a>（见上图），这是目前使用最广的写法，比较合理和系统化，并且有配套的工具。</p><h3 id="一-commit-message-的作用">一、Commit message 的作用</h3><p>格式化的Commit message，有几个好处。</p><p><strong>（1）提供更多的历史信息，方便快速浏览。</strong></p><p>比如，下面的命令显示上次发布后的变动，每个commit占据一行。你只看行首，就知道某次 commit 的目的。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> &lt;last tag&gt; HEAD --pretty=format:%s</span><br></pre></td></tr></table></figure><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010604.png" alt></p><p><strong>（2）可以过滤某些commit（比如文档改动），便于快速查找信息。</strong></p><p>比如，下面的命令仅仅显示本次发布新增加的功能。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> &lt;last release&gt; HEAD --grep feature</span><br></pre></td></tr></table></figure><p><strong>（3）可以直接从commit生成Change log。</strong></p><p>Change Log 是发布新版本时，用来说明与上一个版本差异的文档，详见后文。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010603.png" alt></p><h3 id="二-commit-message-的格式">二、Commit message 的格式</h3><p>每次提交，Commit message 都包括三个部分：Header，Body 和 Footer。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line">// 空一行</span><br><span class="line">&lt;body&gt;</span><br><span class="line">// 空一行</span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></table></figure><p>其中，Header 是必需的，Body 和 Footer 可以省略。</p><p>不管是哪一个部分，任何一行都不得超过72个字符（或100个字符）。这是为了避免自动换行影响美观。</p><h4 id="2-1-header">2.1 Header</h4><p>Header部分只有一行，包括三个字段：<code>type</code>（必需）、<code>scope</code>（可选）和<code>subject</code>（必需）。</p><p><strong>（1）type</strong></p><p><code>type</code>用于说明 commit 的类别，只允许使用下面7个标识。</p><ul><li>feat：新功能（feature）</li><li>fix：修补bug</li><li>docs：文档（documentation）</li><li>style： 格式（不影响代码运行的变动）</li><li>refactor：重构（即不是新增功能，也不是修改bug的代码变动）</li><li>test：增加测试</li><li>chore：构建过程或辅助工具的变动</li></ul><p>如果<code>type</code>为<code>feat</code>和<code>fix</code>，则该 commit 将肯定出现在 Change log 之中。其他情况（<code>docs</code>、<code>chore</code>、<code>style</code>、<code>refactor</code>、<code>test</code>）由你决定，要不要放入 Change log，建议是不要。</p><p><strong>（2）scope</strong></p><p><code>scope</code>用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p><p><strong>（3）subject</strong></p><p><code>subject</code>是 commit 目的的简短描述，不超过50个字符。</p><ul><li>以动词开头，使用第一人称现在时，比如<code>change</code>，而不是<code>changed</code>或<code>changes</code></li><li>第一个字母小写</li><li>结尾不加句号（<code>.</code>）</li></ul><h4 id="2-2-body">2.2 Body</h4><p>Body 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">More detailed explanatory text, if necessary.  Wrap it to </span><br><span class="line">about 72 characters or so. </span><br><span class="line"></span><br><span class="line">Further paragraphs come after blank lines.</span><br><span class="line"></span><br><span class="line">- Bullet points are okay, too</span><br><span class="line">- Use a hanging indent</span><br></pre></td></tr></table></figure><p>有两个注意点。</p><p>（1）使用第一人称现在时，比如使用<code>change</code>而不是<code>changed</code>或<code>changes</code>。</p><p>（2）应该说明代码变动的动机，以及与以前行为的对比。</p><h4 id="2-3-footer">2.3 Footer</h4><p>Footer 部分只用于两种情况。</p><p><strong>（1）不兼容变动</strong></p><p>如果当前代码与上一个版本不兼容，则 Footer 部分以<code>BREAKING CHANGE</code>开头，后面是对变动的描述、以及变动理由和迁移方法。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">BREAKING CHANGE: isolate scope bindings definition has changed.</span><br><span class="line"></span><br><span class="line">    To migrate the code follow the example below:</span><br><span class="line"></span><br><span class="line">    Before:</span><br><span class="line"></span><br><span class="line">    scope: &#123;</span><br><span class="line">      myAttr: &apos;attribute&apos;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    After:</span><br><span class="line"></span><br><span class="line">    scope: &#123;</span><br><span class="line">      myAttr: &apos;@&apos;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    The removed `inject` wasn&apos;t generaly useful for directives so there should be no code using it.</span><br></pre></td></tr></table></figure><p><strong>（2）关闭 Issue</strong></p><p>如果当前 commit 针对某个issue，那么可以在 Footer 部分关闭这个 issue 。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Closes #234</span><br></pre></td></tr></table></figure><p>也可以一次关闭多个 issue 。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Closes #123, #245, #992</span><br></pre></td></tr></table></figure><h4 id="2-4-revert">2.4 Revert</h4><p>还有一种特殊情况，如果当前 commit 用于撤销以前的 commit，则必须以<code>revert:</code>开头，后面跟着被撤销 Commit 的 Header。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">revert: feat(pencil): add &apos;graphiteWidth&apos; option</span><br><span class="line"></span><br><span class="line">This reverts commit 667ecc1654a317a13331b17617d973392f415f02.</span><br></pre></td></tr></table></figure><p>Body部分的格式是固定的，必须写成<code>This reverts commit &amp;lt;hash&gt;.</code>，其中的<code>hash</code>是被撤销 commit 的 SHA 标识符。</p><p>如果当前 commit 与被撤销的 commit，在同一个发布（release）里面，那么它们都不会出现在 Change log 里面。如果两者在不同的发布，那么当前 commit，会出现在 Change log 的<code>Reverts</code>小标题下面。</p><h3 id="三-commitizen">三、Commitizen</h3><p><a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noopener">Commitizen</a>是一个撰写合格 Commit message 的工具。</p><p>安装命令如下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g commitizen</span><br></pre></td></tr></table></figure><p>然后，在项目目录里，运行下面的命令，使其支持 Angular 的 Commit message 格式。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ commitizen init cz-conventional-changelog --save --save-exact</span><br></pre></td></tr></table></figure><p>以后，凡是用到<code>git commit</code>命令，一律改为使用<code>git cz</code>。这时，就会出现选项，用来生成符合格式的 Commit message。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010605.png" alt></p><h3 id="四-validate-commit-msg">四、validate-commit-msg</h3><p><a href="https://github.com/kentcdodds/validate-commit-msg" target="_blank" rel="noopener">validate-commit-msg</a> 用于检查 Node 项目的 Commit message 是否符合格式。</p><p>它的安装是手动的。首先，拷贝下面这个<a href="https://github.com/kentcdodds/validate-commit-msg/blob/master/index.js" target="_blank" rel="noopener">JS文件</a>，放入你的代码库。文件名可以取为<code>validate-commit-msg.js</code>。</p><p>接着，把这个脚本加入 Git 的 hook。下面是在<code>package.json</code>里面使用 <a href="http://npm.im/ghooks" target="_blank" rel="noopener">ghooks</a>，把这个脚本加为<code>commit-msg</code>时运行。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"config": &#123;</span><br><span class="line">    "ghooks": &#123;</span><br><span class="line">      "commit-msg": "./validate-commit-msg.js"</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>然后，每次<code>git commit</code>的时候，这个脚本就会自动检查 Commit message 是否合格。如果不合格，就会报错。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add -A </span><br><span class="line">$ git commit -m <span class="string">"edit markdown"</span> </span><br><span class="line">INVALID COMMIT MSG: does not match <span class="string">"&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;"</span> ! was: edit markdown</span><br></pre></td></tr></table></figure><h3 id="五-生成-change-log">五、生成 Change log</h3><p>如果你的所有 Commit 都符合 Angular 格式，那么发布新版本时， Change log 就可以用脚本自动生成（<a href="https://github.com/ajoslin/conventional-changelog/blob/master/CHANGELOG.md" target="_blank" rel="noopener">例1</a>，<a href="https://github.com/karma-runner/karma/blob/master/CHANGELOG.md" target="_blank" rel="noopener">例2</a>，<a href="https://github.com/btford/grunt-conventional-changelog/blob/master/CHANGELOG.md" target="_blank" rel="noopener">例3</a>）。</p><p>生成的文档包括以下三个部分。</p><ul><li>New features</li><li>Bug fixes</li><li>Breaking changes.</li></ul><p>每个部分都会罗列相关的 commit ，并且有指向这些 commit 的链接。当然，生成的文档允许手动修改，所以发布前，你还可以添加其他内容。</p><p><a href="https://github.com/ajoslin/conventional-changelog" target="_blank" rel="noopener">conventional-changelog</a> 就是生成 Change log 的工具，运行下面的命令即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g conventional-changelog</span><br><span class="line">$ <span class="built_in">cd</span> my-project</span><br><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w</span><br></pre></td></tr></table></figure><p>上面命令不会覆盖以前的 Change log，只会在<code>CHANGELOG.md</code>的头部加上自从上次发布以来的变动。</p><p>如果你想生成所有发布的 Change log，要改为运行下面的命令。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w -r 0</span><br></pre></td></tr></table></figure><p>为了方便使用，可以将其写入<code>package.json</code>的<code>scripts</code>字段。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"changelog"</span>: <span class="string">"conventional-changelog -p angular -i CHANGELOG.md -w -r 0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以后，直接运行下面的命令即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run changelog</span><br></pre></td></tr></table></figure><p>（完）</p><h4 id="文档信息">文档信息</h4><ul><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" rel="noopener">创意共享3.0许可证</a>）</li><li>发表日期：<abbr class="published" title="2016-01-06T21:23:23+08:00">2016年1月 6日</abbr></li></ul><hr><blockquote><p>转载结束</p></blockquote><h3 id="相关链接">相关链接</h3><p><a href="https://github.com/conventional-changelog/conventional-changelog" target="_blank" rel="noopener">https://github.com/conventional-changelog/conventional-changelog</a></p><p>Git commit message和工作流规范]<a href="https://www.cnblogs.com/qcloud1001/p/6640787.html" target="_blank" rel="noopener">https://www.cnblogs.com/qcloud1001/p/6640787.html</a></p><p>［译］AngularJS Git提交信息规范:<a href="https://segmentfault.com/a/1190000004282514" target="_blank" rel="noopener">https://segmentfault.com/a/1190000004282514</a></p><p>Git-Commit-Log规范（Angular 规范）<a href="https://www.jianshu.com/p/c7e40dab5b05" target="_blank" rel="noopener">https://www.jianshu.com/p/c7e40dab5b05</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;如何写好Commit message 和 Change log&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575910523037.png&quot; alt=&quot;常规的changelog，conventional-changelog&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Git" scheme="https://www.yansheng.xyz/tags/git/"/>
    
      <category term="GitHub" scheme="https://www.yansheng.xyz/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>记一次Spring项目的MySQL乱码问题</title>
    <link href="https://www.yansheng.xyz/article/dbd84c59.html"/>
    <id>https://www.yansheng.xyz/article/dbd84c59.html</id>
    <published>2019-12-08T14:39:29.000Z</published>
    <updated>2019-12-09T18:05:09.627Z</updated>
    
    <content type="html"><![CDATA[<p>项目：Spring+Mybatis++SpringMVC+MySQL。</p><p>首先要明确发生乱码的原因是字符编码不一致，抓住这一个进行分析。出现问题的出处常常是中文、小表情（测试时要有针对性）。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912638971.png" alt="file"></p><a id="more"></a><p>排查过程可参考一下几点：</p><h2 id="1-硬要去-统一文件的编码">1.硬要去–统一文件的编码</h2><p>假设都一utf-8为编码。</p><ol><li>数据库统一设置为utf8编码。数据库编码设置为utf8，表、字段如果不进行设置，默认继承上级设置。</li><li>项目编码设置为utf8，主要是java、html、jsp、css、js等文件的编码。</li></ol><h2 id="2-传输过程编码">2.传输过程编码</h2><h3 id="前台-后台">前台–&gt;后台</h3><h4 id="措施">措施</h4><p>在springMVC中设置编码过滤器，统一设置成utf8</p><h4 id="测试">测试</h4><p>后台控制台打印前台传输的数据，参看数据与输入数据是否一致。（如果设置到js，也可能前端控制台打印输入数据）。</p><h3 id="后台-数据库">后台–&gt;数据库</h3><h4 id="措施-v2">措施</h4><p>数据库连接的URL，添加字符集参数：</p><h4 id="1-字符集参数">1.字符集参数</h4><p>jdbc:mysql://192.168.0.105:3306/shgb_fz?useUnicode=true&amp;characterEncoding=UTF8&amp;autoReconnect=true&amp;zeroDateTimeBehavior=convertToNull</p><p>参数名称                    参数说明<br>user                      数据库用户名（用于连接数据库）<br>password                   用户密码（用于连接数据库）<br>useUnicode              是否使用Unicode字符集，如果参数characterEncoding设置为gb2312或gbk，本参数值必须设置为true<br>characterEncoding       当useUnicode设置为true时，指定字符编码。比如可设置为gb2312或gbk<br>autoReconnect                当数据库连接异常中断时，是否自动重新连接？<br>autoReconnectForPools     是否使用针对数据库连接池的重连策略<br>failOverReadOnly         自动重连成功后，连接是否设置为只读？<br>maxReconnects           autoReconnect设置为true时，重试连接的次数<br>initialTimeout        autoReconnect设置为true时，两次重连之间的时间间隔，单位：秒<br>connectTimeout       和数据库服务器建立socket连接时的超时，单位：毫秒。 0表示永不超时，适用于JDK 1.4及更高版本<br>socketTimeout          socket操作（读写）超时，单位：毫秒。 0表示永不超时</p><p>————————————————<br>版权声明：本文为CSDN博主「哈唬咯」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/qq_36793179/article/details/78719592" target="_blank" rel="noopener">https://blog.csdn.net/qq_36793179/article/details/78719592</a></p><h4 id="jdbc-url中的各个参数详解">jdbc URL中的各个参数详解</h4><p><a href="https://blog.csdn.net/weixin_34220963/article/details/86463924" target="_blank" rel="noopener">https://blog.csdn.net/weixin_34220963/article/details/86463924</a></p><hr><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/DATABASES-NAME?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true&amp;allowPublicKeyRetrieval=true"</span>;</span><br></pre></td></tr></table></figure><p><a href="https://dev.mysql.com/doc/connectors/en/connector-j-reference-configuration-properties.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/connectors/en/connector-j-reference-configuration-properties.html</a></p><h4 id="2-连接名">2.连接名</h4><p>云服务器：jdbc:mysql://192.168.0.105:3306/shgb_fz</p><p>本地：jdbc:mysql://localhost:3306/shgb_fz，简写形式：jdbc:mysql:///shgb_fz</p><h4 id="3-jdbc8">3.jdbc8</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/DATABASES-NAME?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true&amp;allowPublicKeyRetrieval=true"</span>;</span><br><span class="line"></span><br><span class="line">————————————————</span><br><span class="line">版权声明：本文为CSDN博主「溜溜的小胖」的原创文章，遵循 CC <span class="number">4.0</span> BY-SA 版权协议，转载请附上原文出处链接及本声明。</span><br><span class="line">原文链接：https:<span class="comment">//blog.csdn.net/aliuxina/article/details/91358010</span></span><br></pre></td></tr></table></figure><h4 id="3-xml文件需要转义">3.xml文件需要转义</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&amp;</span><br><span class="line">转义为</span><br><span class="line">&amp;amp;</span><br></pre></td></tr></table></figure><h4 id="测试-v2">测试</h4><p>利用junit进行测试，直接模拟数据，从控制台插入到数据库，查看是否乱码。</p><p>涉及到的问题</p><p>1.基于spring的句junit测试：junit测试Dao层：<a href="https://blog.csdn.net/lovelease/article/details/70155788" target="_blank" rel="noopener">https://blog.csdn.net/lovelease/article/details/70155788</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.project.dao;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.junit.Assert;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)<span class="comment">// 不能是PowerMock等别的class，否则无法识别spring的配置文件</span></span><br><span class="line"><span class="meta">@ContextConfiguration</span>(<span class="string">"file:conf/applicationContext.xml"</span>)<span class="comment">// 读取spring配置文件</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">userDAOTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span><span class="comment">//检索applicationContext.xml，自动注入指定的bean</span></span><br><span class="line">UserDAO userDAO;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> userId = <span class="number">1</span>;</span><br><span class="line">String nickname = <span class="string">"昵称1"</span>;</span><br><span class="line"></span><br><span class="line">Assert.assertEquals(userId, userDAO.getUser( userId ).getUserId());</span><br><span class="line">Assert.assertEquals(nickname, userDAO.getUser( userId ).getNickname());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="1-runwith和-contextconfiguration的作用解析">1.@RunWith和@ContextConfiguration的作用解析</h5><p><a href="https://blog.csdn.net/H838071332/article/details/89916490" target="_blank" rel="noopener">https://blog.csdn.net/H838071332/article/details/89916490</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration( locations = &#123;&quot;classpath:applicationContext.xml&quot;&#125; )</span><br></pre></td></tr></table></figure><p>@RunWith(SpringJUnit4ClassRunner.class)：<br>@Runwith的作用是让测试的实例在spring容器的环境下运行，那么什么是spring容器的环境，这个容器环境就是如:service, controller等包的使用就是spring容器。<br>@ContextConfiguration：<br>1、 他的作用是引入配置文件applicationContext.xml，如果没有写配置文件名的话则会根据测试的名字去匹配</p><pre><code>@ContextConfigurationpublic void test{}</code></pre><p>2、可以写多个配置文件<br>用，隔开如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ContextConfiguration( locations = &#123;&quot;classpath:applicationContext.xml&quot;,&quot;classpath:applicationContext2.xml&quot;&#125;</span><br></pre></td></tr></table></figure><h5 id="2-spring的-contextconfiguration注解">2.spring的@ContextConfiguration注解</h5><p><a href="https://blog.csdn.net/fanbaodan/article/details/100121551" target="_blank" rel="noopener">https://blog.csdn.net/fanbaodan/article/details/100121551</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@ContextConfiguration(value=&quot;/applicationContext.xml&quot;)  //方法一</span><br><span class="line">@ContextConfiguration(locations=&quot;/applicationContext.xml&quot;)   //方法二</span><br><span class="line">@ContextConfiguration(&quot;classpath:/applicationContext.xml&quot;)   //方法三</span><br><span class="line">@ContextConfiguration(&quot;/applicationContext.xml&quot;)       //方法四</span><br></pre></td></tr></table></figure><p>切记前边要加一个 “/” 代表根目录（不带双引号）<br>这是我亲测的几种都可以正常运行junit。</p><p>其实也不用去死记， 这个分开也就是两块;</p><p>一个是属性名（value、locations）<br>一个是 属性值（双引号里边的，就是文件路径）<br>单个文件一般直接在双引号里边写路径或者用value属性（切记要加“ / ” ！！！）<br>如果有多个文件要加载可以使用多个文件时，可用{}括起来，并用逗号分隔，以下示例</p><p>@ContextConfiguration(locations = { “classpath*:/spring1.xml”, “classpath*:/spring2.xml” })</p><p>或者用value</p><p>@ContextConfiguration(value = { “/spring1.xml”, “/spring2.xml” })</p><p>或者不写属性名，（加不加&quot;classpath:&quot; 都可以）</p><p>@ContextConfiguration({ “classpath:/spring1.xml”, “classpath:/spring2.xml” })</p><p>当然单个文件也可以用locations 如上述方法二。</p><p>根据上述源码可以看到， 该属性可以使用 locations 、value 或者直接写值（不写属性名），重点是值（路径）一定要写对。<br>根据返回值可以得出以上三种方式都可以配置多个文件</p><h5 id="3-聊聊单元测试-三-spring-test-junit完美组合">3.聊聊单元测试（三）——Spring Test+JUnit完美组合</h5><p><a href="https://blog.csdn.net/shan9liang/article/details/40452469" target="_blank" rel="noopener">https://blog.csdn.net/shan9liang/article/details/40452469</a></p><h5 id="4-spring系列-contextconfiguration注解的使用">4.Spring系列——@ContextConfiguration注解的使用</h5><p><a href="https://blog.csdn.net/m0_37941483/article/details/90727830" target="_blank" rel="noopener">https://blog.csdn.net/m0_37941483/article/details/90727830</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration(locations = &#123;&quot;classpath*:/*.xml&quot;&#125;)</span><br><span class="line">public class CDPlayerTest &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@ContextConfiguration括号里的locations = {“classpath*😕*.xml”}就表示将class路径里的所有.xml文件都包括进来，那么刚刚创建的那么XML文件就会包括进来，那么里面自动扫描的bean就都可以拿到了，此时就可以在测试类中使用@Autowired注解来获取之前自动扫描包下的所有bean</p><p>classpath和classpath*区别:</p><p>classpath：只会到你的class路径中查找找文件。</p><p>classpath*：不仅包含class路径，还包括jar文件中（class路径）进行查找。</p><h5 id="5-默认不写">5.默认不写</h5><p><a href="https://blog.csdn.net/u012260238/article/details/87462366" target="_blank" rel="noopener">https://blog.csdn.net/u012260238/article/details/87462366</a></p><p>可以根据测试的类名，去找到与之对应的配置文件。</p><h2 id="3-mybatis问题">3.mybatis问题</h2><p>Mybatis 开启控制台打印sql语句：<a href="https://blog.csdn.net/qq_37495786/article/details/82799910" target="_blank" rel="noopener">https://blog.csdn.net/qq_37495786/article/details/82799910</a></p><p>完整SQL是否会乱码。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;项目：Spring+Mybatis++SpringMVC+MySQL。&lt;/p&gt;
&lt;p&gt;首先要明确发生乱码的原因是字符编码不一致，抓住这一个进行分析。出现问题的出处常常是中文、小表情（测试时要有针对性）。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912638971.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="MySQL" scheme="https://www.yansheng.xyz/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>抑郁症</title>
    <link href="https://www.yansheng.xyz/article/57f89578.html"/>
    <id>https://www.yansheng.xyz/article/57f89578.html</id>
    <published>2019-11-25T15:43:01.000Z</published>
    <updated>2019-12-08T12:46:38.770Z</updated>
    
    <content type="html"><![CDATA[<p>抑郁症，一种心病。这是我的定义，但是有时候我甚至怀疑这能不能被称作一种病、怀疑它是否真的存在……然而，现实如此残酷，这种病真实存在，而且发病时间和后果可能让人无法预料。我们不时听到某某明星因为抑郁而自杀的新闻，在叹息的同时，却又不禁在想：又有多少普通人抑郁而终？</p><p>抑郁，亦有轻重，诱发因素或大或小。艾滋病患者多死于肿瘤，艾滋病毒破坏病人的免疫系统，也许一个小小的炎症，可能就会致命；在我看来，抑郁是类似的，它破坏病人的“心情系统”，也许一点点的不愉快可能就会变成诱因，让人走向极端。</p><p>​——记于2019年国考（2019年11月24日）的后一天</p><p><img src="http://5b0988e595225.cdn.sohucs.com/images/20190503/5b2a4ecc0a724b25967493c34d0a4f7f.jpeg" alt></p><a id="more"></a><blockquote><p>以下内容转自百度百科：<a href="https://baike.baidu.com/item/%E6%8A%91%E9%83%81%E7%97%87/90924?fr=aladdin" target="_blank" rel="noopener">抑郁症</a>.</p></blockquote><h2 id="抑郁症的定义">抑郁症的定义</h2><p>本词条由<a href="http://www.baikemy.com/" target="_blank" rel="noopener">国家卫健委权威医学科普项目传播网络平台/百科名医网</a> 提供内容 。</p><p>抑郁症又称抑郁障碍，以显著而持久的心境低落为主要临床特征，是<a href="https://baike.baidu.com/item/%E5%BF%83%E5%A2%83%E9%9A%9C%E7%A2%8D/534830" target="_blank" rel="noopener">心境障碍</a>的主要类型。临床可见心境低落与其处境不相称，情绪的消沉可以从闷闷不乐到悲痛欲绝，自卑抑郁，甚至悲观厌世，可有自杀企图或行为；甚至发生木僵；部分病例有明显的焦虑和运动性激越；严重者可出现幻觉、妄想等精神病性症状。每次发作持续至少2周以上、长者甚或数年，多数病例有反复发作的倾向，每次发作大多数可以缓解，部分可有残留症状或转为慢性。</p><p><a href="https://baike.baidu.com/vbaike/%E6%8A%91%E9%83%81%E7%97%87%E6%9C%89%E5%A4%9A%E5%8F%AF%E6%80%95/28741" target="_blank" rel="noopener"><img src="https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/pic/item/8718367adab44aed69513104bd1c8701a18bfb37.jpg" alt="抑郁症有多可怕"></a></p><h2 id="基本信息">基本信息</h2><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575726889568.png" alt="file"></p><h2 id="发展概况">发展概况</h2><p>我国与世界的抑郁症患病率比较情况如下：</p><table><thead><tr><th style="text-align:left"></th><th style="text-align:left">世界</th><th style="text-align:left">我国</th></tr></thead><tbody><tr><td style="text-align:left">抑郁症患者人数</td><td style="text-align:left">3.22亿 [1]</td><td style="text-align:left">（无精确数据）</td></tr><tr><td style="text-align:left">患病率</td><td style="text-align:left">4.4% [1]</td><td style="text-align:left">(4.2±1.9)% [1-2]</td></tr></tbody></table><p>注：</p><p>1.大多数报道将我国抑郁症患病率确定在3%~5%的区间，但有报道称达到了6.1%。</p><p>2.我国抑郁症发病率地区差异较大。</p><p>3.30年间，报告的抑郁症发病率暴增10~20倍，现在仍然呈上升趋势；不排除有的以“世界卫生组织数据表明”的字眼作了错误（虚假）报道，故本数据可能不准确。</p><h2 id="病因">病因</h2><p>迄今，抑郁症的病因并不非常清楚，但可以肯定的是，生物、心理与社会环境诸多方面因素参与了抑郁症的发病过程。生物学因素主要涉及遗传、神经生化、神经内分泌、神经再生等方面；与抑郁症关系密切的心理学易患素质是病前性格特征，如抑郁气质。成年期遭遇应激性的生活事件，是导致出现具有临床意义的抑郁发作的重要触发条件。然而，以上这些因素并不是单独起作用的，强调遗传与环境或应激因素之间的交互作用、以及这种交互作用的出现时点在抑郁症发生过程中具有重要的影响。</p><h2 id="临床表现">临床表现</h2><p>抑郁症可以表现为单次或反复多次的抑郁发作，以下是抑郁发作的主要表现。</p><p><strong>1.心境低落</strong></p><p>主要表现为显著而持久的情感低落，抑郁悲观。轻者闷闷不乐、无愉快感、兴趣减退，重者痛不欲生、悲观绝望、度日如年、生不如死。典型患者的抑郁心境有晨重夜轻的节律变化。在心境低落的基础上，患者会出现自我评价降低，产生无用感、无望感、无助感和无价值感，常伴有自责自罪，严重者出现罪恶妄想和疑病妄想，部分患者可出现幻觉。</p><p><strong>2.思维迟缓</strong></p><p>患者思维联想速度缓慢，反应迟钝，思路闭塞，自觉“脑子好像是生了锈的机器”，“脑子像涂了一层糨糊一样”。临床上可见主动言语减少，语速明显减慢，声音低沉，对答困难，严重者交流无法顺利进行。</p><p><strong>3.意志活动减退</strong></p><p>患者意志活动呈显著持久的抑制。临床表现行为缓慢，生活被动、疏懒，不想做事，不愿和周围人接触交往，常独坐一旁，或整日卧床，闭门独居、疏远亲友、回避社交。严重时连吃、喝等生理需要和个人卫生都不顾，蓬头垢面、不修边幅，甚至发展为不语、不动、不食，称为“抑郁性木僵”，但仔细精神检查，患者仍流露痛苦抑郁情绪。伴有焦虑的患者，可有坐立不安、手指抓握、搓手顿足或踱来踱去等症状。严重的患者常伴有消极自杀的观念或行为。调查显示，我国每年有28.7万人死于自杀，其中63%有精神障碍，40%患有抑郁症。 [3]  因抑郁症而自杀的不乏名人，包括<a href="https://baike.baidu.com/item/%E6%A2%B5%E9%AB%98/143831" target="_blank" rel="noopener">梵高</a>、<a href="https://baike.baidu.com/item/%E6%B5%B7%E6%98%8E%E5%A8%81" target="_blank" rel="noopener">海明威</a>、<a href="https://baike.baidu.com/item/%E4%B8%89%E6%AF%9B/1364178" target="_blank" rel="noopener">三毛</a>、<a href="https://baike.baidu.com/item/%E5%BC%A0%E5%9B%BD%E8%8D%A3/6804" target="_blank" rel="noopener">张国荣</a>、 [3]  <a href="https://baike.baidu.com/item/%E5%BE%90%E8%A1%8C/13850780" target="_blank" rel="noopener">徐行</a>、<a href="https://baike.baidu.com/item/%E6%9D%8E%E6%99%93/4576729" target="_blank" rel="noopener">李晓</a>、<a href="https://baike.baidu.com/item/%E7%BD%97%E5%AE%BE%C2%B7%E5%A8%81%E5%BB%89%E5%A7%86%E6%96%AF/6530" target="_blank" rel="noopener">罗宾·威廉姆斯</a>、<a href="https://baike.baidu.com/item/%E4%B9%94%E4%BB%BB%E6%A2%81/4123762" target="_blank" rel="noopener">乔任梁</a>等 [4]  。消极悲观的思想及自责自罪、缺乏自信心可萌发绝望的念头，认为“结束自己的生命是一种解脱”，“自己活在世上是多余的人”，并会使自杀企图发展成自杀行为。这是抑郁症最危险的症状，应提高警惕。</p><p><strong>4.认知功能损害</strong></p><p>研究认为抑郁症患者存在认知功能损害。主要表现为近事记忆力下降、注意力障碍、反应时间延长、警觉性增高、抽象思维能力差、学习困难、语言流畅性差、空间知觉、眼手协调及思维灵活性等能力减退。认知功能损害导致患者社会功能障碍，而且影响患者远期预后。</p><p><strong>5.躯体症状</strong></p><p>主要有<a href="https://baike.baidu.com/item/%E7%9D%A1%E7%9C%A0%E9%9A%9C%E7%A2%8D/767228" target="_blank" rel="noopener">睡眠障碍</a>、乏力、食欲减退、体重下降、<a href="https://baike.baidu.com/item/%E4%BE%BF%E7%A7%98/332148" target="_blank" rel="noopener">便秘</a>、身体任何部位的疼痛、性欲减退、<a href="https://baike.baidu.com/item/%E9%98%B3%E7%97%BF/411582" target="_blank" rel="noopener">阳痿</a>、<a href="https://baike.baidu.com/item/%E9%97%AD%E7%BB%8F/545691" target="_blank" rel="noopener">闭经</a>等。躯体不适的体诉可涉及各脏器，如恶心、呕吐、心慌、胸闷、出汗等。自主神经功能失调的症状也较常见。病前躯体疾病的主诉通常加重。<a href="https://baike.baidu.com/item/%E7%9D%A1%E7%9C%A0%E9%9A%9C%E7%A2%8D/767228" target="_blank" rel="noopener">睡眠障碍</a>主要表现为早醒，一般比平时早醒2～3小时，醒后不能再入睡，这对抑郁发作具有特征性意义。有的表现为入睡困难，睡眠不深；少数患者表现为睡眠过多。体重减轻与食欲减退不一定成比例，少数患者可出现食欲增强、体重增加。</p><h2 id="检查">检查</h2><p>对疑为抑郁症的患者，除进行全面的躯体检查及神经系统检查外，还要注意辅助检查及实验室检查。迄今为止，尚无针对抑郁障碍的特异性检查项目。因此，目前的实验室检查主要是为了排除物质及躯体疾病所致的抑郁症。有2种实验室检查具有一定的意义，包括地塞米松抑制试验（DST）和促甲状腺素释放激素抑制试验（TRHST）。</p><h2 id="诊断">诊断</h2><p>抑郁症的诊断主要应根据病史、临床症状、病程及体格检查和实验室检查，典型病例诊断一般不困难。国际上通用的诊断标准一般有ICD-10和DSM-IV。国内主要采用ICD-10，是指首次发作的抑郁症和复发的抑郁症，不包括双相抑郁。患者通常具有心境低落、兴趣和愉快感丧失、精力不济或疲劳感等典型症状。其他常见的症状是①集中注意和注意的能力降低；②自我评价降低；③自罪观念和无价值感（即使在轻度发作中也有）；④认为前途暗淡悲观；⑤自伤或自杀的观念或行为；⑥<a href="https://baike.baidu.com/item/%E7%9D%A1%E7%9C%A0%E9%9A%9C%E7%A2%8D/767228" target="_blank" rel="noopener">睡眠障碍</a>；⑦食欲下降。病程持续至少2周。</p><h2 id="治疗">治疗</h2><p><strong>1.治疗目标</strong></p><p>抑郁发作的治疗要达到三个目标：①提高临床治愈率，最大限度减少病残率和自杀率，关键在于彻底消除临床症状；②提高生存质量，恢复社会功能；③预防复发。</p><p><strong>2.治疗原则</strong></p><p>①个体化治疗；②剂量逐步递增，尽可能采用最小有效量，使不良反应减至最少，以提高服药依从性；③足量足疗程治疗；④尽可能单一用药，如疗效不佳可考虑转换治疗、增效治疗或联合治疗，但需要注意药物相互作用；⑤治疗前知情告知；⑥治疗期间密切观察病情变化和不良反应并及时处理；⑦可联合<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>增加疗效；⑧积极治疗与抑郁共病的其他躯体疾病、物质依赖、焦虑障碍等。</p><p><strong>3.药物治疗</strong></p><p>药物治疗是中度以上抑郁发作的主要治疗措施。目前临床上一线的抗抑郁药主要包括选择性5-羟色胺再摄取抑制剂（SSRI，代表药物氟西汀、帕罗西汀、舍曲林、氟伏沙明、西酞普兰和艾司西酞普兰）、5-羟色胺和去甲肾上腺素再摄取抑制剂（SNRI，代表药物文拉法辛和度洛西汀）、去甲肾上腺素和特异性5-羟色胺能抗抑郁药（NaSSA，代表药物米氮平）等。传统的三环类、四环类抗抑郁药和单胺氧化酶抑制剂由于不良反应较大，应用明显减少。</p><p><strong>4.心理治疗</strong></p><p>对有明显心理社会因素作用的抑郁发作患者，在药物治疗的同时常需合并<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>。常用的<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>方法包括支持性<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>、<a href="https://baike.baidu.com/item/%E8%AE%A4%E7%9F%A5%E8%A1%8C%E4%B8%BA%E6%B2%BB%E7%96%97/8296716" target="_blank" rel="noopener">认知行为治疗</a>、人际治疗、婚姻和<a href="https://baike.baidu.com/item/%E5%AE%B6%E5%BA%AD%E6%B2%BB%E7%96%97/1057345" target="_blank" rel="noopener">家庭治疗</a>、精神动力学治疗等，其中<a href="https://baike.baidu.com/item/%E8%AE%A4%E7%9F%A5%E8%A1%8C%E4%B8%BA%E6%B2%BB%E7%96%97/8296716" target="_blank" rel="noopener">认知行为治疗</a>对抑郁发作的疗效已经得到公认。</p><p><strong>5.物理治疗</strong></p><p>近年来出现了一种新的<a href="https://baike.baidu.com/item/%E7%89%A9%E7%90%86%E6%B2%BB%E7%96%97/8806355" target="_blank" rel="noopener">物理治疗</a>手段——重复经颅磁刺激（rTMS）治疗，主要适用于轻中度的抑郁发作。</p><h2 id="预防">预防</h2><p>有人对抑郁症患者追踪10年的研究发现，有75%～80%的患者多次复发，故抑郁症患者需要进行预防性治疗。发作3次以上应长期治疗，甚至终身服药。维持治疗药物的剂量多数学者认为应与治疗剂量相同，还应定期门诊随访观察。心理治疗和社会支持系统对预防本病复发也有非常重要的作用，应尽可能解除或减轻患者过重的心理负担和压力，帮助患者解决生活和工作中的实际困难及问题，提高患者应对能力，并积极为其创造良好的环境，以防复发。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;抑郁症，一种心病。这是我的定义，但是有时候我甚至怀疑这能不能被称作一种病、怀疑它是否真的存在……然而，现实如此残酷，这种病真实存在，而且发病时间和后果可能让人无法预料。我们不时听到某某明星因为抑郁而自杀的新闻，在叹息的同时，却又不禁在想：又有多少普通人抑郁而终？&lt;/p&gt;
&lt;p&gt;抑郁，亦有轻重，诱发因素或大或小。艾滋病患者多死于肿瘤，艾滋病毒破坏病人的免疫系统，也许一个小小的炎症，可能就会致命；在我看来，抑郁是类似的，它破坏病人的“心情系统”，也许一点点的不愉快可能就会变成诱因，让人走向极端。&lt;/p&gt;
&lt;p&gt;​												——记于2019年国考（2019年11月24日）的后一天&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://5b0988e595225.cdn.sohucs.com/images/20190503/5b2a4ecc0a724b25967493c34d0a4f7f.jpeg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu升级Ruby</title>
    <link href="https://www.yansheng.xyz/article/6bb10e64.html"/>
    <id>https://www.yansheng.xyz/article/6bb10e64.html</id>
    <published>2019-11-14T14:39:29.000Z</published>
    <updated>2019-12-09T17:29:08.509Z</updated>
    
    <content type="html"><![CDATA[<p>Ubuntu服务器最近扫描出很多漏洞，发现很多是Ruby的问题，而且有一些年代久远，想着应该是老版本的问题。于是去查了下更新问题，记录下更新过程。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912501635.png" alt="file"></p><a id="more"></a><p>当前的版本是 2.3，打算升级到最新的 2.6。可以使用下面的命令查看 Ruby 版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ruby -v</span><br><span class="line">ruby 2.3.1p112 (2016-04-26) [x86_64-linux-gnu]</span><br></pre></td></tr></table></figure><h3 id="添加-ppa-源：">添加 PPA 源：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:brightbox/ruby-ng</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><blockquote><p>Launchpad PPA Repositories是很有用的非ubuntu官方的第三方个人资源库，可以很方便地安装第三方软件。<br>但是在运行add-apt-repository命令时，有时会提示命令不存在，这个时候直接apt-get<br>add-apt-repository是不可以的！ 解决的方法是安装software-properties-common。<br>输入命令：<code>apt-get install software-properties-common</code></p></blockquote><h3 id="先删除旧版本：">先删除旧版本：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get purge --auto-remove ruby</span><br></pre></td></tr></table></figure><h3 id="然后安装新版本：">然后安装新版本：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install ruby2.6 ruby2.6-dev</span><br></pre></td></tr></table></figure><h3 id="安装后查看版本号：">安装后查看版本号：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ruby -v</span><br><span class="line">ruby 2.6.5p114 (2019-10-01 revision 67812) [x86_64-linux-gnu]</span><br></pre></td></tr></table></figure><p>更新成功后，重新扫描，漏洞少了20个……</p><hr><p>相关链接：</p><ul><li><a href="https://www.ruby-lang.org/zh_cn/downloads/" target="_blank" rel="noopener">下载 Ruby（中文网）</a></li><li><a href="https://blog.csdn.net/qq_31977367/article/details/78737646" target="_blank" rel="noopener">Ubuntu系统安装Ruby的三种方法</a></li><li><a href="https://blog.csdn.net/henryhu712/article/details/89224467" target="_blank" rel="noopener">https://blog.csdn.net/henryhu712/article/details/89224467</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Ubuntu服务器最近扫描出很多漏洞，发现很多是Ruby的问题，而且有一些年代久远，想着应该是老版本的问题。于是去查了下更新问题，记录下更新过程。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912501635.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Ubuntu" scheme="https://www.yansheng.xyz/tags/ubuntu/"/>
    
      <category term="Ruby" scheme="https://www.yansheng.xyz/tags/ruby/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加复制代码块的功能</title>
    <link href="https://www.yansheng.xyz/article/e9d1b881.html"/>
    <id>https://www.yansheng.xyz/article/e9d1b881.html</id>
    <published>2019-11-10T09:08:42.000Z</published>
    <updated>2020-03-27T15:23:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>实现复制代码块的功能，效果：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012450293.png" alt="file"></p><a id="more"></a><h2 id="我的提问">我的提问</h2><p>我在hexo-theme-yilia-plus主题上的提问：<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/issues/29" target="_blank" rel="noopener">https://github.com/JoeyBling/hexo-theme-yilia-plus/issues/29</a></p><blockquote><h3 id="初级版">初级版</h3><p>支持复制代码块的功能，如下图（截自csdn）：<br><a href="https://user-images.githubusercontent.com/45334066/68071471-aaebd180-fdb5-11e9-9601-76c6e6dc664b.png" target="_blank" rel="noopener"><img src="https://user-images.githubusercontent.com/45334066/68071471-aaebd180-fdb5-11e9-9601-76c6e6dc664b.png" alt="image"></a></p><p>个人觉得这个功能还是挺重要的。</p><h3 id="加强版">加强版</h3><p>如果文章中有原创版权声明，复制时，会携带相关信息。</p><h3 id="🙋others">🙋Others</h3><p>我自己也去查了下，找到的好像都是next主题的，没有yilia主题的，但是不太会转化……</p><p>参考链接：</p><ul><li>工具：clipboard.js：<a href="https://github.com/zenorocha/clipboard.js" target="_blank" rel="noopener">https://github.com/zenorocha/clipboard.js</a>，中文网：<a href="http://www.clipboardjs.cn/" target="_blank" rel="noopener">http://www.clipboardjs.cn/</a></li><li>Hexo NexT 代码块复制功能:<a href="https://www.jianshu.com/p/3e9d614c1e77" target="_blank" rel="noopener">https://www.jianshu.com/p/3e9d614c1e77</a></li><li>hexo-next 添加代码块复制功能：<a href="https://www.zhyong.cn/posts/ca02/" target="_blank" rel="noopener">https://www.zhyong.cn/posts/ca02/</a></li><li>Hexo–第二弹(包含复制代码块，和版权声明)：<a href="https://www.jianshu.com/p/4d0020bde612" target="_blank" rel="noopener">https://www.jianshu.com/p/4d0020bde612</a></li></ul></blockquote><hr><h2 id="自己动手">自己动手</h2><p>因为回复比较慢，就自己动手去尝试了。</p><p>参考：<a href="https://hexo-guide.readthedocs.io/zh_CN/latest/third-service/%5Bclipboard.js%5D%E4%BB%A3%E7%A0%81%E5%9D%97%E5%A4%8D%E5%88%B6.html" target="_blank" rel="noopener">[clipboard.js]代码块复制</a></p><p>该文章也是基于next主题，迁移过来有些问题：</p><ol><li>next主题可能自带jQuery，故没有引入，但是yilia没有，需要引入。</li><li>会报错<code>ClipboardJS is not defined</code>，我这里直接改成了<code>Clipboard</code>就可以了，后面找到原因了：是版本问题，<a href="https://github.com/zenorocha/clipboard.js/releases/v2.0.0" target="_blank" rel="noopener">https://github.com/zenorocha/clipboard.js/releases/v2.0.0</a>，v2.0.0的变化：Changes constructor from <code>new Clipboard()</code> to <code>new ClipboardJS()</code> <a href="https://github.com/zenorocha/clipboard.js/issues/468" target="_blank" rel="noopener">#468</a>。相关问题：<ul><li><a href="https://github.com/zenorocha/clipboard.js/issues/296" target="_blank" rel="noopener">Clipboard not defined</a></li><li><a href="https://www.bbsmax.com/A/gVdnNgPNdW/" target="_blank" rel="noopener">clipboard复制剪贴板功能，以及用requirejs时报错—Uncaught ReferenceError: Clipboard is not defined</a></li></ul></li></ol><h3 id="0-原理">0.原理</h3><p>在页面加载完毕后，使用js动态地为每一个代码块添加一个按钮，使用这个按钮复制代码块内容。</p><h3 id="1-新建实现复制功能的js">1.新建实现复制功能的js</h3><p><code>H:\Hexo\themes\yilia\source\js\clipboard_use.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*页面载入完成后，创建复制按钮*/</span></span><br><span class="line">!<span class="function"><span class="keyword">function</span> (<span class="params">e, t, a</span>) </span>&#123; </span><br><span class="line"><span class="comment">/* code */</span></span><br><span class="line"><span class="keyword">var</span> initCopyCode = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> copyHtml = <span class="string">''</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'  &lt;i class="fa fa-globe"&gt;&lt;/i&gt;&lt;span&gt;copy&lt;/span&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;/button&gt;'</span>;</span><br><span class="line">    $(<span class="string">".highlight .code"</span>).before(copyHtml);</span><br><span class="line">    <span class="keyword">new</span> Clipboard(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">        target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">initCopyCode();</span><br><span class="line">&#125;(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><h3 id="2-引入js">2.引入js</h3><p>在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>文件的<code>&lt;/body&gt;</code>前引入：（作用：页面加载完再执行js）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 代码块复制功能 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;script type="text/javascript" src="/js/clipboard.js"&gt;&lt;/script&gt;  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/clipboard_use.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="需要注意的问题：">需要注意的问题：</h4><ul><li>前面提到：因为：<code>clipboard_use.js</code>中需要用到jQuery，而yilia没有引入jQuery，故需要引入。</li><li>对于<code>clipboard.js</code>的引入问题：根据github社区反馈，引入本地文件好像会出现问题（我本地测试就引入不了），故使用CDN引入。（有人反映CDN好像也会有问题，反正我没有遇到……）</li><li>注意引入顺序：<code>jquery</code>和<code>clipboard.js</code>需要在<code>clipboard_use.js</code>之前引入。</li><li><code>&lt;script&gt;</code>标签问题，虽然HTML5标准里面没有严格要求标签一定要关闭，但是建议要关闭，不然可能会出现问题。这里我一开始没有关闭标签，就出现问题了，后面研究了很久才发现原来是这个问题。</li></ul><h3 id="3-添加样式">3.添加样式</h3><p>修改：<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，在末尾添加下面代码（最好是<code>pre .css~* .id, pre .id</code>下面，即代码块样式附近）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  这是原代码块 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.id</span>, <span class="selector-tag">pre</span> <span class="selector-class">.id</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fd971f</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 代码块复制按钮 */</span></span><br><span class="line"> <span class="selector-class">.highlight</span> &#123;</span><br><span class="line">    <span class="comment">/* 方便copy代码按钮（btn-copy）的定位 */</span></span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#fcfcfc, #eee);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none;</span><br><span class="line">    <span class="attribute">user-select</span>: none;</span><br><span class="line">    <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-o-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块复制按钮 */</span></span><br></pre></td></tr></table></figure><h3 id="成果">成果</h3><p>点击按钮后，会全选代码块，就复制成功了。<br>效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012404242.png" alt="file"></p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012450293.png" alt="file"></p><p>动图：<br><img src="https://img-blog.csdnimg.cn/20191106120739510.gif" alt="file"></p><h3 id="问题讨论">问题讨论</h3><p>乍一看效果还不错，但是还是存在问题：</p><ol><li>如果代码块超出，会出现问题。虽然图标样式使用绝对定位，但是该按钮没有“固定”在代码块页面的右上角，仅仅是固定在当前页面的右上角，可能不好理解，截个图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012602602.png" alt="file"><br>然后我去研究了下CSDN的样式，发现好像差不多，但是效果明显不一样啊。后面有空再研究吧。</li><li>虽然复制成功会全选代码块，但是不成功呢？不晓得？好像没反应。后期可能会添加对应设置（模仿CSDN）：默认时“复制”，复制成功显示“复制成功”，几秒后再次显示“复制”，失败给出对应提示。</li></ol><h3 id="依赖升级">依赖升级</h3><p>使用最新版本的clipboard.js–v2.0.4，CDN：<a href="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/" target="_blank" rel="noopener">https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/</a>，替换之前的，需要修改的地方：</p><h4 id="1-改变引入源">1.改变引入源</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-改变函数名">2.改变函数名</h4><p><code>Clipboard</code> to <code>ClipboardJS</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Clipboard(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">    target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>改为：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> ClipboardJS(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">    target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="bug修复">bug修复</h2><p>更新时间：2020-3-27 23:25:54</p><p>感谢：<a href="https://code-ape.gitee.io/" target="_blank" rel="noopener">辛猿毅码</a>的这篇文章<a href="https://code-ape.gitee.io/article/5bc9f198.html" target="_blank" rel="noopener">https://code-ape.gitee.io/article/5bc9f198.html</a>。</p><h3 id="1-修改js">1.修改js</h3><p>在<code>highlight</code>元素外围加一个父元素，方便定位复制按钮。<br><code>H:\Hexo\themes\yilia\source\js\clipboard_use2.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">".highlight"</span>).wrap(<span class="string">"&lt;div class='code-wrapper' style='position:relative'&gt;&lt;/div&gt;"</span>);</span><br><span class="line"><span class="comment">/*页面载入完成后，创建复制按钮*/</span></span><br><span class="line">!<span class="function"><span class="keyword">function</span> (<span class="params">e, t, a</span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* code */</span></span><br><span class="line">    <span class="keyword">var</span> initCopyCode = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> copyHtml = <span class="string">''</span>;</span><br><span class="line">        copyHtml += <span class="string">'&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'</span>;</span><br><span class="line">        copyHtml += <span class="string">'  &lt;i class="fa fa-clipboard"&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;'</span>;</span><br><span class="line">        copyHtml += <span class="string">'&lt;/button&gt;'</span>;</span><br><span class="line">        $(<span class="string">".highlight .code"</span>).before(copyHtml);</span><br><span class="line">        <span class="keyword">var</span> clipboard = <span class="keyword">new</span> ClipboardJS(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">            target: <span class="function"><span class="keyword">function</span> (<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        clipboard.on(<span class="string">'success'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制成功&lt;/span&gt;"</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;"</span></span><br><span class="line">            &#125;, <span class="number">1000</span>)</span><br><span class="line">            e.clearSelection();</span><br><span class="line">        &#125;);</span><br><span class="line">        clipboard.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制失败&lt;/span&gt;"</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;"</span></span><br><span class="line">            &#125;, <span class="number">1000</span>)</span><br><span class="line">            e.clearSelection();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    initCopyCode();</span><br><span class="line">&#125;(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><h3 id="2-修改复制按钮样式">2.修改复制按钮样式</h3><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#fcfcfc, #eee);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    . -webkit-user-select: none;</span><br><span class="line">    <span class="selector-tag">-moz-user-select</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">-ms-user-select</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">user-select</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">-webkit-appearance</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 13<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">font-weight</span>: 700;</span><br><span class="line">    <span class="selector-tag">line-height</span>: 20<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span><br><span class="line">    <span class="selector-tag">-webkit-transition</span>: <span class="selector-tag">opacity</span> <span class="selector-class">.3s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line">    <span class="selector-tag">-o-transition</span>: <span class="selector-tag">opacity</span> <span class="selector-class">.3s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line">    <span class="selector-tag">transition</span>: <span class="selector-tag">opacity</span> <span class="selector-class">.3s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line">    <span class="selector-tag">padding</span>: 2<span class="selector-tag">px</span> 6<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;</span><br><span class="line">    <span class="selector-tag">right</span>: 5<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">top</span>: 5<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">opacity</span>: 0;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-添加复制按钮图标">3.添加复制按钮图标</h3><p>需要引入<strong>font-awesome</strong>，在<code>H:\Hexo\themes\yilia\layout\_partial\head.ejs</code>的<code>&lt;/head&gt;</code>前添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="效果图">效果图</h3><p>有滚动条时：<br><img src="https://oss.yansheng.xyz/picgo/20200410214256.png" alt></p><p>复制成功显示：<br><img src="https://oss.yansheng.xyz/picgo/20200410214508.png" alt></p><h3 id="微调图标样式">微调图标样式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">clipboard.on(<span class="string">'success'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-check' style='color:green'&gt;&lt;/i&gt;&lt;span style='color:green'&gt;复制成功&lt;/span&gt;"</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;"</span></span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">    e.clearSelection();</span><br><span class="line">&#125;);</span><br><span class="line">clipboard.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-exclamation' style='color:red'&gt;&lt;/i&gt;&lt;span style='color:red'&gt;复制失败&lt;/span&gt;"</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;"</span></span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">    e.clearSelection();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>复制成功效果：<br><img src="https://oss.yansheng.xyz/picgo/20200410214621.png" alt></p><p>复制失败效果：<br><img src="https://oss.yansheng.xyz/picgo/20200410214948.png" alt></p><p>收工！</p><h2 id="修复前后对比">修复前后对比</h2><p>前<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/code-raw.gif" alt></p><p>后<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/code-after.gif" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;实现复制代码块的功能，效果：&lt;br&gt;
&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012450293.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia测试代码块样式</title>
    <link href="https://www.yansheng.xyz/article/285260df.html"/>
    <id>https://www.yansheng.xyz/article/285260df.html</id>
    <published>2019-11-10T09:07:49.000Z</published>
    <updated>2019-11-12T07:49:38.909Z</updated>
    
    <content type="html"><![CDATA[<p>测试代码块、引用块、（文章内）超链接的样式以及高亮问题。</p><h2 id="高亮说明">高亮说明</h2><p>经测试，发现有以下几个问题：</p><ol><li>引用块里面的代码块样式有问题。</li><li>如果语言不支持高亮，默认使用plain（简单的，无格式的）。</li><li>MySQL等SQL需要统一设置为SQL，不然不高亮。</li><li>shell脚本使用bash，不然不高亮。</li><li>cmd命令/Linux命令使用bash，可以部分高亮。</li><li>markdown代码块不支持高亮。</li><li>ejs使用HTML进行高亮。</li></ol><a id="more"></a><h2 id="引用块">引用块</h2><blockquote><h3 id="引用的三级目录">引用的三级目录</h3><p>这是引用</p><p>下面是引用中的代码块：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"p1"</span> <span class="attr">style</span>=<span class="string">"font-size:20px;"</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h2 id="行内代码块">行内代码块</h2><p>这是行内代码块：<code>git clone url</code>。</p><h2 id="标题中的行内代码块git-clone-url">标题中的行内代码块<code>git clone url</code></h2><h2 id="超链接">超链接</h2><p>超链接样式：</p><ol><li><code>[文字](url)</code>:<a href="https://yansheng836.github.io/" target="_blank" rel="noopener">我的博客仓库</a>，如果url含有中文，建议加&lt;&gt;，不然可能会被截断，导致连接失效。</li><li><code>&lt;url&gt;</code>:<a href="https://yansheng836.github.io/" target="_blank" rel="noopener">https://yansheng836.github.io/</a>。</li><li><code>url</code>:<a href="https://yansheng836.github.io/%EF%BC%8C%E4%B8%8D%E6%8E%A8%E8%8D%90%E9%80%82%E7%94%A8%E8%BF%99%E7%A7%8D%EF%BC%8C%E4%B8%8D%E8%A7%84%E8%8C%83%E3%80%82" target="_blank" rel="noopener">https://yansheng836.github.io/，不推荐适用这种，不规范。</a></li></ol><h2 id="html">HTML</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"p1"</span> <span class="attr">style</span>=<span class="string">"font-size:20px;"</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="xml">XML</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="css">CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">charset</span>"<span class="keyword">utf</span>-<span class="keyword">8</span>";</span><br><span class="line"><span class="selector-class">.bar2</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">transition</span>:<span class="number">0.4s</span>;</span><br><span class="line"><span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="javascript">JavaScript</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hide = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    x.classList.toggle(<span class="string">"change"</span>);</span><br><span class="line">    <span class="keyword">if</span> (hide == <span class="literal">false</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hide == false"</span>);</span><br><span class="line">        hide = <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>)</span><br><span class="line">        hide = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="json">Json</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"sites"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"菜鸟教程"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"www.runoob.com"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"google"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"www.google.com"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"微博"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"www.weibo.com"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="java">Java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">         <span class="comment">// 单行注释</span></span><br><span class="line">        System.out.println(<span class="string">"Hello World"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="python3">Python3</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    <span class="string">"""一个简单的类实例"""</span></span><br><span class="line">    i = <span class="number">12345</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'hello world'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 实例化类</span></span><br><span class="line">x = MyClass()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 访问类的属性和方法</span></span><br><span class="line">print(<span class="string">"MyClass 类的属性 i 为："</span>, x.i)</span><br><span class="line">print(<span class="string">"MyClass 类的方法 f 输出为："</span>, x.f())</span><br></pre></td></tr></table></figure><h2 id="sql">SQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name</span><br><span class="line"><span class="keyword">VALUES</span> (value1,value2,value3,...);</span><br></pre></td></tr></table></figure><h2 id="mysql">MySQL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * from runoob_tbl ORDER BY submission_date ASC;</span><br></pre></td></tr></table></figure><h2 id="mysql-sql">MySQL–&gt;SQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> runoob_tbl <span class="keyword">ORDER</span> <span class="keyword">BY</span> submission_date <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure><h2 id="shell">Shell</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for loop in 1 2 3 4 5</span><br><span class="line">do</span><br><span class="line">    echo "The value is: $loop"</span><br><span class="line">done</span><br></pre></td></tr></table></figure><h2 id="shell-bash">Shell–&gt;BASH</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> loop <span class="keyword">in</span> 1 2 3 4 5</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"The value is: <span class="variable">$loop</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h2 id="bash-git">Bash/Git</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cmd</span></span><br><span class="line"><span class="built_in">cd</span> dir</span><br><span class="line">mkdir new_dir</span><br><span class="line"></span><br><span class="line"><span class="comment"># 注释</span></span><br><span class="line">$ git add *.c</span><br><span class="line">$ git add README</span><br><span class="line">$ git commit -m <span class="string">'初始化项目版本'</span></span><br></pre></td></tr></table></figure><h2 id="c">C</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/* 我的第一个 C 程序 */</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Hello, World! \n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="c-v2">C++</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 注释</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="markdown">Markdown</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">这是超链接：<span class="xml"><span class="tag">&lt;<span class="name">https:</span>//<span class="attr">github.com</span>/<span class="attr">yansheng836</span>/&gt;</span></span></span><br><span class="line">下面的是列表：</span><br><span class="line"><span class="bullet">- </span>列表</span><br><span class="line"><span class="bullet">- </span>列表</span><br></pre></td></tr></table></figure><h2 id="ejs">EJS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.valine &amp;&amp; theme.valine.appid &amp;&amp; theme.valine.appkey)&#123; %&gt;</span><br><span class="line">    &lt;section id=&quot;comments&quot; class=&quot;comments&quot;&gt;</span><br><span class="line">      &lt;style&gt;</span><br><span class="line">        .comments&#123;margin:30px;padding:10px;background:#fff&#125;</span><br><span class="line">        @media screen and (max-width:800px)&#123;.comments&#123;margin:auto;padding:10px;background:#fff&#125;&#125;</span><br><span class="line">      &lt;/style&gt;</span><br><span class="line">      &lt;%- partial(&apos;post/valine&apos;, &#123;</span><br><span class="line">        key: post.slug,</span><br><span class="line">        title: post.title,</span><br><span class="line">        url: config.url+url_for(post.path)</span><br><span class="line">        &#125;) %&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h2 id="ejs-html">EJS–&gt;HTML</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.valine</span> &amp;&amp; <span class="attr">theme.valine.appid</span> &amp;&amp; <span class="attr">theme.valine.appkey</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:<span class="number">30px</span>;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;</span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>)&#123;<span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;&#125;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">valine</span>', &#123;</span></span><br><span class="line"><span class="tag">        <span class="attr">key:</span> <span class="attr">post.slug</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">title:</span> <span class="attr">post.title</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">url:</span> <span class="attr">config.url</span>+<span class="attr">url_for</span>(<span class="attr">post.path</span>)</span></span><br><span class="line"><span class="tag">        &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h2 id="yml">YML</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#hexo g 会默认将所有md文件转换成（渲染成）HTML文件放到public文件夹中；加上这句话的意思就是告诉hexo的解析器，跳过渲染(skip_render)README.md文件</span></span><br><span class="line"><span class="attr">skip_render:</span> </span><br><span class="line"><span class="bullet"> -</span> <span class="string">'README.md'</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;测试代码块、引用块、（文章内）超链接的样式以及高亮问题。&lt;/p&gt;
&lt;h2 id=&quot;高亮说明&quot;&gt;高亮说明&lt;/h2&gt;
&lt;p&gt;经测试，发现有以下几个问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;引用块里面的代码块样式有问题。&lt;/li&gt;
&lt;li&gt;如果语言不支持高亮，默认使用plain（简单的，无格式的）。&lt;/li&gt;
&lt;li&gt;MySQL等SQL需要统一设置为SQL，不然不高亮。&lt;/li&gt;
&lt;li&gt;shell脚本使用bash，不然不高亮。&lt;/li&gt;
&lt;li&gt;cmd命令/Linux命令使用bash，可以部分高亮。&lt;/li&gt;
&lt;li&gt;markdown代码块不支持高亮。&lt;/li&gt;
&lt;li&gt;ejs使用HTML进行高亮。&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia修改代码块等样式</title>
    <link href="https://www.yansheng.xyz/article/c344994.html"/>
    <id>https://www.yansheng.xyz/article/c344994.html</id>
    <published>2019-11-10T09:06:49.000Z</published>
    <updated>2019-11-11T08:23:17.957Z</updated>
    
    <content type="html"><![CDATA[<p>代码块的样式真的很重要，毕竟咱好歹是一个技术博客，难免会贴一些代码的。因此参考<a href="https://cqh-i.github.io/" target="_blank" rel="noopener">https://cqh-i.github.io</a>的样式进行了调整，下面是HTML的例子，更多具体效果可以参考这篇博客的样式：<a href="/article/285260df.html">test-codestyle</a>。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>html代码块样本<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这个样式可还行？<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"p1"</span> <span class="attr">style</span>=<span class="string">"font-size:20px;"</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="说明">说明</h2><ol><li>由于每个人可能都修改过样式文件，所以每个人的样式可能都会有所不同。建议修改之前做好备份，防止出现错误难于恢复，可以使用git进行版本管理（<a href="https://github.com/yansheng836/yansheng836.github.io/blob/master/README.md" target="_blank" rel="noopener">备份博客的源码和配置</a>）。</li><li>我的备份文件，详见<a href="https://github.com/yansheng836/yansheng836.github.io/tree/blog/docs/%E4%BB%A3%E7%A0%81%E5%9D%97%E6%A0%B7%E5%BC%8F%E8%B0%83%E6%95%B4%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6" target="_blank" rel="noopener">代码块样式调整备份文件</a>，<code>cqh-i.github.io.css</code>为博客<a href="https://cqh-i.github.io/" target="_blank" rel="noopener">https://cqh-i.github.io</a>的代码块样式。<code>main.0cf68a.css</code>为我之前的css文件的备份。</li></ol><h2 id="文中超链接样式">文中超链接样式</h2><p>默认：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#08c</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改（添加内容）后：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 文章中的超链接,鼠标悬浮特效 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#08c</span>;</span><br><span class="line">    <span class="comment">/* font-size:18px; */</span></span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">    <span class="attribute">transition</span>:.<span class="number">8s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>再次修改：</p><p>参考：<a href="https://css.30secondsofcode.org/snippet/hover-underline-animation" target="_blank" rel="noopener">https://css.30secondsofcode.org/snippet/hover-underline-animation</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 文章中的超链接,鼠标悬浮特效*/</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0087ca</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: lucida console;<span class="comment">/* 这种字体的英文比较好看（像代码样式） */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标悬浮时，变色 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#d7191a</span>;</span><br><span class="line">    <span class="attribute">transition</span>:.<span class="number">8s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标悬浮时，下划线从中间向两边延伸 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(1);</span><br><span class="line">  <span class="comment">/* 旋转，与transform连用；这里作用：鼠标悬浮时，底部的下划线从中间扩散到两边。</span></span><br><span class="line"><span class="comment">   bottom right :左到右出现，左到右消失（需配合上面的::after）</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="attribute">transform-origin</span>: bottom center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标移开后，下划线从两边向中间消失 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1.5px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#0087ca</span>;</span><br><span class="line">  <span class="comment">/* 详见：https://www.w3school.com.cn/cssref/pr_transform-origin.asp,</span></span><br><span class="line"><span class="comment">  旋转，与transform连用；这里作用：鼠标移开后，底部的下划线从中间开始消失 */</span></span><br><span class="line">  <span class="attribute">transform-origin</span>: bottom center;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.5s</span> ease-out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2019年11月8日调整将<code>article-entry</code>换成<code>mid-col</code>，原来只是文章中文的超链接，现在改为右边栏都进行设置。（可能会出现很多负面影响，请自行决定是否更改）。</p><h2 id="行内代码块样式">行内代码块样式</h2><p>默认：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span>,<span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考csdn代码块样式：主要是调整颜色为红色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.markdown_views</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f9f2f4</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: -<span class="number">9px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改后：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 行内代码块``的样式，参考csdn的</span></span><br><span class="line"><span class="comment">    color: #c7254e;</span></span><br><span class="line"><span class="comment">    background-color: #f9f2f4;</span></span><br><span class="line"><span class="comment">    border-radius: 2px;</span></span><br><span class="line"><span class="comment">    padding: 2px 4px;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span>, <span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f9f2f4</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="comment">/* background:#ddd; */</span></span><br><span class="line">    <span class="comment">/* border:2px solid #ccc; */</span></span><br><span class="line">    <span class="attribute">font-family</span>:Menlo, Monaco, Andale Mono, lucida console, Courier New, monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="comment">/* font-size:14px */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>补充：一开始没注意到原来该样式不包含标题中的代码块，添加:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 标题中的代码块样式 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="comment">/* background:#eee;</span></span><br><span class="line"><span class="comment">    padding:0 .3em;</span></span><br><span class="line"><span class="comment">    border:none */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(249,242,244,.7);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="代码块主要样式文件">代码块主要样式文件</h2><h3 id="代码块简单设置">代码块简单设置</h3><p>参考：<a href="https://www.jianshu.com/p/adb7640c97c2" target="_blank" rel="noopener">Hexo 基于yilia主题及其它插件优化</a></p><h4 id="1-修改代码块的样式">1.修改代码块的样式</h4><p>直接修改编译好的文件。路径为： <code>theme/yilia/source/main.0cf68a.css</code>:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(1)修改代码背景色，</span><br><span class="line">搜索 <span class="selector-class">.article-entry</span> <span class="selector-class">.highlight</span>, 修改<span class="selector-tag">background</span>后面的颜色</span><br><span class="line">将 <span class="selector-tag">pre</span>&#123;<span class="attribute">background</span>:<span class="number">#272822</span>;</span><br><span class="line">改为 pre&#123;background:#1a0139;</span><br><span class="line"></span><br><span class="line">(2)修改行号颜色，</span><br><span class="line">搜索 <span class="selector-class">.article-entry</span> <span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> <span class="selector-tag">pre</span> <span class="selector-class">.line</span></span><br><span class="line">将<span class="selector-class">.article-entry</span> <span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> <span class="selector-tag">pre</span> <span class="selector-class">.line</span>&#123;<span class="attribute">color</span>:<span class="number">#666</span></span><br><span class="line">改为.article-entry .highlight .gutter pre .line&#123;color:<span class="number">#fc0000</span></span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)修改代码字体颜色 </span><br><span class="line">搜索 .article-entry .highlight .line</span><br><span class="line">将.article-entry .highlight .line&#123;color:<span class="number">#fff</span>;</span><br><span class="line">修改为.article-entry .highlight .line&#123;color:#00ff0d;</span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="https://user-images.githubusercontent.com/45334066/63212335-714fe680-c135-11e9-8474-7de47bd3f3e5.png" alt></p><p>个人感觉还不是很满意，有待优化。</p><h4 id="2-代码块行号显示错乱">2.代码块行号显示错乱</h4><p>修改<code>yilia/source/main.0cf68a.css</code>的内容：将<code>white-space:pre-wrap;</code> 删除，这个问题是自动换行造成的，使用不自动换行的<code>white-space:pre;</code>样式代码块部分会自动出现底部滚动条，行号错乱问题就没有了。</p><h4 id="3-重点调整">3.重点调整</h4><p>不知道是hexo还是yilia主题自带的是使用<code>highlight.js</code>进行代码高亮的，但是好像是内置的，因为我不会写源码，只能更改生成的文件：<code>yilia/source/main.0cf68a.css</code>，按照识别的关键字自定义颜色，这里是我的一些配置，你也可以自己使用F12进行调试。（当然网上也有许多替换自指定的<code>highlight.js</code>进行代码高亮的教程）。</p><p><strong>特别注意</strong>：高亮的前提是语言要写对，不然只能当做普通文本进行识别。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 代码块样式之评论：黄色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.comment</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#ffec8b</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之类的参数、函数的关键字、关键字：蓝色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.class</span> <span class="selector-class">.params</span>, <span class="selector-tag">pre</span> <span class="selector-class">.function</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.literal</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#66d9ef</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之css的属性值、函数名、参数、标签：白色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.css</span> <span class="selector-class">.value</span>, <span class="selector-tag">pre</span> <span class="selector-class">.doctype</span>, <span class="selector-tag">pre</span> <span class="selector-class">.function</span>, <span class="selector-tag">pre</span> <span class="selector-class">.params</span>, <span class="selector-tag">pre</span> <span class="selector-class">.tag</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span></span><br><span class="line"><span class="comment">/* color:#66d9ef; */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之HTML或者xml的头部元素：红色(颜色较浅) */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.meta</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#f78da1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之HTML的标签：红色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.tag</span> <span class="selector-class">.name</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#dc3958; */</span></span><br><span class="line"> <span class="attribute">color</span>:<span class="number">#ff6481</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之：色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.at_rule</span>, <span class="selector-tag">pre</span> <span class="selector-class">.at_rule</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.tag</span>, <span class="selector-tag">pre</span> <span class="selector-class">.preprocessor</span>, <span class="selector-tag">pre</span> <span class="selector-class">.preprocessor</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.title</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fa9400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之属性、类、函数的title：绿色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.attr</span>,<span class="selector-tag">pre</span> <span class="selector-class">.attribute</span>, <span class="selector-tag">pre</span> <span class="selector-class">.built_in</span>, <span class="selector-tag">pre</span> <span class="selector-class">.class</span>, <span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.class</span>, <span class="selector-tag">pre</span> <span class="selector-class">.function</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#a6e22e</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之字符串、属性值：猪肝色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.string</span>, <span class="selector-tag">pre</span> <span class="selector-class">.value</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#e6db74</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之数字：粉红色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.number</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#ffe4b5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.id</span>, <span class="selector-tag">pre</span> <span class="selector-class">.id</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fd971f</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="文章内的超链接和引用块超出页面的问题">文章内的超链接和引用块超出页面的问题</h2><p>参考：<a href="https://www.cnblogs.com/ytkah/p/5673122.html" target="_blank" rel="noopener">css自动换行如何设置?url太长会撑开页面</a></p><p>当页面进行缩放时，说明这两个区域可能会超出页面。</p><p>使用下面这两个属性进行截断：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line"><span class="selector-tag">word-wrap</span><span class="selector-pseudo">:break-word</span>;</span><br><span class="line"><span class="selector-tag">word-break</span><span class="selector-pseudo">:break-all</span>;</span><br></pre></td></tr></table></figure><p>具体如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:transparent;</span><br><span class="line">    <span class="attribute">text-decoration</span>:none;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#08c</span>;</span><br><span class="line"><span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">15px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#657b83</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#f6f6f6</span>;</span><br><span class="line">    <span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="左侧边栏的菜单">左侧边栏的菜单</h2><p>导航超链接样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 这个字体不错font-family: STCaiyun,STXingkai; */</span></span><br><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.header-menu</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: STCaiyun,STXingkai;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">31px</span>;</span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">    <span class="attribute">float</span>: none;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-pack</span>: center;</span><br><span class="line">    <span class="attribute">-webkit-box-align</span>: center;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="主页-展开全文-按钮样式">主页‘展开全文’按钮样式</h2><p>样式参考：<a href="http://ianlunn.github.io/Hover/" target="_blank" rel="noopener">http://ianlunn.github.io/Hover/</a>的<code>hvr-shutter-in-horizontal</code>按钮，示例：<a href="https://codepen.io/yansheng836/pen/QWWmEro" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/QWWmEro</a>。</p><h3 id="1-添加class">1.添加class</h3><p>修改<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>，查找<code>index &amp;&amp; theme.show_all_link</code>，找到如下内容</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">index</span> &amp;&amp; <span class="attr">theme.show_all_link</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"article-more-link"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"article-more-a"</span> <span class="attr">href</span>=<span class="string">"&lt;%- url_for(post.path) %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.show_all_link</span> %&gt;</span> &gt;&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>在<code>class=&quot;article-more-a</code>中添加<code>hvr-shutter-in-horizontal</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">index</span> &amp;&amp; <span class="attr">theme.show_all_link</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"article-more-link"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"article-more-a  hvr-shutter-in-horizontal"</span> <span class="attr">href</span>=<span class="string">"&lt;%- url_for(post.path) %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.show_all_link</span> %&gt;</span> &gt;&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-修改样式">2.修改样式</h3><p>修改<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，查找<code>.article-more-link a</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#4d4d4d</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">5px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">transition</span>:background .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#3c3c3c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改为：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 《展开全文按钮 */</span></span><br><span class="line"> <span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">5px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="comment">/* Prevent highlight colour when element is tapped */</span></span><br><span class="line">    <span class="attribute">-webkit-tap-highlight-color</span>: <span class="built_in">rgba</span>(0, 0, 0, 0);</span><br><span class="line">    <span class="comment">/* Smooth fonts */</span></span><br><span class="line">    <span class="attribute">-webkit-font-smoothing</span>: antialiased;</span><br><span class="line">    <span class="attribute">-moz-osx-font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Shutter In Horizontal ,from : http://ianlunn.github.io/Hover/ */</span></span><br><span class="line"> <span class="selector-class">.hvr-shutter-in-horizontal</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0);</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line"><span class="comment">/* 在鼠标悬浮时为：蓝色 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#2098D1</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition-property</span>: color;</span><br><span class="line">    <span class="attribute">transition-property</span>: color;</span><br><span class="line">    <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line"><span class="comment">/* 在默认情况下为：灰褐色 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#4d4d4d</span>;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">scaleX</span>(1);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(1);</span><br><span class="line">    <span class="attribute">-webkit-transform-origin</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition-property</span>: transform;</span><br><span class="line">    <span class="attribute">transition-property</span>: transform;</span><br><span class="line">    <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition-timing-function</span>: ease-out;</span><br><span class="line">    <span class="attribute">transition-timing-function</span>: ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:focus</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:active</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 展开全文按钮》 */</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;代码块的样式真的很重要，毕竟咱好歹是一个技术博客，难免会贴一些代码的。因此参考&lt;a href=&quot;https://cqh-i.github.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://cqh-i.github.io&lt;/a&gt;的样式进行了调整，下面是HTML的例子，更多具体效果可以参考这篇博客的样式：&lt;a href=&quot;/article/285260df.html&quot;&gt;test-codestyle&lt;/a&gt;。&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;meta&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;charset&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;html代码块样本&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;这个样式可还行？&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;p1&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;font-size:20px;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;我的第一个段落。&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加live2d看板娘</title>
    <link href="https://www.yansheng.xyz/article/e239dc63.html"/>
    <id>https://www.yansheng.xyz/article/e239dc63.html</id>
    <published>2019-11-10T09:06:30.000Z</published>
    <updated>2019-11-12T07:53:08.769Z</updated>
    
    <content type="html"><![CDATA[<p>添加live2d看板娘，插件：hexo-helper-live2d，github仓库：<a href="https://github.com/EYHN/hexo-helper-live2d" target="_blank" rel="noopener">https://github.com/EYHN/hexo-helper-live2d</a></p><p>右下角：可爱小黑猫🐱</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573481131575.png" alt="file"></p><a id="more"></a><h2 id="安装">安装</h2><h3 id="1-安装插件">1.安装插件</h3><p>运行命令<code>npm install --save hexo-helper-live2d</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-helper-live2d</span><br><span class="line"></span><br><span class="line">&gt; core-js@2.6.10 postinstall H:\Hexo\node_modules\babel-polyfill\node_modules\core-js</span><br><span class="line">&gt; node postinstall || <span class="built_in">echo</span> <span class="string">"ignore"</span></span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using core-js ( https://github.com/zloirock/core-js ) <span class="keyword">for</span> polyfilling JavaScript standard library!</span><br><span class="line"></span><br><span class="line">The project needs your <span class="built_in">help</span>! Please consider supporting of core-js on Open Collective or Patreon:</span><br><span class="line">&gt; https://opencollective.com/core-js</span><br><span class="line">&gt; https://www.patreon.com/zloirock</span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( https://github.com/zloirock ) is looking <span class="keyword">for</span> a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; core-js@2.6.10 postinstall H:\Hexo\node_modules\babel-runtime\node_modules\core-js</span><br><span class="line">&gt; node postinstall || <span class="built_in">echo</span> <span class="string">"ignore"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; live2d-widget@3.1.4 postinstall H:\Hexo\node_modules\live2d-widget</span><br><span class="line">&gt; opencollective-postinstall</span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using live2d-widget!</span><br><span class="line">If you rely on this package, please consider supporting our open collective:</span><br><span class="line">&gt; https://opencollective.com/live2d-widgetjs/donate</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; hexo-helper-live2d@3.1.1 postinstall H:\Hexo\node_modules\hexo-helper-live2d</span><br><span class="line">&gt; opencollective-postinstall</span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using hexo-helper-live2d!</span><br><span class="line">If you rely on this package, please consider supporting our open collective:</span><br><span class="line">&gt; https://opencollective.com/hexo-helper-live2d/donate</span><br><span class="line"></span><br><span class="line">npm WARN babel-eslint@10.0.2 requires a peer of eslint@&gt;= 4.12.1 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@1.2.9: wanted &#123;<span class="string">"os"</span>:<span class="string">"darwin"</span>,<span class="string">"arch"</span>:<span class="string">"any"</span>&#125; (current: &#123;<span class="string">"os"</span>:<span class="string">"win32"</span>,<span class="string">"arch"</span>:<span class="string">"x64"</span>&#125;)</span><br><span class="line"></span><br><span class="line">+ hexo-helper-live2d@3.1.1</span><br><span class="line">added 277 packages from 109 contributors and audited 25235 packages <span class="keyword">in</span> 255.268s</span><br><span class="line">found 20 vulnerabilities (7 low, 6 moderate, 6 high, 1 critical)</span><br><span class="line">  run `npm audit fix` to fix them, or `npm audit` <span class="keyword">for</span> details</span><br></pre></td></tr></table></figure><h3 id="2-选择模型">2.选择模型</h3><p>可到<a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">https://huaji8.top/post/live2d-plugin-2.0/</a>预览效果。</p><p>命令为:<code>npm install live2d-widget-model-模型名</code>，模型为可参考上面的预览内容。</p><p>安装模型:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ npm install live2d-widget-model-hijiki</span><br><span class="line">npm WARN babel-eslint@10.0.2 requires a peer of eslint@&gt;= 4.12.1 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@1.2.9: wanted &#123;<span class="string">"os"</span>:<span class="string">"darwin"</span>,<span class="string">"arch"</span>:<span class="string">"any"</span>&#125; (current: &#123;<span class="string">"os"</span>:<span class="string">"win32"</span>,<span class="string">"arch"</span>:<span class="string">"x64"</span>&#125;)</span><br><span class="line"></span><br><span class="line">+ live2d-widget-model-hijiki@1.0.5</span><br><span class="line">added 1 package <span class="keyword">in</span> 52.155s</span><br></pre></td></tr></table></figure><h3 id="3-配置">3.配置</h3><p>站点的配置文件<code>\_config.yml</code>或者是主题的配置文件中添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  scriptFrom:</span> <span class="string">local</span></span><br><span class="line"><span class="attr">  pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line"><span class="attr">  pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line"><span class="attr">  pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line"><span class="attr">  tagMode:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  debug:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  model:</span></span><br><span class="line"><span class="attr">    use:</span> <span class="string">live2d-widget-model-hijiki</span> <span class="comment"># 模型：https://huaji8.top/post/live2d-plugin-2.0/</span></span><br><span class="line"><span class="attr">  display:</span></span><br><span class="line"><span class="attr">    position:</span> <span class="string">right</span></span><br><span class="line"><span class="attr">    width:</span> <span class="number">150</span></span><br><span class="line"><span class="attr">    height:</span> <span class="number">300</span></span><br><span class="line"><span class="attr">  mobile:</span></span><br><span class="line"><span class="attr">    show:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>注意这里的<code>use</code>参数是上面安装的那个模型全名。</p><h3 id="4-效果图">4.效果图</h3><p>可爱的小黑猫已上线（见封面）。如果不起效，一般需要重新生成<code>hexo clean &amp; hexo g</code>。</p><h2 id="补充">补充</h2><ul><li>添加动画一般都会比较耗内存，请自行选择是否添加。</li><li>魔改版：<a href="https://zhangshuqiao.org/2018-07/%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%AD%E6%B7%BB%E5%8A%A0Live2D%E7%9C%8B%E6%9D%BF%E5%A8%98/" target="_blank" rel="noopener">在网页中添加Live2D看板娘</a>，基于next主题。，github：<a href="https://github.com/stevenjoezhang/live2d-widget" target="_blank" rel="noopener">https://github.com/stevenjoezhang/live2d-widget</a></li><li>魔改2：<a href="https://www.fghrsh.net/post/123.html" target="_blank" rel="noopener">https://www.fghrsh.net/post/123.html</a></li></ul><h2 id="取消看板娘">取消看板娘</h2><h3 id="暂时不用">暂时不用</h3><p>将配置中的<code>enable</code>设置成false即可。</p><h3 id="卸载插件">卸载插件</h3><p>运行命令下载插件，删除配置信息：</p><ol><li>卸载模型：<code>npm install live2d-widget-model-模型名</code></li><li>卸载live2d插件：<code>npm uninstall hexo-helper-live2d</code></li><li>去掉站点<code>_config.yml</code>下的配置信息即可。</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;添加live2d看板娘，插件：hexo-helper-live2d，github仓库：&lt;a href=&quot;https://github.com/EYHN/hexo-helper-live2d&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/EYHN/hexo-helper-live2d&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;右下角：可爱小黑猫🐱&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573481131575.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加背景特效</title>
    <link href="https://www.yansheng.xyz/article/cf9c6a5e.html"/>
    <id>https://www.yansheng.xyz/article/cf9c6a5e.html</id>
    <published>2019-11-10T09:06:25.000Z</published>
    <updated>2019-11-11T13:18:35.953Z</updated>
    
    <content type="html"><![CDATA[<p>添加多种页面背景特效，参考：<a href="https://blog.csdn.net/qq_36759224/article/details/85420403" target="_blank" rel="noopener">Hexo 博客优化之博客美化系列（持续更新）</a>，需要注意的是：添加背景特效是很消耗浏览器内容的，建议只选择其中的一两个。</p><h2 id="特效目录">特效目录</h2><ul><li><a href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E5%87%BA%E7%8E%B0%E7%88%B1%E5%BF%83%E7%89%B9%E6%95%88">鼠标点击出现爱心特效</a></li><li><a href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%98%BE%E7%A4%BA%E6%96%87%E5%AD%97--%E9%9C%80%E8%A6%81%E5%BC%95%E5%85%A5jquery">鼠标点击显示文字–需要引入jQuery</a></li><li><a href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%83%9F%E8%8A%B1%E7%88%86%E7%82%B8%E6%95%88%E6%9E%9C">鼠标点击烟花爆炸效果</a></li><li><a href="#%E5%8A%A8%E6%80%81%E7%BA%BF%E6%9D%A1%E8%83%8C%E6%99%AF">动态线条背景</a></li><li><a href="#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%882%E5%A4%A7%E9%9B%AA%E8%8A%B1%E6%9C%89%E9%BD%BF%E8%BD%AE">雪花特效2.大雪花(有齿轮)</a></li><li><a href="#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%883%E5%B0%8F%E9%9B%AA%E8%8A%B1%E6%97%A0%E9%BD%BF%E8%BD%AE">雪花特效3.小雪花(无齿轮)</a></li><li><a href="#%E5%BD%A9%E5%B8%A61%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E8%87%AA%E5%8A%A8%E6%9B%BF%E6%8D%A2%E5%BD%A9%E5%B8%A6">彩带1.鼠标点击自动替换彩带</a></li><li><a href="#%E5%BD%A9%E5%B8%A62%E8%87%AA%E5%8A%A8%E9%A3%98%E5%8A%A8">彩带2.自动飘动</a></li><li><a href="#%E4%BB%A3%E7%A0%81%E9%9B%A8">代码雨</a></li></ul><a id="more"></a><h2 id="套路说明">套路说明</h2><p>为防止后面的代码遗漏了什么东西，在这里统一说明：添加背景动画的套路（适用于各种hexo主题）：</p><ol><li>新建生成动画的JS文件，或者引入现成的JS文件的CDN文件（我这里为了备份，基本是新建文件；比较有名的特效一般都会上传到GitHub，而且有引入CDN的相关介绍）。我的文件放再<code>H:\Hexo\themes\yilia\source\js\</code>目录下。</li><li>因为背景特效属于陪衬类，也就是说不是很重要的，所以一般都是在加载完页面之后再引入的。因此我们在页面的<code>&lt;/body&gt;</code>标签前引入即可。yilia主题是在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>中，其他主题类似。</li><li>在2中引入需要设置成配置时，即当配置文件中开启设置时，才会开启这个特效。因此最后一步是在主题的配置文件中开启配置。yilia主题是在<code>H:\Hexo\themes\yilia\_config.yml</code>中，其他主题类似。</li></ol><h2 id="鼠标点击出现爱心特效">鼠标点击出现爱心特效</h2><p>新建<code>H:\Hexo\themes\yilia\source\js\love.js</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window, document, undefined</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hearts = [];</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.requestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.mozRequestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.oRequestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.msRequestAnimationFrame ||</span><br><span class="line">            <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">                setTimeout(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">    init();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        css(</span><br><span class="line">            <span class="string">".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"</span></span><br><span class="line">        );</span><br><span class="line">        attachEvent();</span><br><span class="line">        gameloop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">gameloop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hearts.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (hearts[i].alpha &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="built_in">document</span>.body.removeChild(hearts[i].el);</span><br><span class="line">                hearts.splice(i, <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            hearts[i].y--;</span><br><span class="line">            hearts[i].scale += <span class="number">0.004</span>;</span><br><span class="line">            hearts[i].alpha -= <span class="number">0.013</span>;</span><br><span class="line">            hearts[i].el.style.cssText = <span class="string">"left:"</span> + hearts[i].x + <span class="string">"px;top:"</span> + hearts[i].y + <span class="string">"px;opacity:"</span> + hearts[i]</span><br><span class="line">                .alpha + <span class="string">";transform:scale("</span> + hearts[i].scale + <span class="string">","</span> + hearts[i].scale +</span><br><span class="line">                <span class="string">") rotate(45deg);background:"</span> + hearts[i].color;</span><br><span class="line">        &#125;</span><br><span class="line">        requestAnimationFrame(gameloop);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">attachEvent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> old = <span class="keyword">typeof</span> <span class="built_in">window</span>.onclick === <span class="string">"function"</span> &amp;&amp; <span class="built_in">window</span>.onclick;</span><br><span class="line">        <span class="built_in">window</span>.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">            old &amp;&amp; old();</span><br><span class="line">            createHeart(event);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">createHeart</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> d = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">        d.className = <span class="string">"heart"</span>;</span><br><span class="line">        hearts.push(&#123;</span><br><span class="line">            el: d,</span><br><span class="line">            x: event.clientX - <span class="number">5</span>,</span><br><span class="line">            y: event.clientY - <span class="number">5</span>,</span><br><span class="line">            scale: <span class="number">1</span>,</span><br><span class="line">            alpha: <span class="number">1</span>,</span><br><span class="line">            color: randomColor()</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(d);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">css</span>(<span class="params">css</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">"style"</span>);</span><br><span class="line">        style.type = <span class="string">"text/css"</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            style.appendChild(<span class="built_in">document</span>.createTextNode(css));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">            style.styleSheet.cssText = css;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(style);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">randomColor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"rgb("</span> + (~~(<span class="built_in">Math</span>.random() * <span class="number">255</span>)) + <span class="string">","</span> + (~~(<span class="built_in">Math</span>.random() * <span class="number">255</span>)) + <span class="string">","</span> + (~~(<span class="built_in">Math</span>.random() * <span class="number">255</span>)) +</span><br><span class="line">            <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><p>添加到<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的<code>&lt;/body&gt;</code>前</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《页面点击小红心 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.love</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/love.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 页面点击小红心》 --&gt;</span></span><br></pre></td></tr></table></figure><p>开启配置<code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 页面点击小红心</span></span><br><span class="line"><span class="attr">love:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465397103.png" alt="file"></p><h2 id="鼠标点击显示文字-需要引入jquery">鼠标点击显示文字–需要引入jQuery</h2><p><code>H:\Hexo\themes\yilia\source\js\click_show_text.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a_idx = <span class="number">0</span>;</span><br><span class="line">jQuery(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">    $(<span class="string">"body"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Array</span></span><br><span class="line">        (<span class="string">"富强"</span>, <span class="string">"民主"</span>, <span class="string">"文明"</span>, <span class="string">"和谐"</span>, <span class="string">"自由"</span>, <span class="string">"平等"</span>, <span class="string">"公正"</span>, <span class="string">"法治"</span>, <span class="string">"爱国"</span>, <span class="string">"敬业"</span>, <span class="string">"诚信"</span>, <span class="string">"友善"</span>);</span><br><span class="line">        <span class="keyword">var</span> $i = $(<span class="string">"&lt;span/&gt;"</span>).text(a[a_idx]);</span><br><span class="line">        a_idx = (a_idx + <span class="number">1</span>) % a.length;</span><br><span class="line">        <span class="keyword">var</span> x = e.pageX,</span><br><span class="line">        y = e.pageY;</span><br><span class="line">        $i.css(&#123;</span><br><span class="line">            <span class="string">"z-index"</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="string">"top"</span>: y - <span class="number">20</span>,</span><br><span class="line">            <span class="string">"left"</span>: x,</span><br><span class="line">            <span class="string">"position"</span>: <span class="string">"absolute"</span>,</span><br><span class="line">            <span class="string">"font-weight"</span>: <span class="string">"bold"</span>,</span><br><span class="line">            <span class="string">"color"</span>: <span class="string">"#FF0000"</span></span><br><span class="line">        &#125;);</span><br><span class="line">        $(<span class="string">"body"</span>).append($i);</span><br><span class="line">        $i.animate(&#123;</span><br><span class="line">            <span class="string">"top"</span>: y - <span class="number">180</span>,</span><br><span class="line">            <span class="string">"opacity"</span>: <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="number">3000</span>,</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $i.remove();</span><br><span class="line">&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    setTimeout(<span class="string">'delay()'</span>, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delay</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">".buryit"</span>).removeAttr(<span class="string">"onclick"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--单击显示文字--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.click_show_text</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/click_show_text.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 鼠标点击显示文字</span></span><br><span class="line"><span class="attr">click_show_text:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476469928.png" alt="file"></p><h2 id="鼠标点击烟花爆炸效果">鼠标点击烟花爆炸效果</h2><p><code>H:\Hexo\themes\yilia\source\js\fireworks.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    pointerX = (e.clientX || e.touches[<span class="number">0</span>].clientX) - canvasEl.getBoundingClientRect().left, pointerY = e.clientY || e.touches[</span><br><span class="line">        <span class="number">0</span>].clientY - canvasEl.getBoundingClientRect().top</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> t = anime.random(<span class="number">0</span>, <span class="number">360</span>) * <span class="built_in">Math</span>.PI / <span class="number">180</span>,</span><br><span class="line">        a = anime.random(<span class="number">50</span>, <span class="number">180</span>),</span><br><span class="line">        n = [<span class="number">-1</span>, <span class="number">1</span>][anime.random(<span class="number">0</span>, <span class="number">1</span>)] * a;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        x: e.x + n * <span class="built_in">Math</span>.cos(t),</span><br><span class="line">        y: e.y + n * <span class="built_in">Math</span>.sin(t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = colors[anime.random(<span class="number">0</span>, colors.length - <span class="number">1</span>)], a.radius = anime.random(<span class="number">16</span>, <span class="number">32</span>), a.endPos =</span><br><span class="line">        setParticuleDirection(a), a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.fillStyle = a.color, ctx.fill()</span><br><span class="line">        &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = <span class="string">"#F00"</span>, a.radius = <span class="number">0.1</span>, a.alpha = <span class="number">0.5</span>, a.lineWidth = <span class="number">6</span>, a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        ctx.globalAlpha = a.alpha, ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.lineWidth =</span><br><span class="line">            a.lineWidth, ctx.strokeStyle = a.color, ctx.stroke(), ctx.globalAlpha = <span class="number">1</span></span><br><span class="line">    &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.animatables.length; t++) &#123;</span><br><span class="line">        e.animatables[t].target.draw()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = createCircle(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) &#123;</span><br><span class="line">        n.push(createParticule(e, t))</span><br><span class="line">    &#125;</span><br><span class="line">    anime.timeline().add(&#123;</span><br><span class="line">        targets: n,</span><br><span class="line">        x: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.x</span><br><span class="line">        &#125;,</span><br><span class="line">        y: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.y</span><br><span class="line">        &#125;,</span><br><span class="line">        radius: <span class="number">0.1</span>,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule</span><br><span class="line">    &#125;).add(&#123;</span><br><span class="line">        targets: a,</span><br><span class="line">        radius: anime.random(<span class="number">80</span>, <span class="number">160</span>),</span><br><span class="line">        lineWidth: <span class="number">0</span>,</span><br><span class="line">        alpha: &#123;</span><br><span class="line">            value: <span class="number">0</span>,</span><br><span class="line">            easing: <span class="string">"linear"</span>,</span><br><span class="line">            duration: anime.random(<span class="number">600</span>, <span class="number">800</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule,</span><br><span class="line">        offset: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> n = <span class="keyword">this</span>,</span><br><span class="line">            i = <span class="built_in">arguments</span>;</span><br><span class="line">        clearTimeout(a), a = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            e.apply(n, i)</span><br><span class="line">        &#125;, t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> canvasEl = <span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);</span><br><span class="line"><span class="keyword">if</span> (canvasEl) &#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = canvasEl.getContext(<span class="string">"2d"</span>),</span><br><span class="line">        numberOfParticules = <span class="number">30</span>,</span><br><span class="line">        pointerX = <span class="number">0</span>,</span><br><span class="line">        pointerY = <span class="number">0</span>,</span><br><span class="line">        tap = <span class="string">"mousedown"</span>,</span><br><span class="line">        colors = [<span class="string">"#FF1461"</span>, <span class="string">"#18FF92"</span>, <span class="string">"#5A87FF"</span>, <span class="string">"#FBF38C"</span>],</span><br><span class="line">        setCanvasSize = debounce(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            canvasEl.width = <span class="number">2</span> * <span class="built_in">window</span>.innerWidth, canvasEl.height = <span class="number">2</span> * <span class="built_in">window</span>.innerHeight, canvasEl.style.width =</span><br><span class="line">                <span class="built_in">window</span>.innerWidth + <span class="string">"px"</span>, canvasEl.style.height = <span class="built_in">window</span>.innerHeight + <span class="string">"px"</span>, canvasEl.getContext(</span><br><span class="line">                    <span class="string">"2d"</span>).scale(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        &#125;, <span class="number">500</span>),</span><br><span class="line">        render = anime(&#123;</span><br><span class="line">            duration: <span class="number">1</span> / <span class="number">0</span>,</span><br><span class="line">            update: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvasEl.width, canvasEl.height)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(tap, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="string">"sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"toggle-sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"A"</span> !== e.target.nodeName &amp;&amp; <span class="string">"IMG"</span> !==</span><br><span class="line">            e.target.nodeName &amp;&amp; (render.play(), updateCoords(e), animateParticules(pointerX, pointerY))</span><br><span class="line">    &#125;, !<span class="number">1</span>), setCanvasSize(), <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, setCanvasSize, !<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    pointerX = (e.clientX || e.touches[<span class="number">0</span>].clientX) - canvasEl.getBoundingClientRect().left, pointerY = e.clientY || e.touches[</span><br><span class="line">        <span class="number">0</span>].clientY - canvasEl.getBoundingClientRect().top</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> t = anime.random(<span class="number">0</span>, <span class="number">360</span>) * <span class="built_in">Math</span>.PI / <span class="number">180</span>,</span><br><span class="line">        a = anime.random(<span class="number">50</span>, <span class="number">180</span>),</span><br><span class="line">        n = [<span class="number">-1</span>, <span class="number">1</span>][anime.random(<span class="number">0</span>, <span class="number">1</span>)] * a;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        x: e.x + n * <span class="built_in">Math</span>.cos(t),</span><br><span class="line">        y: e.y + n * <span class="built_in">Math</span>.sin(t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = colors[anime.random(<span class="number">0</span>, colors.length - <span class="number">1</span>)], a.radius = anime.random(<span class="number">16</span>, <span class="number">32</span>), a.endPos =</span><br><span class="line">        setParticuleDirection(a), a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.fillStyle = a.color, ctx.fill()</span><br><span class="line">        &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = <span class="string">"#F00"</span>, a.radius = <span class="number">0.1</span>, a.alpha = <span class="number">0.5</span>, a.lineWidth = <span class="number">6</span>, a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        ctx.globalAlpha = a.alpha, ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.lineWidth =</span><br><span class="line">            a.lineWidth, ctx.strokeStyle = a.color, ctx.stroke(), ctx.globalAlpha = <span class="number">1</span></span><br><span class="line">    &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.animatables.length; t++) &#123;</span><br><span class="line">        e.animatables[t].target.draw()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = createCircle(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) &#123;</span><br><span class="line">        n.push(createParticule(e, t))</span><br><span class="line">    &#125;</span><br><span class="line">    anime.timeline().add(&#123;</span><br><span class="line">        targets: n,</span><br><span class="line">        x: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.x</span><br><span class="line">        &#125;,</span><br><span class="line">        y: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.y</span><br><span class="line">        &#125;,</span><br><span class="line">        radius: <span class="number">0.1</span>,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule</span><br><span class="line">    &#125;).add(&#123;</span><br><span class="line">        targets: a,</span><br><span class="line">        radius: anime.random(<span class="number">80</span>, <span class="number">160</span>),</span><br><span class="line">        lineWidth: <span class="number">0</span>,</span><br><span class="line">        alpha: &#123;</span><br><span class="line">            value: <span class="number">0</span>,</span><br><span class="line">            easing: <span class="string">"linear"</span>,</span><br><span class="line">            duration: anime.random(<span class="number">600</span>, <span class="number">800</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule,</span><br><span class="line">        offset: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> n = <span class="keyword">this</span>,</span><br><span class="line">            i = <span class="built_in">arguments</span>;</span><br><span class="line">        clearTimeout(a), a = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            e.apply(n, i)</span><br><span class="line">        &#125;, t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> canvasEl = <span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);</span><br><span class="line"><span class="keyword">if</span> (canvasEl) &#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = canvasEl.getContext(<span class="string">"2d"</span>),</span><br><span class="line">        numberOfParticules = <span class="number">30</span>,</span><br><span class="line">        pointerX = <span class="number">0</span>,</span><br><span class="line">        pointerY = <span class="number">0</span>,</span><br><span class="line">        tap = <span class="string">"mousedown"</span>,</span><br><span class="line">        colors = [<span class="string">"#FF1461"</span>, <span class="string">"#18FF92"</span>, <span class="string">"#5A87FF"</span>, <span class="string">"#FBF38C"</span>],</span><br><span class="line">        setCanvasSize = debounce(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            canvasEl.width = <span class="number">2</span> * <span class="built_in">window</span>.innerWidth, canvasEl.height = <span class="number">2</span> * <span class="built_in">window</span>.innerHeight, canvasEl.style.width =</span><br><span class="line">                <span class="built_in">window</span>.innerWidth + <span class="string">"px"</span>, canvasEl.style.height = <span class="built_in">window</span>.innerHeight + <span class="string">"px"</span>, canvasEl.getContext(</span><br><span class="line">                    <span class="string">"2d"</span>).scale(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        &#125;, <span class="number">500</span>),</span><br><span class="line">        render = anime(&#123;</span><br><span class="line">            duration: <span class="number">1</span> / <span class="number">0</span>,</span><br><span class="line">            update: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvasEl.width, canvasEl.height)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(tap, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="string">"sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"toggle-sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"A"</span> !== e.target.nodeName &amp;&amp; <span class="string">"IMG"</span> !==</span><br><span class="line">            e.target.nodeName &amp;&amp; (render.play(), updateCoords(e), animateParticules(pointerX, pointerY))</span><br><span class="line">    &#125;, !<span class="number">1</span>), setCanvasSize(), <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, setCanvasSize, !<span class="number">1</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--鼠标点击烟花爆炸效果，需要引入jQuery--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.fireworks</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">"fireworks"</span> <span class="attr">style</span>=<span class="string">"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/animejs/2.2.0/anime.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/fireworks.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 鼠标点击烟花爆炸效果</span></span><br><span class="line"><span class="attr">fireworks:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465524759.png" alt="file"></p><h2 id="动态线条背景">动态线条背景</h2><p><a href="https://github.com/hustcc/canvas-nest.js" target="_blank" rel="noopener">https://github.com/hustcc/canvas-nest.js</a></p><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><p>直接方法</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--动态线条背景--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span></span></span><br><span class="line"><span class="tag"><span class="attr">color</span>=<span class="string">"220,220,220"</span> <span class="attr">opacity</span>=<span class="string">'0.7'</span> <span class="attr">zIndex</span>=<span class="string">"-2"</span> <span class="attr">count</span>=<span class="string">"200"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>配置式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--动态线条背景--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.canvas_nest.enable</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">color</span>=<span class="string">"&lt;%=theme.canvas_nest.color %&gt;"</span> <span class="attr">opacity</span>=<span class="string">"&lt;%=theme.canvas_nest.opacity %&gt;"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">zIndex</span>=<span class="string">"&lt;%=theme.canvas_nest.zIndex %&gt;"</span> <span class="attr">count</span>=<span class="string">"&lt;%=theme.canvas_nest.count %&gt;"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://github.com/hustcc/canvas-nest.js</span></span><br><span class="line"><span class="comment"># 配置详见： https://github.com/hustcc/canvas-nest.js#configuration</span></span><br><span class="line"><span class="comment"># 动态线条效果，会向鼠标集中</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  color:</span> <span class="string">'255, 235, 59'</span>        <span class="comment"># color of lines, default: '0,0,0'; RGB values: (R,G,B).(note: use ',' to separate.)</span></span><br><span class="line"><span class="attr">  pointColor:</span> <span class="string">'156,39,176'</span>     <span class="comment"># color of points, default: '0,0,0'; RGB values: (R,G,B).(note: use ',' to separate.)</span></span><br><span class="line"><span class="attr">  opacity:</span> <span class="string">'0.8'</span>               <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line"><span class="attr">  count:</span> <span class="string">'99'</span>                  <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line"><span class="attr">  zIndex:</span> <span class="string">'-1'</span>                 <span class="comment"># z-index property of the background, default: -1.</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465565165.png" alt="file"></p><h2 id="雪花特效2-大雪花-有齿轮">雪花特效2.大雪花(有齿轮)</h2><p><code>H:\Hexo\themes\yilia\source\js\snow2.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*样式一*/</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">    $.fn.snow = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> $flake = $(<span class="string">'&lt;div id="snowbox" /&gt;'</span>).css(&#123;</span><br><span class="line">                <span class="string">'position'</span>: <span class="string">'absolute'</span>,</span><br><span class="line">                <span class="string">'z-index'</span>: <span class="string">'9999'</span>,</span><br><span class="line">                <span class="string">'top'</span>: <span class="string">'-50px'</span></span><br><span class="line">            &#125;).html(<span class="string">'❄'</span>),</span><br><span class="line">            documentHeight = $(<span class="built_in">document</span>).height(),</span><br><span class="line">            documentWidth = $(<span class="built_in">document</span>).width(),</span><br><span class="line">            defaults = &#123;</span><br><span class="line">                minSize: <span class="number">10</span>,</span><br><span class="line">                maxSize: <span class="number">20</span>,</span><br><span class="line">                newOn: <span class="number">1000</span>,</span><br><span class="line">                flakeColor: <span class="string">"#AFDAEF"</span> <span class="comment">/* 此处可以定义雪花颜色，若要白色可以改为#FFFFFF */</span></span><br><span class="line">            &#125;,</span><br><span class="line">            options = $.extend(&#123;&#125;, defaults, options);</span><br><span class="line">        <span class="keyword">var</span> interval = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> startPositionLeft = <span class="built_in">Math</span>.random() * documentWidth - <span class="number">100</span>,</span><br><span class="line">                startOpacity = <span class="number">0.5</span> + <span class="built_in">Math</span>.random(),</span><br><span class="line">                sizeFlake = options.minSize + <span class="built_in">Math</span>.random() * options.maxSize,</span><br><span class="line">                endPositionTop = documentHeight - <span class="number">200</span>,</span><br><span class="line">                endPositionLeft = startPositionLeft - <span class="number">500</span> + <span class="built_in">Math</span>.random() * <span class="number">500</span>,</span><br><span class="line">                durationFall = documentHeight * <span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">5000</span>;</span><br><span class="line">            $flake.clone().appendTo(<span class="string">'body'</span>).css(&#123;</span><br><span class="line">                left: startPositionLeft,</span><br><span class="line">                opacity: startOpacity,</span><br><span class="line">                <span class="string">'font-size'</span>: sizeFlake,</span><br><span class="line">                color: options.flakeColor</span><br><span class="line">            &#125;).animate(&#123;</span><br><span class="line">                top: endPositionTop,</span><br><span class="line">                left: endPositionLeft,</span><br><span class="line">                opacity: <span class="number">0.2</span></span><br><span class="line">            &#125;, durationFall, <span class="string">'linear'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                $(<span class="keyword">this</span>).remove()</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;, options.newOn);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)(jQuery);</span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $.fn.snow(&#123;</span><br><span class="line">        minSize: <span class="number">5</span>,</span><br><span class="line">        <span class="comment">/* 定义雪花最小尺寸 */</span></span><br><span class="line">        maxSize: <span class="number">50</span>,</span><br><span class="line">        <span class="comment">/* 定义雪花最大尺寸 */</span></span><br><span class="line">        newOn: <span class="number">300</span> <span class="comment">/* 定义密集程度，数字越小越密集 */</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 雪花特效2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.snow2</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/snow2.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 雪花特效2</span></span><br><span class="line"><span class="attr">snow2:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476600371.png" alt="file"></p><h2 id="雪花特效3-小雪花-无齿轮">雪花特效3.小雪花(无齿轮)</h2><p><code>H:\Hexo\themes\yilia\source\js\snow3.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*样式二*/</span></span><br><span class="line"><span class="comment">/* 控制下雪 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">snowFall</span>(<span class="params">snow</span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* 可配置属性 */</span></span><br><span class="line">    snow = snow || &#123;&#125;;</span><br><span class="line">    <span class="keyword">this</span>.maxFlake = snow.maxFlake || <span class="number">200</span>; <span class="comment">/* 最多片数 */</span></span><br><span class="line">    <span class="keyword">this</span>.flakeSize = snow.flakeSize || <span class="number">10</span>; <span class="comment">/* 雪花形状 */</span></span><br><span class="line">    <span class="keyword">this</span>.fallSpeed = snow.fallSpeed || <span class="number">1</span>; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 兼容写法 */</span></span><br><span class="line">requestAnimationFrame = <span class="built_in">window</span>.requestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.mozRequestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.msRequestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.oRequestAnimationFrame ||</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">        setTimeout(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">cancelAnimationFrame = <span class="built_in">window</span>.cancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.mozCancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.webkitCancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.msCancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.oCancelAnimationFrame;</span><br><span class="line"><span class="comment">/* 开始下雪 */</span></span><br><span class="line">snowFall.prototype.start = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* 创建画布 */</span></span><br><span class="line">    snowCanvas.apply(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">/* 创建雪花形状 */</span></span><br><span class="line">    createFlakes.apply(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">/* 画雪 */</span></span><br><span class="line">    drawSnow.apply(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 创建画布 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">snowCanvas</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* 添加Dom结点 */</span></span><br><span class="line">    <span class="keyword">var</span> snowcanvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</span><br><span class="line">    snowcanvas.id = <span class="string">"snowfall"</span>;</span><br><span class="line">    snowcanvas.width = <span class="built_in">window</span>.innerWidth;</span><br><span class="line">    snowcanvas.height = <span class="built_in">document</span>.body.clientHeight;</span><br><span class="line">    snowcanvas.setAttribute(<span class="string">"style"</span>, <span class="string">"position:absolute; top: 0; left: 0; z-index: 1; pointer-events: none;"</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementsByTagName(<span class="string">"body"</span>)[<span class="number">0</span>].appendChild(snowcanvas);</span><br><span class="line">    <span class="keyword">this</span>.canvas = snowcanvas;</span><br><span class="line">    <span class="keyword">this</span>.ctx = snowcanvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    <span class="comment">/* 窗口大小改变的处理 */</span></span><br><span class="line">    <span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        snowcanvas.width = <span class="built_in">window</span>.innerWidth;</span><br><span class="line">        <span class="comment">/* snowcanvas.height = window.innerHeight */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 雪运动对象 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flakeMove</span>(<span class="params">canvasWidth, canvasHeight, flakeSize, fallSpeed</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * canvasWidth); <span class="comment">/* x坐标 */</span></span><br><span class="line">    <span class="keyword">this</span>.y = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * canvasHeight); <span class="comment">/* y坐标 */</span></span><br><span class="line">    <span class="keyword">this</span>.size = <span class="built_in">Math</span>.random() * flakeSize + <span class="number">2</span>; <span class="comment">/* 形状 */</span></span><br><span class="line">    <span class="keyword">this</span>.maxSize = flakeSize; <span class="comment">/* 最大形状 */</span></span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="built_in">Math</span>.random() * <span class="number">1</span> + fallSpeed; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.fallSpeed = fallSpeed; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.velY = <span class="keyword">this</span>.speed; <span class="comment">/* Y方向速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.velX = <span class="number">0</span>; <span class="comment">/* X方向速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.stepSize = <span class="built_in">Math</span>.random() / <span class="number">30</span>; <span class="comment">/* 步长 */</span></span><br><span class="line">    <span class="keyword">this</span>.step = <span class="number">0</span> <span class="comment">/* 步数 */</span></span><br><span class="line">&#125;</span><br><span class="line">flakeMove.prototype.update = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="keyword">this</span>.x,</span><br><span class="line">        y = <span class="keyword">this</span>.y;</span><br><span class="line">    <span class="comment">/* 左右摆动(余弦) */</span></span><br><span class="line">    <span class="keyword">this</span>.velX *= <span class="number">0.98</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.velY &lt;= <span class="keyword">this</span>.speed) &#123;</span><br><span class="line">        <span class="keyword">this</span>.velY = <span class="keyword">this</span>.speed</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.velX += <span class="built_in">Math</span>.cos(<span class="keyword">this</span>.step += <span class="number">.05</span>) * <span class="keyword">this</span>.stepSize;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.y += <span class="keyword">this</span>.velY;</span><br><span class="line">    <span class="keyword">this</span>.x += <span class="keyword">this</span>.velX;</span><br><span class="line">    <span class="comment">/* 飞出边界的处理 */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.x &gt;= canvas.width || <span class="keyword">this</span>.x &lt;= <span class="number">0</span> || <span class="keyword">this</span>.y &gt;= canvas.height || <span class="keyword">this</span>.y &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.reset(canvas.width, canvas.height)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* 飞出边界-放置最顶端继续坠落 */</span></span><br><span class="line">flakeMove.prototype.reset = <span class="function"><span class="keyword">function</span> (<span class="params">width, height</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * width);</span><br><span class="line">    <span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.size = <span class="built_in">Math</span>.random() * <span class="keyword">this</span>.maxSize + <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="built_in">Math</span>.random() * <span class="number">1</span> + <span class="keyword">this</span>.fallSpeed;</span><br><span class="line">    <span class="keyword">this</span>.velY = <span class="keyword">this</span>.speed;</span><br><span class="line">    <span class="keyword">this</span>.velX = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 渲染雪花-随机形状（此处可修改雪花颜色！！！）</span></span><br><span class="line">flakeMove.prototype.render = <span class="function"><span class="keyword">function</span> (<span class="params">ctx</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> snowFlake = ctx.createRadialGradient(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="number">0</span>, <span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.size);</span><br><span class="line">    snowFlake.addColorStop(<span class="number">0</span>, <span class="string">"rgba(255, 255, 255, 0.9)"</span>); <span class="comment">/* 此处是雪花颜色，默认是白色 */</span></span><br><span class="line">    snowFlake.addColorStop(<span class="number">.5</span>, <span class="string">"rgba(255, 255, 255, 0.5)"</span>); <span class="comment">/* 若要改为其他颜色，请自行查 */</span></span><br><span class="line">    snowFlake.addColorStop(<span class="number">1</span>, <span class="string">"rgba(255, 255, 255, 0)"</span>); <span class="comment">/* 找16进制的RGB 颜色代码。 */</span></span><br><span class="line">    ctx.save();</span><br><span class="line">    ctx.fillStyle = snowFlake;</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.arc(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.size, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">    ctx.fill();</span><br><span class="line">    ctx.restore();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* 创建雪花-定义形状 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFlakes</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> maxFlake = <span class="keyword">this</span>.maxFlake,</span><br><span class="line">        flakes = <span class="keyword">this</span>.flakes = [],</span><br><span class="line">        canvas = <span class="keyword">this</span>.canvas;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; maxFlake; i++) &#123;</span><br><span class="line">        flakes.push(<span class="keyword">new</span> flakeMove(canvas.width, canvas.height, <span class="keyword">this</span>.flakeSize, <span class="keyword">this</span>.fallSpeed))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 画雪 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawSnow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> maxFlake = <span class="keyword">this</span>.maxFlake,</span><br><span class="line">        flakes = <span class="keyword">this</span>.flakes;</span><br><span class="line">    ctx = <span class="keyword">this</span>.ctx, canvas = <span class="keyword">this</span>.canvas, that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">/* 清空雪花 */</span></span><br><span class="line">    ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> e = <span class="number">0</span>; e &lt; maxFlake; e++) &#123;</span><br><span class="line">        flakes[e].update();</span><br><span class="line">        flakes[e].render(ctx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*  一帧一帧的画 */</span></span><br><span class="line">    <span class="keyword">this</span>.loop = requestAnimationFrame(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        drawSnow.apply(that);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 调用及控制方法 */</span></span><br><span class="line"><span class="keyword">var</span> snow = <span class="keyword">new</span> snowFall(&#123;</span><br><span class="line">    maxFlake: <span class="number">60</span></span><br><span class="line">&#125;);</span><br><span class="line">snow.start();</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 雪花特效3 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.snow3</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/snow3.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 雪花特效3</span></span><br><span class="line"><span class="attr">snow3:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476685309.png" alt="file"></p><h2 id="彩带1-鼠标点击自动替换彩带">彩带1.鼠标点击自动替换彩带</h2><p><code>H:\Hexo\themes\yilia\source\js\ribbon.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2016 hustcc</span></span><br><span class="line"><span class="comment"> * License: MIT</span></span><br><span class="line"><span class="comment"> * Version: v1.0.1</span></span><br><span class="line"><span class="comment"> * GitHub: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="comment">/*jshint -W030 */</span></span><br><span class="line">! <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">attr</span>(<span class="params">node, attr, default_value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Number</span>(node.getAttribute(attr)) || default_value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get user config</span></span><br><span class="line">  <span class="keyword">var</span> scripts = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'script'</span>),</span><br><span class="line">    script = scripts[scripts.length - <span class="number">1</span>]; <span class="comment">// 当前加载的script</span></span><br><span class="line">  config = &#123;</span><br><span class="line">    z: attr(script, <span class="string">"zIndex"</span>, <span class="number">-1</span>), <span class="comment">// z-index</span></span><br><span class="line">    a: attr(script, <span class="string">"alpha"</span>, <span class="number">0.6</span>), <span class="comment">// alpha</span></span><br><span class="line">    s: attr(script, <span class="string">"size"</span>, <span class="number">90</span>), <span class="comment">// size</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</span><br><span class="line">    g2d = canvas.getContext(<span class="string">'2d'</span>),</span><br><span class="line">    pr = <span class="built_in">window</span>.devicePixelRatio || <span class="number">1</span>,</span><br><span class="line">    width = <span class="built_in">window</span>.innerWidth,</span><br><span class="line">    height = <span class="built_in">window</span>.innerHeight,</span><br><span class="line">    f = config.s,</span><br><span class="line">    q, t,</span><br><span class="line">    m = <span class="built_in">Math</span>,</span><br><span class="line">    r = <span class="number">0</span>,</span><br><span class="line">    pi = m.PI*<span class="number">2</span>,</span><br><span class="line">    cos = m.cos,</span><br><span class="line">    random = m.random;</span><br><span class="line">  canvas.width = width * pr;</span><br><span class="line">  canvas.height = height * pr;</span><br><span class="line">  g2d.scale(pr, pr);</span><br><span class="line">  g2d.globalAlpha = config.a;</span><br><span class="line">  canvas.style.cssText = <span class="string">'opacity: '</span> + config.a + <span class="string">';position:fixed;top:0;left:0;z-index: '</span> + config.z + <span class="string">';width:100%;height:100%;pointer-events:none;'</span>;</span><br><span class="line">  <span class="comment">// create canvas</span></span><br><span class="line">  <span class="built_in">document</span>.getElementsByTagName(<span class="string">'body'</span>)[<span class="number">0</span>].appendChild(canvas);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">redraw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    g2d.clearRect(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    q = [&#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: height * <span class="number">0.7</span> + f&#125;, &#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: height * <span class="number">0.7</span> - f&#125;];</span><br><span class="line">    <span class="keyword">while</span>(q[<span class="number">1</span>].x &lt; width + f) draw(q[<span class="number">0</span>], q[<span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">i, j</span>) </span>&#123;</span><br><span class="line">    g2d.beginPath();</span><br><span class="line">    g2d.moveTo(i.x, i.y);</span><br><span class="line">    g2d.lineTo(j.x, j.y);</span><br><span class="line">    <span class="keyword">var</span> k = j.x + (random()*<span class="number">2</span><span class="number">-0.25</span>)*f, n = line(j.y);</span><br><span class="line">    g2d.lineTo(k, n);</span><br><span class="line">    g2d.closePath();</span><br><span class="line">    r -= pi / <span class="number">-50</span>;</span><br><span class="line">    g2d.fillStyle = <span class="string">'#'</span>+(cos(r)*<span class="number">127</span>+<span class="number">128</span>&lt;&lt;<span class="number">16</span> | cos(r+pi/<span class="number">3</span>)*<span class="number">127</span>+<span class="number">128</span>&lt;&lt;<span class="number">8</span> | cos(r+pi/<span class="number">3</span>*<span class="number">2</span>)*<span class="number">127</span>+<span class="number">128</span>).toString(<span class="number">16</span>);</span><br><span class="line">    g2d.fill();</span><br><span class="line">    q[<span class="number">0</span>] = q[<span class="number">1</span>];</span><br><span class="line">    q[<span class="number">1</span>] = &#123;<span class="attr">x</span>: k, <span class="attr">y</span>: n&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">line</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line">    t = p + (random() * <span class="number">2</span> - <span class="number">1.1</span>) * f;</span><br><span class="line">    <span class="keyword">return</span> (t &gt; height || t &lt; <span class="number">0</span>) ? line(p) : t;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.onclick = redraw;</span><br><span class="line">  <span class="built_in">document</span>.ontouchstart = redraw;</span><br><span class="line">  redraw();</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--彩带1.点击自动替换彩带--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.ribbon</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="https://g.joyinshare.com/hc/ribbon.min.js" type="text/javascript"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/ribbon.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="comment"># 彩带1.点击自动替换彩带</span></span><br><span class="line"><span class="attr">ribbon:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478268322.png" alt="file"></p><h2 id="彩带2-自动飘动">彩带2.自动飘动</h2><p><code>H:\Hexo\themes\yilia\source\js\ribbon_flow.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">name, factory</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">window</span> === <span class="string">"object"</span>) &#123;</span><br><span class="line">        <span class="built_in">window</span>[name] = factory()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="string">"Ribbons"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _w = <span class="built_in">window</span>,</span><br><span class="line">        _b = <span class="built_in">document</span>.body,</span><br><span class="line">        _d = <span class="built_in">document</span>.documentElement;</span><br><span class="line">    <span class="keyword">var</span> random = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(<span class="built_in">arguments</span>[<span class="number">0</span>])) &#123;</span><br><span class="line">                <span class="keyword">var</span> index = <span class="built_in">Math</span>.round(random(<span class="number">0</span>, <span class="built_in">arguments</span>[<span class="number">0</span>].length - <span class="number">1</span>));</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">arguments</span>[<span class="number">0</span>][index]</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> random(<span class="number">0</span>, <span class="built_in">arguments</span>[<span class="number">0</span>])</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">Math</span>.random() * (<span class="built_in">arguments</span>[<span class="number">1</span>] - <span class="built_in">arguments</span>[<span class="number">0</span>]) + <span class="built_in">arguments</span>[<span class="number">0</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> screenInfo = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> width = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.innerWidth || _d.clientWidth || _b.clientWidth || <span class="number">0</span>),</span><br><span class="line">            height = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.innerHeight || _d.clientHeight || _b.clientHeight || <span class="number">0</span>),</span><br><span class="line">            scrollx = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.pageXOffset || _d.scrollLeft || _b.scrollLeft || <span class="number">0</span>) - (_d.clientLeft || <span class="number">0</span>),</span><br><span class="line">            scrolly = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.pageYOffset || _d.scrollTop || _b.scrollTop || <span class="number">0</span>) - (_d.clientTop || <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            width: width,</span><br><span class="line">            height: height,</span><br><span class="line">            ratio: width / height,</span><br><span class="line">            centerx: width / <span class="number">2</span>,</span><br><span class="line">            centery: height / <span class="number">2</span>,</span><br><span class="line">            scrollx: scrollx,</span><br><span class="line">            scrolly: scrolly</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> mouseInfo = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> screen = screenInfo(e),</span><br><span class="line">            mousex = e ? <span class="built_in">Math</span>.max(<span class="number">0</span>, e.pageX || e.clientX || <span class="number">0</span>) : <span class="number">0</span>,</span><br><span class="line">            mousey = e ? <span class="built_in">Math</span>.max(<span class="number">0</span>, e.pageY || e.clientY || <span class="number">0</span>) : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            mousex: mousex,</span><br><span class="line">            mousey: mousey,</span><br><span class="line">            centerx: mousex - screen.width / <span class="number">2</span>,</span><br><span class="line">            centery: mousey - screen.height / <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> Point = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.set(x, y)</span><br><span class="line">    &#125;;</span><br><span class="line">    Point.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: Point,</span><br><span class="line">        <span class="keyword">set</span>: function (x, y) &#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y = y || <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        copy: <span class="function"><span class="keyword">function</span> (<span class="params">point</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = point.x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y = point.y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        multiply: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x *= x || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">this</span>.y *= y || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        divide: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x /= x || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">this</span>.y /= y || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        add: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x += x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y += y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        subtract: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x -= x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y -= y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        clampX: <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = <span class="built_in">Math</span>.max(min, <span class="built_in">Math</span>.min(<span class="keyword">this</span>.x, max));</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        clampY: <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.y = <span class="built_in">Math</span>.max(min, <span class="built_in">Math</span>.min(<span class="keyword">this</span>.y, max));</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        flipX: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x *= <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        flipY: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.y *= <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> Factory = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._canvas = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>._context = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>._sto = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>._width = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>._height = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>._scroll = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>._ribbons = [];</span><br><span class="line">        <span class="keyword">this</span>._options = &#123;</span><br><span class="line">            colorSaturation: <span class="string">"80%"</span>,</span><br><span class="line">            colorBrightness: <span class="string">"60%"</span>,</span><br><span class="line">            colorAlpha: <span class="number">0.65</span>,</span><br><span class="line">            colorCycleSpeed: <span class="number">6</span>,</span><br><span class="line">            verticalPosition: <span class="string">"center"</span>,</span><br><span class="line">            horizontalSpeed: <span class="number">150</span>,</span><br><span class="line">            ribbonCount: <span class="number">5</span>,</span><br><span class="line">            strokeSize: <span class="number">5</span>,</span><br><span class="line">            parallaxAmount: <span class="number">-0.5</span>,</span><br><span class="line">            animateSections: <span class="literal">true</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">this</span>._onDraw = <span class="keyword">this</span>._onDraw.bind(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>._onResize = <span class="keyword">this</span>._onResize.bind(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>._onScroll = <span class="keyword">this</span>._onScroll.bind(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>.setOptions(options);</span><br><span class="line">        <span class="keyword">this</span>.init()</span><br><span class="line">    &#125;;</span><br><span class="line">    Factory.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: Factory,</span><br><span class="line">        setOptions: function (options) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> options === <span class="string">"object"</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> options) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (options.hasOwnProperty(key)) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._options[key] = options[key]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>._canvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"display"</span>] = <span class="string">"block"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"position"</span>] = <span class="string">"fixed"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"margin"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"padding"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"border"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"outline"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"left"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"top"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"width"</span>] = <span class="string">"100%"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"height"</span>] = <span class="string">"100%"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"z-index"</span>] = <span class="string">"-1"</span>;</span><br><span class="line">                <span class="keyword">this</span>._onResize();</span><br><span class="line">                <span class="keyword">this</span>._context = <span class="keyword">this</span>._canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">                <span class="keyword">this</span>._context.clearRect(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">this</span>._width, <span class="keyword">this</span>._height);</span><br><span class="line">                <span class="keyword">this</span>._context.globalAlpha = <span class="keyword">this</span>._options.colorAlpha;</span><br><span class="line">                <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, <span class="keyword">this</span>._onResize);</span><br><span class="line">                <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, <span class="keyword">this</span>._onScroll);</span><br><span class="line">                <span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>._canvas)</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                <span class="built_in">console</span>.warn(<span class="string">"Canvas Context Error: "</span> + e.toString());</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>._onDraw()</span><br><span class="line">        &#125;,</span><br><span class="line">        addRibbon: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> dir = <span class="built_in">Math</span>.round(random(<span class="number">1</span>, <span class="number">9</span>)) &gt; <span class="number">5</span> ? <span class="string">"right"</span> : <span class="string">"left"</span>,</span><br><span class="line">                stop = <span class="number">1000</span>,</span><br><span class="line">                hide = <span class="number">200</span>,</span><br><span class="line">                min = <span class="number">0</span> - hide,</span><br><span class="line">                max = <span class="keyword">this</span>._width + hide,</span><br><span class="line">                movex = <span class="number">0</span>,</span><br><span class="line">                movey = <span class="number">0</span>,</span><br><span class="line">                startx = dir === <span class="string">"right"</span> ? min : max,</span><br><span class="line">                starty = <span class="built_in">Math</span>.round(random(<span class="number">0</span>, <span class="keyword">this</span>._height));</span><br><span class="line">            <span class="keyword">if</span> (<span class="regexp">/^(top|min)$/i</span>.test(<span class="keyword">this</span>._options.verticalPosition)) &#123;</span><br><span class="line">                starty = <span class="number">0</span> + hide</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/^(middle|center)$/i</span>.test(<span class="keyword">this</span>._options.verticalPosition)) &#123;</span><br><span class="line">                starty = <span class="keyword">this</span>._height / <span class="number">2</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/^(bottom|max)$/i</span>.test(<span class="keyword">this</span>._options.verticalPosition)) &#123;</span><br><span class="line">                starty = <span class="keyword">this</span>._height - hide</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> ribbon = [],</span><br><span class="line">                point1 = <span class="keyword">new</span> Point(startx, starty),</span><br><span class="line">                point2 = <span class="keyword">new</span> Point(startx, starty),</span><br><span class="line">                point3 = <span class="literal">null</span>,</span><br><span class="line">                color = <span class="built_in">Math</span>.round(random(<span class="number">0</span>, <span class="number">360</span>)),</span><br><span class="line">                delay = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (stop &lt;= <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                stop--;</span><br><span class="line">                movex = <span class="built_in">Math</span>.round((<span class="built_in">Math</span>.random() * <span class="number">1</span> - <span class="number">0.2</span>) * <span class="keyword">this</span>._options.horizontalSpeed);</span><br><span class="line">                movey = <span class="built_in">Math</span>.round((<span class="built_in">Math</span>.random() * <span class="number">1</span> - <span class="number">0.5</span>) * (<span class="keyword">this</span>._height * <span class="number">0.25</span>));</span><br><span class="line">                point3 = <span class="keyword">new</span> Point();</span><br><span class="line">                point3.copy(point2);</span><br><span class="line">                <span class="keyword">if</span> (dir === <span class="string">"right"</span>) &#123;</span><br><span class="line">                    point3.add(movex, movey);</span><br><span class="line">                    <span class="keyword">if</span> (point2.x &gt;= max) <span class="keyword">break</span></span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dir === <span class="string">"left"</span>) &#123;</span><br><span class="line">                    point3.subtract(movex, movey);</span><br><span class="line">                    <span class="keyword">if</span> (point2.x &lt;= min) <span class="keyword">break</span></span><br><span class="line">                &#125;</span><br><span class="line">                ribbon.push(&#123;</span><br><span class="line">                    point1: <span class="keyword">new</span> Point(point1.x, point1.y),</span><br><span class="line">                    point2: <span class="keyword">new</span> Point(point2.x, point2.y),</span><br><span class="line">                    point3: point3,</span><br><span class="line">                    color: color,</span><br><span class="line">                    delay: delay,</span><br><span class="line">                    dir: dir,</span><br><span class="line">                    alpha: <span class="number">0</span>,</span><br><span class="line">                    phase: <span class="number">0</span></span><br><span class="line">                &#125;);</span><br><span class="line">                point1.copy(point2);</span><br><span class="line">                point2.copy(point3);</span><br><span class="line">                delay += <span class="number">4</span>;</span><br><span class="line">                color += <span class="keyword">this</span>._options.colorCycleSpeed</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>._ribbons.push(ribbon)</span><br><span class="line">        &#125;,</span><br><span class="line">        _drawRibbonSection: <span class="function"><span class="keyword">function</span> (<span class="params">section</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (section) &#123;</span><br><span class="line">                <span class="keyword">if</span> (section.phase &gt;= <span class="number">1</span> &amp;&amp; section.alpha &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (section.delay &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    section.phase += <span class="number">0.02</span>;</span><br><span class="line">                    section.alpha = <span class="built_in">Math</span>.sin(section.phase) * <span class="number">1</span>;</span><br><span class="line">                    section.alpha = section.alpha &lt;= <span class="number">0</span> ? <span class="number">0</span> : section.alpha;</span><br><span class="line">                    section.alpha = section.alpha &gt;= <span class="number">1</span> ? <span class="number">1</span> : section.alpha;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._options.animateSections) &#123;</span><br><span class="line">                        <span class="keyword">var</span> mod = <span class="built_in">Math</span>.sin(<span class="number">1</span> + section.phase * <span class="built_in">Math</span>.PI / <span class="number">2</span>) * <span class="number">0.1</span>;</span><br><span class="line">                        <span class="keyword">if</span> (section.dir === <span class="string">"right"</span>) &#123;</span><br><span class="line">                            section.point1.add(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point2.add(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point3.add(mod, <span class="number">0</span>)</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            section.point1.subtract(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point2.subtract(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point3.subtract(mod, <span class="number">0</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                        section.point1.add(<span class="number">0</span>, mod);</span><br><span class="line">                        section.point2.add(<span class="number">0</span>, mod);</span><br><span class="line">                        section.point3.add(<span class="number">0</span>, mod)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    section.delay -= <span class="number">0.5</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">var</span> s = <span class="keyword">this</span>._options.colorSaturation,</span><br><span class="line">                    l = <span class="keyword">this</span>._options.colorBrightness,</span><br><span class="line">                    c = <span class="string">"hsla("</span> + section.color + <span class="string">", "</span> + s + <span class="string">", "</span> + l + <span class="string">", "</span> + section.alpha + <span class="string">" )"</span>;</span><br><span class="line">                <span class="keyword">this</span>._context.save();</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>._options.parallaxAmount !== <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._context.translate(<span class="number">0</span>, <span class="keyword">this</span>._scroll * <span class="keyword">this</span>._options.parallaxAmount)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>._context.beginPath();</span><br><span class="line">                <span class="keyword">this</span>._context.moveTo(section.point1.x, section.point1.y);</span><br><span class="line">                <span class="keyword">this</span>._context.lineTo(section.point2.x, section.point2.y);</span><br><span class="line">                <span class="keyword">this</span>._context.lineTo(section.point3.x, section.point3.y);</span><br><span class="line">                <span class="keyword">this</span>._context.fillStyle = c;</span><br><span class="line">                <span class="keyword">this</span>._context.fill();</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>._options.strokeSize &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._context.lineWidth = <span class="keyword">this</span>._options.strokeSize;</span><br><span class="line">                    <span class="keyword">this</span>._context.strokeStyle = c;</span><br><span class="line">                    <span class="keyword">this</span>._context.lineCap = <span class="string">"round"</span>;</span><br><span class="line">                    <span class="keyword">this</span>._context.stroke()</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>._context.restore()</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        _onDraw: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, t = <span class="keyword">this</span>._ribbons.length; i &lt; t; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!<span class="keyword">this</span>._ribbons[i]) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._ribbons.splice(i, <span class="number">1</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>._context.clearRect(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">this</span>._width, <span class="keyword">this</span>._height);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">0</span>; a &lt; <span class="keyword">this</span>._ribbons.length; ++a) &#123;</span><br><span class="line">                <span class="keyword">var</span> ribbon = <span class="keyword">this</span>._ribbons[a],</span><br><span class="line">                    numSections = ribbon.length,</span><br><span class="line">                    numDone = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> b = <span class="number">0</span>; b &lt; numSections; ++b) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._drawRibbonSection(ribbon[b])) &#123;</span><br><span class="line">                        numDone++</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (numDone &gt;= numSections) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._ribbons[a] = <span class="literal">null</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>._ribbons.length &lt; <span class="keyword">this</span>._options.ribbonCount) &#123;</span><br><span class="line">                <span class="keyword">this</span>.addRibbon()</span><br><span class="line">            &#125;</span><br><span class="line">            requestAnimationFrame(<span class="keyword">this</span>._onDraw)</span><br><span class="line">        &#125;,</span><br><span class="line">        _onResize: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> screen = screenInfo(e);</span><br><span class="line">            <span class="keyword">this</span>._width = screen.width;</span><br><span class="line">            <span class="keyword">this</span>._height = screen.height;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>._canvas) &#123;</span><br><span class="line">                <span class="keyword">this</span>._canvas.width = <span class="keyword">this</span>._width;</span><br><span class="line">                <span class="keyword">this</span>._canvas.height = <span class="keyword">this</span>._height;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>._context) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._context.globalAlpha = <span class="keyword">this</span>._options.colorAlpha</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        _onScroll: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> screen = screenInfo(e);</span><br><span class="line">            <span class="keyword">this</span>._scroll = screen.scrolly</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> Factory</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">new</span> Ribbons(&#123;</span><br><span class="line">    colorSaturation: <span class="string">"60%"</span>,</span><br><span class="line">    colorBrightness: <span class="string">"50%"</span>,</span><br><span class="line">    colorAlpha: <span class="number">0.5</span>,</span><br><span class="line">    colorCycleSpeed: <span class="number">5</span>,</span><br><span class="line">    verticalPosition: <span class="string">"random"</span>,</span><br><span class="line">    horizontalSpeed: <span class="number">200</span>,</span><br><span class="line">    ribbonCount: <span class="number">3</span>,</span><br><span class="line">    strokeSize: <span class="number">0</span>,</span><br><span class="line">    parallaxAmount: <span class="number">-0.2</span>,</span><br><span class="line">    animateSections: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--彩带2.自动飘动--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.ribbon_flow</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="https://g.joyinshare.com/hc/piao.js" type="text/javascript"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/ribbon_flow.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 彩带2.自动飘动</span></span><br><span class="line"><span class="attr">ribbon_flow:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="代码雨">代码雨</h2><p><strong>存在问题：位置不对</strong></p><p><code>H:\Hexo\themes\yilia\source\js\code_rain.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//获取画布对象</span></span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"code_rain_canvas"</span>);</span><br><span class="line">    <span class="comment">//获取画布的上下文</span></span><br><span class="line">    <span class="keyword">var</span> context =canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    <span class="keyword">var</span> s = <span class="built_in">window</span>.screen;</span><br><span class="line">    <span class="keyword">var</span> W = canvas.width = s.width;</span><br><span class="line">    <span class="keyword">var</span> H = canvas.height;</span><br><span class="line">    <span class="comment">//获取浏览器屏幕的宽度和高度</span></span><br><span class="line">    <span class="comment">//var W = window.innerWidth;</span></span><br><span class="line">    <span class="comment">//var H = window.innerHeight;</span></span><br><span class="line">    <span class="comment">//设置canvas的宽度和高度</span></span><br><span class="line">    canvas.width = W;</span><br><span class="line">    canvas.height = H;</span><br><span class="line">    <span class="comment">//每个文字的字体大小</span></span><br><span class="line">    <span class="keyword">var</span> fontSize = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//计算列</span></span><br><span class="line">    <span class="keyword">var</span> colunms = <span class="built_in">Math</span>.floor(W /fontSize);</span><br><span class="line">    <span class="comment">//记录每列文字的y轴坐标</span></span><br><span class="line">    <span class="keyword">var</span> drops = [];</span><br><span class="line">    <span class="comment">//给每一个文字初始化一个起始点的位置</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;colunms;i++)&#123;</span><br><span class="line">        drops.push(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//运动的文字</span></span><br><span class="line">    <span class="keyword">var</span> str =<span class="string">"WELCOME TO WWW.ITRHX.COM"</span>;</span><br><span class="line">    <span class="comment">//4:fillText(str,x,y);原理就是去更改y的坐标位置</span></span><br><span class="line">    <span class="comment">//绘画的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        context.fillStyle = <span class="string">"rgba(238,238,238,.08)"</span>;<span class="comment">//遮盖层</span></span><br><span class="line">        context.fillRect(<span class="number">0</span>,<span class="number">0</span>,W,H);</span><br><span class="line">        <span class="comment">//给字体设置样式</span></span><br><span class="line">        context.font = <span class="string">"600 "</span>+fontSize+<span class="string">"px  Georgia"</span>;</span><br><span class="line">        <span class="comment">//给字体添加颜色</span></span><br><span class="line">        context.fillStyle = [<span class="string">"#33B5E5"</span>, <span class="string">"#0099CC"</span>, <span class="string">"#AA66CC"</span>, <span class="string">"#9933CC"</span>, <span class="string">"#99CC00"</span>, <span class="string">"#669900"</span>, <span class="string">"#FFBB33"</span>, <span class="string">"#FF8800"</span>, <span class="string">"#FF4444"</span>, <span class="string">"#CC0000"</span>][<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random() * <span class="number">10</span>)];<span class="comment">//randColor();可以rgb,hsl, 标准色，十六进制颜色</span></span><br><span class="line">        <span class="comment">//写入画布中</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;colunms;i++)&#123;</span><br><span class="line">            <span class="keyword">var</span> index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * str.length);</span><br><span class="line">            <span class="keyword">var</span> x = i*fontSize;</span><br><span class="line">            <span class="keyword">var</span> y = drops[i] *fontSize;</span><br><span class="line">            context.fillText(str[index],x,y);</span><br><span class="line">            <span class="comment">//如果要改变时间，肯定就是改变每次他的起点</span></span><br><span class="line">            <span class="keyword">if</span>(y &gt;= canvas.height &amp;&amp; <span class="built_in">Math</span>.random() &gt; <span class="number">0.99</span>)&#123;</span><br><span class="line">                drops[i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            drops[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">randColor</span>(<span class="params"></span>)</span>&#123;<span class="comment">//随机颜色</span></span><br><span class="line">        <span class="keyword">var</span> r = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">var</span> g = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">var</span> b = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"rgb("</span>+r+<span class="string">","</span>+g+<span class="string">","</span>+b+<span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    draw();</span><br><span class="line">    setInterval(draw,<span class="number">35</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--代码雨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.code_rain</span>)&#123; %&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 数字雨 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"code_rain_canvas"</span> <span class="attr">width</span>=<span class="string">"1440"</span> <span class="attr">height</span>=<span class="string">"900"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/code_rain.js"</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span></span><br><span class="line">            #code_rain_canvas &#123;</span><br><span class="line">              position: fixed;</span><br><span class="line">              right: 0px;</span><br><span class="line">              bottom: 0px;</span><br><span class="line">              min-width: 100%;</span><br><span class="line">              min-height: 100%;</span><br><span class="line">              height: auto;</span><br><span class="line">              width: auto;</span><br><span class="line">              z-index: 4;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代码雨</span></span><br><span class="line"><span class="attr">code_rain:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478303678.png" alt="file"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;添加多种页面背景特效，参考：&lt;a href=&quot;https://blog.csdn.net/qq_36759224/article/details/85420403&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo 博客优化之博客美化系列（持续更新）&lt;/a&gt;，需要注意的是：添加背景特效是很消耗浏览器内容的，建议只选择其中的一两个。&lt;/p&gt;
&lt;h2 id=&quot;特效目录&quot;&gt;特效目录&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E5%87%BA%E7%8E%B0%E7%88%B1%E5%BF%83%E7%89%B9%E6%95%88&quot;&gt;鼠标点击出现爱心特效&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%98%BE%E7%A4%BA%E6%96%87%E5%AD%97--%E9%9C%80%E8%A6%81%E5%BC%95%E5%85%A5jquery&quot;&gt;鼠标点击显示文字–需要引入jQuery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%83%9F%E8%8A%B1%E7%88%86%E7%82%B8%E6%95%88%E6%9E%9C&quot;&gt;鼠标点击烟花爆炸效果&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E5%8A%A8%E6%80%81%E7%BA%BF%E6%9D%A1%E8%83%8C%E6%99%AF&quot;&gt;动态线条背景&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%882%E5%A4%A7%E9%9B%AA%E8%8A%B1%E6%9C%89%E9%BD%BF%E8%BD%AE&quot;&gt;雪花特效2.大雪花(有齿轮)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%883%E5%B0%8F%E9%9B%AA%E8%8A%B1%E6%97%A0%E9%BD%BF%E8%BD%AE&quot;&gt;雪花特效3.小雪花(无齿轮)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E5%BD%A9%E5%B8%A61%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E8%87%AA%E5%8A%A8%E6%9B%BF%E6%8D%A2%E5%BD%A9%E5%B8%A6&quot;&gt;彩带1.鼠标点击自动替换彩带&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E5%BD%A9%E5%B8%A62%E8%87%AA%E5%8A%A8%E9%A3%98%E5%8A%A8&quot;&gt;彩带2.自动飘动&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E4%BB%A3%E7%A0%81%E9%9B%A8&quot;&gt;代码雨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加背景图片</title>
    <link href="https://www.yansheng.xyz/article/72a91df5.html"/>
    <id>https://www.yansheng.xyz/article/72a91df5.html</id>
    <published>2019-11-10T09:06:21.000Z</published>
    <updated>2019-11-11T08:48:37.988Z</updated>
    
    <content type="html"><![CDATA[<p>添加背景图片，效果图：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573200205240.png" alt="file"></p><a id="more"></a><p>注：因为有博客不是修改时写的，部分代码没有进行备份，所以有些只能从git中获取代码，有些可能有点乱。</p><p>同时因为每个人选的背景图片可能有所不同，主体颜色可能差异很大，需要调整的颜色可能比较多，这篇博客仅供参考，请自行选择是否替换背景。</p><h3 id="1-左侧边栏">1.左侧边栏</h3><h4 id="取消上半部分的背景颜色">取消上半部分的背景颜色</h4><p>：<code>themes/yilia/layout/_partial/left-col.ejs</code>，如下：这是掉上面的一行代码，使用下面的</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &lt;div class="overlay" style="background: &lt;%= theme.style &amp;&amp; theme.style.header ? theme.style.header : defaultBg %&gt;"&gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 左侧边栏（上半部分）不设置背景颜色 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay"</span> &gt;</span></span><br></pre></td></tr></table></figure><h4 id="添加背景图片">添加背景图片</h4><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，注释掉原有的背景颜色，添加照片：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left-col</span> &#123;</span><br><span class="line">    <span class="comment">/* background:#fff; */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(rgba(255, 255, 255, 0.5), <span class="built_in">rgba</span>(255, 255, 255, 0.5)),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'http://bucket836.oss-cn-shenzhen.aliyuncs.com/wallpaper/381535373.jpeg'</span>) no-repeat <span class="number">0%</span> <span class="number">20%</span>/ cover;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">position</span>:fixed;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transition</span>:all .<span class="number">3s</span> ease-in;</span><br><span class="line">    <span class="attribute">-ms-transition</span>: all .<span class="number">3s</span> ease-in;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>:<span class="number">999</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>根据背景图片修改字体颜色（这步可以自定义），我是将<code>color:#696969</code>改成<code>color:#673ab7</code>:git</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">-    color:#696969</span><br><span class="line">+    <span class="selector-tag">color</span>:<span class="selector-id">#673ab7</span>^<span class="selector-tag">M</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">-    color:#b0a0aa</span><br><span class="line">+    <span class="selector-tag">color</span>: <span class="selector-id">#03A9F4</span>^<span class="selector-tag">M</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.header-subtitle</span> &#123;</span><br><span class="line">     <span class="attribute">text-align</span>:center;</span><br><span class="line">-    color:#999;</span><br><span class="line">+    <span class="selector-tag">color</span>:<span class="selector-id">#673ab7</span>;</span><br><span class="line">     <span class="selector-tag">font-size</span><span class="selector-pseudo">:18px</span>;</span><br></pre></td></tr></table></figure><h3 id="2-右边的文章">2.右边的文章</h3><h4 id="调整背景颜色为透明">调整背景颜色为透明</h4><p>主要是将白色背景变成透明的，<code>background:#fff;</code>–&gt;<code>background: rgba(255,255,255,.5);</code>调整后Git</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.article</span> &#123;</span><br><span class="line">-    margin:30px;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">position</span><span class="selector-pseudo">:relative</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">border</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">border-top</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">border-bottom</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">background</span>:<span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="comment">/* background: rgba(255,255,255,.5); */</span></span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">transition</span><span class="selector-pseudo">:all</span> <span class="selector-class">.2s</span> <span class="selector-tag">ease-in</span></span><br><span class="line">+    <span class="selector-tag">margin</span>: 30<span class="selector-tag">px</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">border-top</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(255,255,255,<span class="selector-class">.5</span>);^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> <span class="selector-class">.2s</span> <span class="selector-tag">ease-in</span>^<span class="selector-tag">M</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>即：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-添加背景图片">3.添加背景图片</h3><p>将白色<code>background-color:#fff;</code>替换为照片：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:Helvetica Neue, Helvetica, STHeiTi, Arial, sans-serif;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#333</span>;</span><br><span class="line">    <span class="comment">/* background-color:#fff; */</span></span><br><span class="line">    <span class="attribute">min-height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(rgba(255, 255, 255, 0.5), <span class="built_in">rgba</span>(255, 255, 255, 0.5)), </span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'https://desk-fd.zol-img.com.cn/t_s960x600c5/g5/M00/02/00/ChMkJlbKw6KIXhXnAA4L-_oxRzUAALG6QBUSg8ADgwT181.jpg'</span>) no-repeat <span class="number">0%</span> <span class="number">0%</span>/ cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 手机端换用一张背景图片，可以不使用 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">body</span> &#123;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/your-name-phone2ys.jpg'</span>) no-repeat fixed top;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="效果：">效果：</h4><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573200205240.png" alt="file"></p><h3 id="4-微调">4.微调</h3><h4 id="4-1调整评论区背景">4.1调整评论区背景</h4><p>原来为白色，现在改为透明。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573203735399.png" alt="file"></p><p>先将之前定义在<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>的样式统一放到<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，如下git diff</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 《valine评论 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.valine</span> &amp;&amp; <span class="attr">theme.valine.appid</span> &amp;&amp; <span class="attr">theme.valine.appkey</span>)&#123; %&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">-      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">-</span>        <span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:<span class="number">30px</span>;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">-</span>        @<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>)&#123;<span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;&#125;</span></span><br><span class="line">-      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">+</span><br><span class="line">       <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">valine</span>', &#123;</span></span><br><span class="line"><span class="tag">         <span class="attr">key:</span> <span class="attr">post.slug</span>,</span></span><br><span class="line"><span class="tag">         <span class="attr">title:</span> <span class="attr">post.title</span>,</span></span><br></pre></td></tr></table></figure><p>在最后面添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 《评论框 */</span></span><br><span class="line"><span class="selector-class">.comments</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="comment">/* background:#fff */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.comments</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>:auto;</span><br><span class="line">        <span class="attribute">padding</span>:<span class="number">10px</span>;</span><br><span class="line">        <span class="comment">/* background:#fff */</span></span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* valine的背景颜色 */</span></span><br><span class="line"><span class="selector-id">#vcomment</span>&#123;</span><br><span class="line"><span class="comment">/* background:#fff */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 设置valine占位符的颜色 */</span></span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-pseudo">:-moz-placeholder</span> &#123; <span class="comment">/* Mozilla Firefox 4 to 18 */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-pseudo">::-moz-placeholder</span> &#123; <span class="comment">/* Mozilla Firefox 19+ */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-tag">input</span><span class="selector-pseudo">:-ms-input-placeholder</span>, <span class="selector-id">#vcomment</span> <span class="selector-tag">textarea</span><span class="selector-pseudo">:-ms-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-input-placeholder</span>,<span class="selector-id">#vcomment</span> <span class="selector-tag">textarea</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 评论框》 */</span></span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573203593161.png" alt="file"></p><p>参考：<a href="https://www.cnblogs.com/yuner-angel/p/8478935.html" target="_blank" rel="noopener">html中怎么设定input的占位符字体颜色</a></p><h4 id="4-2调整归档背景">4.2调整归档背景</h4><p>之前调整的文章背景透明好像没有影响到这个：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573461660402.png" alt="file"></p><p>进行调整：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archives-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>:<span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>:<span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">    <span class="comment">/* background:#fff */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>调整日期颜色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-meta</span> <span class="selector-tag">time</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#aaa */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2f2d2a</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>日期时间大小</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archive-article-inner</span> <span class="selector-class">.article-meta</span> <span class="selector-class">.archive-article-date</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>:default;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>:<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:-<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>微调归档页面的标题样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 丢弃之前的 */</span></span><br><span class="line"><span class="selector-class">.archives</span> <span class="selector-class">.archive-article-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">transition</span>: color .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 修改： */</span></span><br><span class="line"><span class="comment">/* 分类页面的标题 */</span></span><br><span class="line"><span class="selector-class">.archives</span> <span class="selector-class">.archive-article-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="comment">/* color:#333; */</span></span><br><span class="line">    <span class="attribute">transition</span>:color .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.archives</span> <span class="selector-class">.archive-article-title</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#657b83 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为将右边栏的超链接都统一进行了设置，如果不需要特效，可以通过下面的代码取消超链接的下划线样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-tag">a</span><span class="selector-class">.share-outer</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-3主页的文章块的日期取消超链接样式">4.3主页的文章块的日期取消超链接样式</h4><p>日期和文章统计数样式</p><p>原：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archive-article-date</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#999</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">7.6923%</span>;</span><br><span class="line">    <span class="attribute">float</span>:right</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改后：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 日期栏（如果是文章还包含卜算子的页面访问量） */</span></span><br><span class="line"><span class="selector-class">.archive-article-date</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#0087ca; */</span></span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#4b4949</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">7.6923%</span>;</span><br><span class="line">    <span class="attribute">float</span>:right</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 日期 */</span></span><br><span class="line"><span class="selector-class">.archive-article-date</span> <span class="selector-tag">time</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#4b4949</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 日期同一行的文章阅读数量 */</span></span><br><span class="line"><span class="selector-class">.archive-article-date</span><span class="selector-attr">[id=busuanzi_container_page_pv]</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#4b4949</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>主页的“展开全文”按钮样式：受全局超链接样式影响，悬浮后，会变成红色。处理：提前加一个悬浮，掩盖全局的：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 防止鼠标悬浮时，变色，因为会被全局的超链接样式影响 */</span></span><br><span class="line"> <span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>前一页后一页：去掉悬浮的样式，可以直接注释掉：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#article-nav</span> <span class="selector-class">.article-nav-link-wrap</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.article-nav-title</span>, <span class="selector-id">#article-nav</span> <span class="selector-class">.article-nav-link-wrap</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#4d4d4d */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>标签按钮：受全局超链接样式影响，悬浮后，会变成红色。处理：提前加一个悬浮，掩盖全局的：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.tagcloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">+    color:#fff;^M</span><br><span class="line">     <span class="selector-tag">opacity</span><span class="selector-pseudo">:.8</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="4-4手机端头部背景颜色">4.4手机端头部背景颜色</h4><p><code>H:\Hexo\themes\yilia\layout\_partial\mobile-nav.ejs</code>取消内嵌样式，在全局css中进行设置：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--&lt;div class="overlay js-overlay" style="background: &lt;%= theme.style &amp;&amp; theme.style.header ? theme.style.header : defaultBg %&gt;"&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay js-overlay"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>设置成渐变：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mobile-nav</span> <span class="selector-class">.overlay</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>:<span class="number">2</span>;</span><br><span class="line">     <span class="comment">/* 渐变：浅绿色变淡蓝色 */</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#8fecc5,#0badf7);</span><br><span class="line">    <span class="comment">/* 浏览器不支持渐变时显示默认颜色 */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#4d4d4d</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573461729612.png" alt="file"></p><h4 id="4-5鼠标图片">4.5鼠标图片</h4><p>去网上找一种鼠标指针的图片，用图片替换默认的鼠标样式：<code>cursor:url('url'), default;</code>，default表示：如果图片不起效，就是用默认的。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:Helvetica Neue, Helvetica, STHeiTi, Arial, sans-serif;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#333</span>;</span><br><span class="line">    <span class="comment">/* background-color:#fff; */</span></span><br><span class="line">    <span class="attribute">min-height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(rgba(255, 255, 255, 0.5), <span class="built_in">rgba</span>(255, 255, 255, 0.5)), </span><br><span class="line">        <span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/wallpaper/qinshimingyue.jpg'</span>) no-repeat <span class="number">0%</span> <span class="number">0%</span>/ cover;</span><br><span class="line">    <span class="attribute">cursor</span>:<span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/ico/favicon-2019110906554413.ico'</span>), default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 因为超链接默认情况下是：cursor: pointer; 显示为手，这里进行设置 */</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>:<span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/ico/favicon-2019110906554413.ico'</span>), default;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-6行内代码-引用块的背景颜色">4.6行内代码、引用块的背景颜色</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span>, <span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="comment">/* background-color: #f9f2f4; */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(249, 242, 244, .7);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="comment">/* background:#ddd; */</span></span><br><span class="line">    <span class="comment">/* border:2px solid #ccc; */</span></span><br><span class="line">    <span class="attribute">font-family</span>:Menlo, Monaco, Andale Mono, lucida console, Courier New, monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="comment">/* font-size:14px */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">15px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#657b83</span>;</span><br><span class="line">    <span class="comment">/* background:#f6f6f6; */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(246, 246, 246, .7);</span><br><span class="line">    <span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;添加背景图片，效果图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573200205240.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
</feed>
